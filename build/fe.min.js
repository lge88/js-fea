var fe=function(n){function r(e){if(t[e])return t[e].exports;var i=t[e]={exports:{},id:e,loaded:!1};return n[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=n,r.c=t,r.p="",r(0)}([function(n,r,t){var e=t(1);r._=e,r.numeric=t(2),r.geometry={pointset:t(3),topology:t(4)},r.feutils=t(5),r.fens=t(6),r.gcellset=t(7),r.field=t(8),r.property=t(9),r.material=t(10),r.feblock=t(11),r.system=t(12),r.nodalload=t(13),r.forceintensity=t(14),r.integrationrule=t(15),r.ebc=t(16),r.mesh=t(17)},function(n,r,t){function e(){}var i=t(23);i.assign(r,i),r.Bimap=t(18).Bimap,r.array1d=function(n,r){return Array.apply(null,Array(n)).map("function"==typeof r?function(n,t){return r(t)}:function(){return r})};var o=r.array1d;r.array2d=function(n,r,t){return"function"==typeof t?o(n,function(n){return o(r,function(r){return t(n,r)})}):o(n,function(){return o(r,t)})};r.array2d;r.embed=function(n,r){var t,e,u;if(i.isArray(n)&&"number"==typeof r){for(u=o(r,0),t=0,e=n.length<r?n.length:r;e>t;++t)u[t]=n[t];return u}throw new Error("embed(vec, dim): vec must be a Javascript array.")},r.byLexical=function(n,r){for(var t,e=0,i=n.length;i>e;){if(t=n[e]-r[e],0!==t)return t;++e}return t},r.rotateLeft=function(n,r){if("undefined"==typeof r)throw new Error("rotateLeft(): no offset specified.");for(var t=n.length,e=new Array(t),i=(t+r%t)%t,o=0;t>o;)e[o]=n[(i+o)%t],++o;return e};var u=r.rotateLeft;r.rotateRight=function(n,r){return u(n,-r)};r.rotateRight;r.minIndex=function(n,r){return"function"==typeof r?i.reduce(n,function(n,t,e){return r(t,n.value)<0&&(n.value=t,n.index=e),n},{value:1/0,index:-1}).index:i.reduce(n,function(n,r,t){return r<n.value&&(n.value=r,n.index=t),n},{value:1/0,index:-1}).index};var a=r.minIndex;r.isIterator=function(n){return n&&"function"==typeof n.hasNext&&"function"==typeof n.next};r.isIterator;r.noopIterator={hasNext:function(){return!1},next:function(){return null}},r.listFromIterator=function(n){for(var r=[];n.hasNext();)r.push(n.next());return r};r.listFromIterator;r.iteratorFromList=function(n){if(!i.isArray(n))throw new Error("iteratorFromList(lst): lst must be an array.");var r=0,t=n.length;return{hasNext:function(){return t>r},next:function(){return n[r++]}}};r.iteratorFromList;r.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=16*Math.random()|0,t="x"==n?r:3&r|8;return t.toString(16)})};r.uuid;r.normalizedCell=function(n){var r=a(n);return u(n,r)};var c=(r.normalizedCell,t(24)),s=t(22);r._env="dev",r.noop=e,r.defineContract=function(n,t){return"dev"===r._env?function(){try{n.apply(null,arguments)}catch(r){throw"function"==typeof t&&(r.message=t.apply(null,arguments)+"\n"+r.message),t&&(r.message=t+"\n"+r.message),r}}:e};var f=r.defineContract;s.string=c.assert.string,s.unemptyString=c.assert.unemptyString,s.webUrl=c.assert.webUrl,s.length=c.assert.length,s.number=c.assert.number,s.positive=c.assert.positive,s.negative=c.assert.negative,s.odd=c.assert.odd,s.even=c.assert.even,s.integer=c.assert.integer,s["function"]=c.assert["function"],s.array=c.assert.array,s.length=c.assert.length,s.date=c.assert.date,s.object=c.assert.object,s.emptyObject=c.assert.emptyObject,s.instance=c.assert.instance,s.like=c.assert.like,s["null"]=c.assert["null"],s.undefined=c.assert.undefined,s.assigned=c.assert.assigned,s["boolean"]=c.assert["boolean"],r.check=c,r.assert=s,r.ensureMatrixOfDimension=function(n,r,t){return"*"!==n&&s.positive(n),"*"!==r&&s.positive(r),t||(t="input is not a matrix of "+n+" x "+r+"."),f(function(t){s.array(t,"mat is not a JS array"),"*"===n&&(n=t.length),s(t.length===n,"mat length "+t.length+" is not "+n);var e,i;for(e=0;n>e;++e)for(s.array(t[e],"row "+e+" is not a JS array"),"*"===r&&(r=t[e].length),s(t[e].length===r,"row "+e+" has "+t[e].length+" elements instead of "+r),i=0;r>i;++i)s.number(t[e][i],"mat("+[e,i]+") is not a number.")},t)};var l=s.ensureMatrixOfDimension=r.ensureMatrixOfDimension;r.isMatrixOfDimension=function(n,r,t){try{l(r,t)(n)}catch(e){return!1}return!0};c.isMatrixOfDimension=r.isMatrixOfDimension;r.ensureVectorOfDimension=function(n,r){return"*"!==n&&s.positive(n),r||(r="input is not a vector of "+n+" dimension."),f(function(r){s.array(r,"vec is not a JS array"),"*"===n&&(n=r.length),s(r.length===n,"vec length "+r.length+" is not "+n);var t;for(t=0;n>t;++t)s.number(r[t],"vec("+t+"): "+r[t]+" is not a number.")},r)};var p=s.ensureVectorOfDimension=r.ensureVectorOfDimension;r.isVectorOfDimension=function(n,r){try{p(r)(n)}catch(t){return!1}return!0};c.isVectorOfDimension=r.isVectorOfDimension},function(n,r,t){function e(n){return Math.sqrt(A.sum(A.pow(n,2)))}function i(n,r){return n[r]}function o(n,r){return n.map(function(n){return[n[r]]})}function u(n,r,t){var e=f(n),i=e[0],o=e[1];":"===r&&(r=E(i,function(n){return n})),":"===t&&(t=E(o,function(n){return n}));var u=r.length,a=t.length,c=j(u,a,0);return r.forEach(function(r,e){t.forEach(function(t,i){c[e][i]=n[r][t]})}),c}function a(n,r,t,e){var i=f(n),o=i[0],u=i[1];":"===r&&(r=E(o,function(n){return n})),":"===t&&(t=E(u,function(n){return n}));var a=r.length,c=t.length;"number"==typeof e&&(e=j(a,c,e));var s=n;return r.forEach(function(n,r){t.forEach(function(t,i){s[n][t]=e[r][i]})}),s}function c(n,r,t,e){var i=S(n);return a(i,r,t,e)}function s(n,r,t){"number"!=typeof t&&(t=1);var e=[],i=n;if(t>0)for(;r>=i;)e.push(i),i+=t;else{if(!(0>t))throw new Error("colon(): step must not equals to 0.");for(;i>=r;)e.push(i),i+=t}return e}function f(n,r){return 1===r?n.length:2===r?n[0].length:[n.length,n[0].length]}function l(n,r,t){if(!_.isArray(n)||!_.isArray(r))return!1;if(n.length!==r.length)return!1;if(0===n.length)return!1;var e,i=n.length;for(e=0;i>e;++e)if("number"!=typeof n[e])return!1;for(e=0;i>e;++e)if("number"!=typeof r[e])return!1;var o=t||l.TOLERANCE,u=A.sub(n,r),a=A.norm2(u);if(0===a)return!0;var c=a/A.norm2(r);return o>c}function p(n,r,t){if(n.length!==r.length)return!1;var e=n.length;if(0===e)return!1;var i=n[0].length||0;if(0===i)return!1;if(!r||!r[0]||r[0].length!==i)return!1;var o="number"==typeof t?t:p.TOLERANCE,u=A.sub(n,r),a=A.norm2(u);if(0===a)return!0;var c=a/A.norm2(r);return o>c}function h(n){var r=n[0],t=n[1],e=n[2],i=e.length,o=0,u=0;return{hasNext:function(){return i>o},next:function(){var n,i,a,c;n=t[o],i=u,a=e[o],c=[n,i,a];var s=r[u+1];return++o,o>=s&&++u,c}}}function m(n){if(!_.isArray(n))return!1;if(n.length<=0)return!1;if(!_.isArray(n[0]))return!1;var r=n.length,t=n[0].length;if(0>=t)return!1;var e;for(e=1;r>e;++e)if(!_.isArray(n[e])||n[e].length!==t)return!1;return!0}function y(n){return[n.length,n[0].length]}function d(n,r,t){if("number"==typeof n&&n>0&&"number"==typeof r&&r>0)this._m=n,this._n=r,this._data=_.array2d(n,r,"undefined"!=typeof t?t:0);else if(m(n)){this._data=_.cloneDeep(n);var e=y(n);this._m=e[0],this._n=e[1]}else{if(!(n instanceof d))throw new Error("DenseMatrix(m, n): m and n must be positive integer.");this._m=n._m,this._n=n._n,this._data=_.cloneDeep(n._data)}}function g(n,r,t){var e=new d(n);if(null!==r&&e.m()!==r)throw new Error("ensureMatrixDimension(mat, m, n): mat.m = "+e.m()+" but expect m = "+r);if(null!==t&&e.n()!==t)throw new Error("ensureMatrixDimension(mat, m, n): mat.n = "+e.n()+" but expect n = "+t);return n}function v(n,r,t){if((0|r)!==r||0>=r||(0|t)!==t||0>=t)throw new Error("DokSparseMatrix(ijvLst, m, n): m, n must be positive integer.");this._m=r,this._n=t,this._dict={};var e=_.noopIterator;_.isArray(n)?e=_.iteratorFromList(n):_.isIterator(n)&&(e=n);for(var i,o,u,a;e.hasNext();)i=e.next(),o=i[0],u=i[1],a=i[2],this.set_(o,u,a)}function b(n,r){if((0|r)!==r||0>=r)throw new Error("SparseVector(valueList, dimension): dimension must be positive integer.");this._dim=r,this._dict={};var t=_.noopIterator;_.isArray(n)?t=_.iteratorFromList(n):_.isIterator(n)&&(t=n);for(var e,i,o;t.hasNext();)e=t.next(),i=e[0],o=e[1],0!==o&&this.set_(i,o)}function x(n,r){if(n instanceof v&&r instanceof b)return n.solveSparseVector(r);if(n instanceof v&&_.isArray(r))return n.solveVector(r);throw new Error("mldivide(A, b): unsupported type A or b. A, b: "+n+", "+r)}function w(n){return j(n,n,function(n,r){return n===r?1:0})}var _=t(1),S=_.cloneDeep,E=_.array1d,j=_.array2d,k=_.check,M=k.assigned,C=_.listFromIterator,A=t(25),D=A.ccsSparse,O=(A.ccsFull,A.ccsLUP),I=A.ccsLUPSolve;_.assign(r,A),r.norm=e,r.nthRow=i,r.nthColumn=o,r.matSelect=u,r.matUpdate_=a,r.matUpdate=c,r.colon=s,r.size=f,l.TOLERANCE=1e-4,r.vecEquals=l,r.vecEql=l,r.array1dEquals=l,p.TOLERANCE=1e-4,r.array2dEquals=p,r.matrixEquals=p,r.matEql=p,r.ccsValueListIterator=h,r.isMatrixLikeArray=m,d.prototype.at=function(n,r){if(n>=0&&n<this._m&&r>=0&&r<this._n)return this._data[n][r];throw new Error("DenseMatrix::at(): index "+[n,r]+" outof bound "+[this.m,this.n])},d.prototype.size=function(){return[this._m,this._n]},d.prototype.m=function(){return this._m},d.prototype.n=function(){return this._n},d.prototype.set_=function(n,r,t){if(0>n||n>=this._m||0>r||r>=this._n)throw new Error("DenseMatrix::set(): index "+[n,r]+" outof bound "+[this.m,this.n]);if("number"!=typeof t)throw new Error("DenseMatrix::set_(i, j, val): val must be a number.");this._data[n][r]=t},d.prototype.toFull=function(){return _.cloneDeep(this._data)},d.prototype.toCcs=function(){return D(this._data)},r.DenseMatrix=d,r.ensureMatrixDimension=g,v.prototype.size=function(){return[this.m,this.n]},v.prototype.m=function(){return this._m},v.prototype.n=function(){return this._n},v.prototype.at=function(n,r){if(n>=0&&n<this._m&&r>=0&&r<this._n)return this._dict[r]&&this._dict[r][n]?this._dict[r][n]:0;throw new Error("DokSparseMatrix::at(i, j): i,j: "+[n,r]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.set_=function(n,r,t){if(n>=0&&n<this._m&&r>=0&&r<this._n){if("number"!=typeof t)throw new Error("DokSparseMatrix::set_(i, j, val): val must be a number. val = "+t);return this._dict[r]||(this._dict[r]={}),void(this._dict[r][n]=t)}throw new Error("DokSparseMatrix::set_(i, j, val): i,j: "+[n,r]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.toFull=function(){var n=this._m,r=this._n,t=j(n,r,0);return Object.keys(this._dict).forEach(function(n){Object.keys(this._dict[n]).forEach(function(r){t[r][n]=this.at(r,n)},this)},this),t},v.prototype.toCcs=function(){var n=this._dict,r=(this._m,this._n),t=[[0],[],[]],e=E(r,function(r){return"undefined"!=typeof n[r]?Object.keys(n[r]).length:0});e.forEach(function(n){var r=t[0],e=r[r.length-1];r.push(e+n)});var i=Object.keys(n).sort(function(n,r){return parseInt(n)-parseInt(r)});return i.forEach(function(r){Object.keys(n[r]).forEach(function(e){var i=n[r][e];t[1].push(e),t[2].push(i)})}),t},v.prototype.toJSON=function(){return{m:this.m,n:this.n,values:this.toValueList()}},v.prototype.toValueList=function(){var n=[],r=this._dict;return Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){var i=r[t][e];n.push([t,e,i])})}),n},v.prototype.solveVector=function(n){if(this._m!==this._n)throw new Error("DokSparseMatrix::solve can only be used by square matrix where this.m === this.n.");if(this._m!==n.length)throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var r=this.toCcs(),t=O(r);return I(t,n)},v.prototype.solveSparseVector=function(n){if(!(n instanceof b))throw new Error("DokSparseMatrix::solveSparseVector(b): b must be a SparseVector.");if(this._m!==n.length())throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var r=this.toCcs(),t=O(r),e=n.toCcs(),i=I(t,e),o=C(h(i)).map(function(n){return[n[0],n[2]]}),u=new b(o,this._m);return u},r.DokSparseMatrix=v,b.prototype.length=function(){return this._dim},b.prototype.dim=b.prototype.length,b.prototype.nzCount=function(){var n,r=0;for(n in this._dict)++r;return r},b.prototype.at=function(n){if(n>=0&&n<this._dim){var r=this._dict[n];return"number"==typeof r?r:0}throw new Error("SparseVector::at(i): index outof bound.")},b.prototype.valueListIterator=function(){var n=0,r=Object.keys(this._dict),t=r.length,e=this._dict;return r.sort(function(n,r){return parseInt(n)-parseInt(r)}),{hasNext:function(){return t>n},next:function(){var t=r[n],i=[parseInt(t),e[t]];return++n,i}}},b.prototype.equals=function(n,r){var t=this.toList(),e="function"==typeof n.toList?n.toList():n,i=l(t,e,r);return i},b.prototype.set_=function(n,r){if(0>n||n>=this._dim)throw new Error("SparseVector::set_(i): index outof bound.");if("number"!=typeof r)throw new Error("SparseVector::set_(i, val): val must be a number. val = "+r);0!==r&&(this._dict[n]=r)},b.prototype.toCcs=function(){var n,r,t=this._dict,e=(this._dim,[[0,-1],[],[]]),i=0;for(n in t)r=parseInt(n),e[1].push(r),e[2].push(t[r]),++i;return e[0][1]=i,e},b.prototype.toFull=function(){var n=this._dim,r=this._dict;return j(n,1,function(n){return"number"==typeof r[n]?r[n]:0})},b.prototype.toList=function(){var n=this._dim,r=this._dict;return E(n,function(n){return"number"==typeof r[n]?r[n]:0})},r.mldivide=x,r.eye=w,r.zeros=function(n,r){return M(r)||(r=n),j(n,r,0)},r.ones=function(n,r){return M(r)||(r=n),j(n,r,1)},r.SparseVector=b,r.reshape=function(n,r,t){var e=f(n),i=e[0],o=e[1];if(i*o!==r*t)throw new Error("reshape(mat, m, n): can not reshapematrix of "+i+" by "+o+" to "+r+" by "+t);var u,a,c,s,l,p=j(r,t,0);for(u=0;i>u;++u)for(a=0;o>a;++a)l=T(u,a,i,o),e=L(l,r,t),c=e[0],s=e[1],p[c][s]=n[u][a];return p},r.ij2kColumnOrder=function(n,r,t){return t*r+n};var T=r.ij2kColumnOrder;r.k2ijColumnOrder=function(n,r){var t=n%r,e=Math.floor(n/r);return[t,e]};var L=r.k2ijColumnOrder;r.ij2kRowOrder=function(n,r,t,e){return e*n+r};r.ij2kRowOrder;r.k2ijRowOrder=function(n,r,t){var e=n%t,i=Math.floor(n/t);return[i,e]};r.k2ijRowOrder},function(n,r,t){function e(){function n(n){return i.reduce(n,function(n,r){return r.length>n&&(n=r.length),n},0)}var r,t=Array.prototype.slice.call(arguments),e=t.length;if(1===e&&i.isArray(t[0])){if(0===t[0].length)throw new Error("PointSet() Can not determin pointset dimension from []");r=t[0],this._rn=n(r)}else if(2===e&&"number"==typeof t[0]&&"number"==typeof t[1])r=i.array2d(t[0],t[1],0),this._rn=n(r);else if(2===e&&"number"==typeof t[0]&&"function"==typeof t[1])r=i.array1d(t[0],t[1]),this._rn=n(r);else{if(2!==e||!i.isArray(t[0])||"number"!=typeof t[1])throw new Error("PointSet() can not initialize with args: "+t);r=t[0],this._rn=t[1]}this._points=new Array(r.length),i.each(r,function(n,r){var t=i.array1d(this._rn,0);i.each(n,function(n,r){t[r]=n}),this._points[r]=t},this)}var i=t(1),o=t(2),u=o.norm2,a=o.sub;e.prototype.getSize=function(){return this._points.length},e.prototype.__defineGetter__("size",e.prototype.getSize),e.prototype.getRn=function(){return this._rn},e.prototype.__defineGetter__("rn",e.prototype.getRn),e.prototype.clone=function(){return new e(this.toList(),this.rn)},e.prototype.toJSON=function(){var n={};return n.points=this.toList(),n.rn=this.rn,n},e.prototype.toList=function(){return i.cloneDeep(this._points)},e.prototype.equals=function(n){if(this.rn!==n.rn||this.size!==n.size)return!1;var r,t,e=this.size,i=this.rn;for(r=0;e>r;r+=1){var o=this.get(r),u=n.get(r);for(t=0;i>t;++t)if(o[t]!==u[t])return!1}return!0},e.prototype.isEqualTo=e.prototype.equals,e.prototype.get=function(n){if(n>=0&&n<this._points.length)return this._points[n].slice();throw new Error("PointSet::get() index outof bounds.")},e.prototype.at=e.prototype.get,e.prototype.set_=function(n,r){if(n>=0&&n<this._points.length){if(r.length!==this.rn)throw new Error("PointSet::set() point dimension is not matched.");var t=this._points;return void i.each(t[n],function(e,i){t[n][i]=r[i]})}throw new Error("PointSet::set() index outof bounds.")},e.prototype.setAtDir_=function(n,r,t){if(0>r||r>=this.getRn())throw new Error("PointSet::setAtDir_() dir is out of range.");if(n>=0&&n<this._points.length){var e=this._points;return void(e[n][r]=t)}throw new Error("PointSet::set() index outof bounds.")},e.prototype.forEach=function(n){var r,t,e;for(r=0,t=this.getSize();t>r;++r)e=this.get(r),n(e,r)},e.prototype.map=function(n){var r=new Array(this.getSize());return this.forEach(function(t,e){r[e]=n(t,e)}),new e(r)},e.prototype.filter=function(n){var r=[];return this.forEach(function(t,e){n(t,e)&&r.push(t)}),new e(r,this._rn)},e.prototype.embed=function(n){return this.map(function(r){return i.embed(r,n)})},e.prototype.extrude=function(n){var r=n.reduce(function(n,r){var t=n[n.length-1];return n.push(t+r),n},[0]),t=this.rn,o=this._points,u=i.reduce(r,function(n,r){return i.each(o,function(t){var e=i.clone(t);e.push(r),n.push(e)}),n},[]);return new e(u,t+1)},e.prototype.findOne=function(n){var r,t,e=this.getSize();for(r=0;e>r;++r)if(t=this.get(r),n(t,r)===!0)return t;return null},e.prototype.contains=function(n,r){var t=r||e.DEFAULT_PRECISION;return i.isArray(n)&&n.length===this.rn?null!==this.findOne(function(r){return u(a(r,n))<t}):!1},e.prototype.merged=function(n){var r=n||e.DEFAULT_PRECISION,t=[];return this.forEach(function(n){var e=i.any(t,function(t){return u(n,t)<r});e||t.push(n)}),new e(t,this.rn)},e.DEFAULT_PRECISION=1e-6,e.prototype.combineWith=function(n){if(this.rn!==n.rn)throw new Error("Pointset::combineWith(other): pointset rn dismatch.");var r=this.toList();return n.forEach(function(n){r.push(n)}),new e(r,this.rn)},e.prototype.fuse=e.prototype.combineWith,e.prototype.rotate=function(){throw new Error("PointSet::rotate(dims, values) is not implemented")},e.prototype.scale=function(n,r){if(i.isArray(n)&&i.isArray(r)&&n.length===r.length){if(i.max(n)+1>this.rn)throw new Error("PointSet::scale(dims, values): dim must be no greater than rn.");return this.map(function(t){return n.forEach(function(n,e){t[n]=t[n]*r[e]}),t})}throw new Error("PointSet::scale(dims, values): dims and values must be array of same length.")},e.prototype.translate=function(n,r){if(i.isArray(n)&&i.isArray(r)&&n.length===r.length){if(i.max(n)+1>this.rn)throw new Error("PointSet::translate(dims, values): dim must be no greater than rn.");return this.map(function(t){return n.forEach(function(n,e){t[n]=t[n]+r[e]}),t})}throw new Error("PointSet::translate(dims, values): dims and values must be array of same length.")},e.prototype.transform=function(){throw new Error("PointSet::transform(matrix) is not implemented")},e.prototype.prod=function(){throw new Error("PointSet::prod(other) is not implemented.")},r.PointSet=e},function(n,r,t){function e(n,r){if("object"==typeof n&&a(n.complexes)&&(r=n.family,n=n.complexes),"undefined"==typeof r&&(r="P1L2Q4H8"),"P1L2T3T4"!=r&&"P1L3T6T10"!=r&&"P1L2Q4H8"!=r&&"P1L3Q8H20"!=r)throw new Error("Topology(): Unknow topology family "+r);if(this._family=r,!o.isArray(n))throw new Error("Topology(): complexes must be a list of connectiviy list.");var t,e,i,u,c,s,f,l,p;for(u=n.length,t=0;u>t;++t){if(c=n[t],!o.isArray(c))throw new Error("Topology(): connectivity list must be an array.");if(s=c.length,f=this.getFamilyCellSizeInDim(t),s>0)for(e=0;s>e;++e){if(l=c[e],!o.isArray(l))throw new Error("Topology(): cell index list must be an array.");if(l.length!==f)throw new Error("Topology(): inconsist cell size.");for(i=0;f>i;++i)if(p=l[i],(0|p)!==p||0>p)throw new Error("Topology: cell index must be a non-neg integer.")}}var h=o.cloneDeep(n);this._complexes=h}function i(){var n=[];return new e(n,"P1L2T3T4")}{var o=t(1),u=o.check,a=(u.assigned,o.isArray),c=(o.array1d,o.cloneDeep),s=o.normalizedCell,f=o.byLexical;o.Bimap}e.prototype.getDim=function(){return this._complexes.length-1},e.prototype.getNumOfCellsInDim=function(n){if(0>n||n>this.getDim())throw new Error("Topology::getNumOfCellsInDim(): dim out of bound.");return this._complexes[n].length},e.prototype.getFamilyType=function(){return this._family},e.prototype.getFamilyCellSizeInDim=function(n){return e.FAMILY[this._family].cellTypes[n]},e.prototype.getFamilyCellSizeInDim=function(n){return e.FAMILY[this._family].cellSizes[n]},e.prototype.getCellTypeInDim=function(n){if(0>n||n>this.getDim())throw new Error("Topology::getCellTypeInDim(): dim out of bound.");return this.getFamilyCellTypeInDim(n)},e.prototype.getCellSizeInDim=function(n){if(0>n||n>this.getDim())throw new Error("Topology::getCellSizeInDim(): dim out of bound.");return this.getFamilyCellSizeInDim(n)},e.prototype.toList=function(){return o.cloneDeep(this._complexes)},e.prototype.toJSON=function(){return{complexes:this.toList(),family:this._family}},e.prototype.clone=function(){return new e(this.toJSON())},e.prototype.normalized=function(){var n=c(this._complexes);return n.forEach(function(n){n.forEach(function(r,t){n[t]=s(r)}),n.sort(f)}),new e(n,this._family)},e.prototype.equals=function(n){if(this._family!=n._family)return!1;if(this.getDim()!==n.getDim())return!1;var r,t=this.getDim();for(r=0;t>=r;++r)if(this.getCellSizeInDim(r)!==n.getCellSizeInDim(r))return!1;var e,i;for(r=0;t>=r;++r)for(i=this.getNumOfCellsInDim(r),e=0;i>e;++e)if(!o.isEqual(this._complexes[r][e],n._complexes[r][e]))return!1;return!0},e.prototype.getCellsInDim=function(n){return o.cloneDeep(this._complexes[n])},e.prototype.getMaxCells=function(){return this.getCellsInDim(this.getDim())},e.prototype.getPointIndices=function(){return this._complexes[0].map(function(n){return n[0]})},e.prototype.extrude=function(n){var r=this.getDim(),t=this.getCellsInDim(r),i=e.FAMILY[this._family].extrude,o=e.FAMILY[this._family].create,u=i(t,r,n),a=o(u,r+1);return new e(a,this._family)},e.prototype.skeleton=function(n){"undefined"==typeof n&&(n=this.getDim()-1);var r=this._complexes.slice(0,n+1);return new e(r,this._family)},e.prototype.boundaryConn=function(){var n=e.FAMILY[this._family].boundaryConn,r=this.getDim(),t=this.getCellsInDim(r);return n(t,r)},e.prototype.boundary=function(){var n=e.FAMILY[this._family].create,r=this.boundaryConn(),t=this.getDim(),i=n(r,t-1);return new e(i,this._family)},i.prototype=Object.create(e.prototype),i.prototype.constructor=i,e.FAMILY={P1L2T3T4:{cellSizes:[1,2,3,4],cellTypes:["P1","L2","T3","T4"],extrude:function(){},create:function(){},boundaryConn:function(){}},P1L3T6T10:{cellSizes:[1,3,6,10],cellTypes:["P1","L3","T6","T10"],extrude:function(){},create:function(){},boundaryConn:function(){}},P1L2Q4H8:t(19),P1L3Q8H20:{cellSizes:[1,3,8,20],cellTypes:["P1","L3","Q8","H20"],extrude:function(){},create:function(){},boundaryConn:function(){}}},r.Topology=e,r.hypercube=function(n,r){var t=e.FAMILY.P1L2Q4H8.create,i=t(n,r);return new e(i,"P1L2Q4H8")},r.simplex=i},function(n,r,t){function e(n,r){var t=u(r),e=t[0],o=t[1];if(e===o)return a(e);var h=r.map(function(n){return[n[0]]});switch(h=c(h,l(h)),o){case 1:return h;case 2:var m=f(r,1),y=s(i(h),m);y=c(y,p(m));var d=s(i(y),h);d=c(d,p(d));var g=h.map(function(n,r){return n.push(d[r][0]),n});return g;default:throw new Error("genISORm: incorrect size of tangents, ntan = "+o)}}function i(n){var r,t=n.length;if(3===t)r=[[0,-n[2],n[1]],[n[2],0,-n[0]],[-n[1],n[0],0]];else{if(2!==t)throw new Error("skewmat(theta): theta must be a vector of 2 or 3.");r=[-n[1],n[0]]}return r}var o=t(2),u=o.size,a=o.eye,c=o.div,s=o.dot,f=o.nthColumn,l=o.norm2,p=o.norm;r.isXyzInsideBox=function(n,r){var t,e,i,o,u=n.length,a=!0;for(t=0;u>t;++t)if(e=n[t],i=r[2*t],o=r[2*t+1],i>e||e>o)return!1;return a},r.genISORm=e,r.skewmat=i},function(n,r,t){function e(n){this._xyz=a.instance(n.xyz,l)?n.xyz.clone():new l(n.xyz)}{var i=t(1),o=i.cloneDeep,u=i.embed,a=i.check,c=i.assert,s=i.defineContract,f=i.isMatrixOfDimension,l=(i.vectorOfDimension,t(3).PointSet),p=t(5),h=p.isXyzInsideBox;s(function(n){if(c.object(n),c.assigned(n.xyz),!(f(n.xyz,"*",1)||f(n.xyz,"*",2)||f(n.xyz,"*",3)||a.instance(n.xyz,l)))throw new Error("Not valid xyz for fens.")},"Input is not a valid fens option.")}e.prototype.map=function(n){var r=this._xyz.map(n);return new e({xyz:r})},e.prototype.combineWith=function(n){var r=this._xyz.combineWith(n._xyz);return new e({xyz:r})},e.prototype.extrude=function(n){var r=this._xyz.extrude(n);return new e({xyz:r})},e.prototype.dim=function(){return this._xyz.getRn()},e.prototype.embed=function(n){var r=this._xyz.embed(n);return new e({xyz:r})},e.prototype.xyz=function(){return this._xyz.toList()},e.prototype.xyzAt=function(n){return this._xyz.get(n)},e.prototype.get=e.prototype.xyzAt,e.prototype.xyzIter=function(){var n=0,r=this._xyz,t=r.getSize();return{hasNext:function(){return t>n},next:function(){return r.get(n++)}}},e.prototype.xyz3=function(){return this._xyz.embed(3).toList()},e.prototype.xyz3At=function(n){return u(this._xyz.get(n),3)},e.prototype.xyz3Iter=function(){var n=this.xyzIter();return{hasNext:function(){return n.hasNext()},next:function(){return u(n.next(),3)}}},e.prototype.count=function(){return this._xyz.getSize()},e.prototype.boxSelect=function(n){if(!n||!n.bounds||n.bounds.length!==2*this.dim())throw new Error("FeNodeSet::boxSelect() invalid options.bounds");var r,t,e=o(n.bounds),i=e.length;if("number"==typeof n.inflate)for(t=Math.abs(n.inflate),r=0;i>r;++r)r%2==0?e[r]-=t:e[r]+=t;var u,a,c=(this.dim(),this.nfens()),s=[];for(u=0;c>u;++u)a=this.xyzAt(u),h(a,e)&&s.push(u);return s},e.prototype.nfens=e.prototype.count,r.FeNodeSet=e},function(n,r,t){function e(n,r,t){return r.every(function(r){var e=n.xyzAt(r);return C(e,t)})}function i(n,r,t){return r.some(function(r){var e=n.xyzAt(r);return C(e,t)})}function o(n,r){var t=[];return r.forEach(function(r){return t.push(c(n[r]))}),t}var u=t(1),a=u.uuid,c=u.cloneDeep,s=(u.noop,u.defineContract,u.assert),f=u.check,l=f.assigned,p=f.object,h=f.array,m=f.instance,y=f.number,d=f["function"],g=(s.matrixOfDimension,s.vectorOfDimension,t(2)),v=g.size,b=g.norm,x=g.nthColumn,w=g.dot,_=g.mul,S=g.inv,E=g.det,j=g.transpose,k=t(5),M=k.skewmat,C=k.isXyzInsideBox,A=t(4),D=A.Topology,O=A.hypercube,I=(A.hypercubeBoundary,t(6)),T=I.FeNodeSet;r.GCellSet=function(n){if(!p(n)||!m(n.topology,D))throw new Error("GCellSet#constructor(options): options is not a valid GCellSetInitOption.");this._axisSymm=null,this._otherDimension=null,this._id=null,this._topology=null,this._otherDimension=y(n.otherDimension)||d(n.otherDimension)?n.otherDimension:1,this._axisSymm=l(n.axisSymm)?!!n.axisSymm:!1;var r=n.topology,t=r.getCellSizeInDim(r.getDim()),e=this.cellSize();if(t!==e)throw new Error("GCellSet(): cellSize of the topology dismatch.");var i=r.getDim(),o=this.dim();if(i!==o)throw new Error("GCellSet(): dim of the topology dismatch.");this._id=a(),this._topology=r};var L=r.GCellSet;r.GCellSet.prototype.topology=function(){return this._topology},r.GCellSet.prototype.equals=function(n){return m(n,L)?this.type()!==n.type()||this.cellSize()!==n.cellSize()?!1:this.axisSymm()!==n.axisSymm()||this.otherDimension()!==n.otherDimension()?!1:this._topology.normalized().equals(n._topology.normalized())?!0:!1:!1},r.GCellSet.prototype.otherDimension=function(n,r,t){return"function"==typeof this._otherDimension?this._otherDimension(n,r,t):this._otherDimension},r.GCellSet.prototype.axisSymm=function(){return this._axisSymm},r.GCellSet.prototype.vertices=function(){return this._topology.getPointIndices()},r.GCellSet.prototype.edges=function(){return this._topology.getCellsInDim(1)},r.GCellSet.prototype.triangles=function(){return this._topology.getCellsInDim(2)},r.GCellSet.prototype.type=function(){throw new Error("GCellSet::type(): is not implemented.")},r.GCellSet.prototype.boundaryGCellSetConstructor=function(){throw new Error("GCellSet::getBoundaryGCellSetConstructor(): is not implemented.")},r.GCellSet.prototype.boundaryCellType=function(){var n=this.boundaryGCellSetConstructor();return n.prototype.type.call(null)},r.GCellSet.prototype.boundaryConn=function(){return this._topology.boundaryConn()},r.GCellSet.prototype.boundary=function(){var n=this.boundaryGCellSetConstructor(),r=this.boundaryConn();return new n({conn:r})},r.GCellSet.prototype.extrudedGCellSetConstructor=function(){var n=this._topology.getFamilyType(),t=D.FAMILY[n].cellTypes,e=this.type(),i=t.indexOf(e);if(0>i)throw new Error("GCellSet::extrudedGCellSetConstructor(): unknow type "+e);var o=i+1;if(o>=t.length)throw new Error("GCellSet::extrudedGCellSetConstructor(): unknow extruded type for "+e);var u=t[o];return r[u]},r.GCellSet.prototype.setFamily_=function(n){("P1L2T3T4"===n||"P1L3T6T10"===n||"P1L2Q4H8"===n||"P1L3Q8H20"===n)&&(this._topology._family=n)},r.GCellSet.prototype.extrude=function(n){var r=this.extrudedGCellSetConstructor();return new r({topology:this._topology.extrude(n),axisSymm:this._axisSymm,otherDimension:this._otherDimension})},r.GCellSet.prototype.boxSelect=function(n,r){if(!m(n,T))throw new Error("GCellSet#boxSelect(fens, options): fens must be a FeNodeSet instance.");if(!p(r)||!h(r.bounds))throw new Error("GCellSet#boxSelect(fens, options): options is not valid boxSelectOption.");var t=r.bounds;y(r.inflate)&&(t=t.map(function(n,t){return t%2===0?n-r.inflate:n+r.inflate}));var o,u=!1;l(r.any)&&(u=!!r.any),o=u?i:e;var a=this.conn(),c=[];return a.forEach(function(r,e){o(n,r,t)&&c.push(e)}),c},r.GCellSet.prototype.dim=function(){throw new Error("GCellSet::dim(): is not implemented.")},r.GCellSet.prototype.cellSize=function(){throw new Error("GCellSet::cellSize(): is not implemented.")},r.GCellSet.prototype.id=function(){return this._id},r.GCellSet.prototype.conn=function(){return this._topology.getMaxCells()},r.GCellSet.prototype.jacobianMatrix=function(n,r){return w(j(r),n)},r.GCellSet.prototype.bfun=function(){throw new Error("GCellSet::bfun(): is not implemented.")},r.GCellSet.prototype.bfundpar=function(){throw new Error("GCellSet::bfundpar(): is not implemented.")},r.GCellSet.prototype.bfundsp=function(n,r){var t=_(j(r),n),e=w(n,S(t));return e},r.GCellSet.prototype.count=function(){return this._topology.getNumOfCellsInDim(this._topology.getDim())},r.GCellSet.prototype.nfens=function(){return this._topology.getNumOfCellsInDim(0)},r.GCellSet.prototype.subset=function(n){var r=o(this.conn(),n),t=this.constructor;return new t({conn:r,axisSymm:this._axisSymm,otherDimension:this._otherDimension})},r.GCellSet.prototype.clone=function(){var n=this.constructor;return new n({topology:this._topology.clone(),axisSymm:this._axisSymm,otherDimension:this._otherDimension})},r.GCellSetManifold0=function(n){L.call(this,n)};var P=r.GCellSetManifold0;P.prototype=Object.create(L.prototype),P.prototype.constructor=P,r.GCellSetManifold0.prototype.dim=function(){return 0},r.GCellSetManifold0.prototype.jacobian=function(){var n=1;return n},r.GCellSetManifold0.prototype.jacobianCurve=function(n,r,t,e){var i,o;return this.axisSymm()?(o=w(j(r),e)[0],i=2*Math.PI*o[0]):i=1*this.otherDimension(n,r,e),i},r.GCellSetManifold0.prototype.jacobianSurface=function(n,r,t,e){var i,o;return this.axisSymm()?(o=w(j(r),e)[0],i=2*Math.PI*o[0]*this.otherDimension(n,r,e)):i=1*this.otherDimension(n,r,e),i},r.GCellSetManifold0.prototype.jacobianVolumn=function(n,r,t,e){var i;if(this.axisSymm()){var o=_(j(r),e)[0];i=2*this.jacobianCurve(n,r,t,e)*Math.PI*o[0]*this.otherDimension(n,r,e)}else i=this.jacobianCurve(n,r,t,e)*this.otherDimension(n,r,e);return i},r.GCellSetManifold0.prototype.jacobianInDim=function(n,r,t,e,i){var o;switch(i){case 3:o=this.jacobianVolumn(n,r,t,e);break;case 2:o=this.jacobianSurface(n,r,t,e);break;case 1:o=this.jacobianCurve(n,r,t,e);break;default:throw new Error("GCellSetManifold0::jacobianInDim(): wrong dimension "+i)}return o},r.GCellSetManifold1=function(n){L.call(this,n)};var F=r.GCellSetManifold1;F.prototype=Object.create(L.prototype),F.prototype.constructor=F,r.GCellSetManifold1.prototype.dim=function(){return 1},r.GCellSetManifold1.prototype.jacobian=function(n,r,t,e){var i=this.jacobianCurve(n,r,t,e);return i},r.GCellSetManifold1.prototype.jacobianCurve=function(n,r,t){var e=j(t)[0],i=b(e);return i},r.GCellSetManifold1.prototype.jacobianSurface=function(n,r,t,e){var i,o;return this.axisSymm()?(o=w(j(r),e)[0],i=2*this.jacobianCurve(n,r,t,e)*Math.PI*o[0]):i=this.jacobianCurve(n,r,t,e)*this.otherDimension(n,r,e),i},r.GCellSetManifold1.prototype.jacobianVolumn=function(n,r,t,e){var i,o;return this.axisSymm()?(o=w(j(r),e)[0],i=2*this.jacobianCurve(n,r,t,e)*Math.PI*o[0]*this.otherDimension(n,r,e)):i=this.jacobianCurve(n,r,t,e)*this.otherDimension(n,r,e),i
},r.GCellSetManifold1.prototype.jacobianInDim=function(n,r,t,e,i){var o;switch(i){case 3:o=this.jacobianVolumn(n,r,t,e);break;case 2:o=this.jacobianSurface(n,r,t,e);break;case 1:o=this.jacobianCurve(n,r,t,e);break;default:throw new Error("GCellSetManifold1::jacobianInDim(): wrong dimension "+i)}return o},r.GCellSetManifold2=function(n){L.call(this,n)};var N=r.GCellSetManifold2;N.prototype=Object.create(L.prototype),N.prototype.constructor=N,r.GCellSetManifold2.prototype.dim=function(){return 2},r.GCellSetManifold2.prototype.jacobian=function(n,r,t,e){return this.jacobianSurface(n,r,t,e)},r.GCellSetManifold2.prototype.jacobianSurface=function(n,r,t){var e,i=v(t),o=i[0],u=i[1];if(2!==u)throw new Error("GCellSetManifold2::jacobianSurface(): is not implemented when ntan is not 2");return o===u?e=t[0][0]*t[1][1]-t[1][0]*t[0][1]:(e=M(x(t,0)),e=w(e,x(t,1)),e=b(e)),e},r.GCellSetManifold2.prototype.jacobianVolumn=function(n,r,t,e){var i,o;return this.axisSymm()?(i=w(j(r),e)[0],o=2*this.jacobianSurface(n,r,t,e)*Math.PI*i[0]):o=this.jacobianSurface(n,r,t,e)*this.otherDimension(n,r,e),o},r.GCellSetManifold2.prototype.jacobianInDim=function(n,r,t,e,i){switch(i){case 3:return this.jacobianVolumn(n,r,t,e);case 2:return this.jacobianSurface(n,r,t,e);default:throw new Error("GCellSetManifold2::jacobianInDim(): unsupported dim "+i)}},r.GCellSetManifold3=function(n){L.call(this,n)};var z=r.GCellSetManifold3;z.prototype=Object.create(L.prototype),z.prototype.constructor=z,r.GCellSetManifold3.prototype.dim=function(){return 3},r.GCellSetManifold3.prototype.jacobian=function(n,r,t,e){var i=this.jacobianVolumn(n,r,t,e);return i},r.GCellSetManifold3.prototype.jacobianVolumn=function(n,r,t){var e,i=v(t),o=(i[0],i[0]);if(3!==o)throw new Error("GCellSetManifold3#jacobianVolumn(): incorrect size of tangents.");return e=E(t)},r.GCellSetManifold3.prototype.jacobianInDim=function(n,r,t,e,i){switch(i){case 3:return this.jacobianVolumn(n,r,t,e);default:throw new Error("GCellSetManifold3::jacobianInDim(): unsupported dim "+i)}},r.P1=function(n){if(!n||!n.conn&&!n.topology)throw new Error("P1#constructor(options): options is not a valid P1InitOption");n.conn&&(n.topology=O(n.conn,0)),P.call(this,n)};var V=r.P1;V.prototype=Object.create(P.prototype),V.prototype.constructor=V,r.P1.prototype.boundaryGCellSetConstructor=function(){return null},r.P1.prototype.edges=function(){return[]},r.P1.prototype.triangles=function(){return[]},r.P1.prototype.cellSize=function(){return 1},r.P1.prototype.type=function(){return"P1"},r.P1.prototype.bfun=function(){return[[1]]},r.P1.prototype.bfundpar=function(){return[[0]]},r.L2=function(n){if(!n||!n.conn&&!n.topology)throw new Error("L2#constructor(options): options is not a valid L2InitOption");n.conn&&(n.topology=O(n.conn,1)),F.call(this,n)};var q=r.L2;q.prototype=Object.create(F.prototype),q.prototype.constructor=q,r.L2.prototype.boundaryGCellSetConstructor=function(){return V},r.L2.prototype.triangles=function(){return[]},r.L2.prototype.cellSize=function(){return 2},r.L2.prototype.type=function(){return"L2"},r.L2.prototype.bfun=function(n){var r=n[0],t=[[.5*(1-r)],[.5*(1+r)]];return t},r.L2.prototype.bfundpar=function(){return[[-.5],[.5]]},r.Q4=function(n){if(!n||!n.conn&&!n.topology)throw new Error("Q4#constructor(options): options is not a valid Q4InitOption");n.conn&&(n.topology=O(n.conn,2)),N.call(this,n)};var G=r.Q4;G.prototype=Object.create(N.prototype),G.prototype.constructor=G,r.Q4.prototype.cellSize=function(){return 4},r.Q4.prototype.type=function(){return"Q4"},r.Q4.prototype.boundaryGCellSetConstructor=function(){return q},r.Q4.prototype.triangles=function(){var n=this._topology.getCellsInDim(2),r=[];return n.forEach(function(n){var t=[n[0],n[1],n[2]],e=[n[2],n[3],n[0]];r.push(t,e)}),r},r.Q4.prototype.bfun=function(n){var r=1-n[0],t=1+n[0],e=1-n[1],i=1+n[1],o=[[.25*r*e],[.25*t*e],[.25*t*i],[.25*r*i]];return o},r.Q4.prototype.bfundpar=function(n){var r=n[0],t=n[1],e=[[.25*-(1-t),.25*-(1-r)],[.25*(1-t),.25*-(1+r)],[.25*(1+t),.25*(1+r)],[.25*-(1+t),.25*(1-r)]];return e},r.H8=function(n){if(!n||!n.conn&&!n.topology)throw new Error("H8#constructor(options): options is not a valid H8InitOption");n.conn&&(n.topology=O(n.conn,3)),z.call(this,n)};var R=r.H8;R.prototype=Object.create(z.prototype),R.prototype.constructor=R,r.H8.prototype.cellSize=function(){return 8},r.H8.prototype.type=function(){return"H8"},r.H8.prototype.boundaryGCellSetConstructor=function(){return G},r.H8.prototype.triangles=function(){var n=this._topology.getCellsInDim(3),r=[];return n.forEach(function(n){var t=[n[0],n[3],n[1]],e=[n[1],n[3],n[2]],i=[n[0],n[1],n[4]],o=[n[1],n[5],n[4]],u=[n[1],n[2],n[5]],a=[n[6],n[5],n[2]],c=[n[2],n[3],n[7]],s=[n[7],n[6],n[2]],f=[n[0],n[4],n[7]],l=[n[4],n[7],n[3]],p=[n[4],n[5],n[6]],h=[n[6],n[7],n[4]];r.push(t,e,i,o,u,a),r.push(c,s,f,l,p,h)}),r},r.H8.prototype.bfun=function(n){var r=1-n[0],t=1-n[1],e=1-n[2],i=1+n[0],o=1+n[1],u=1+n[2],a=[[.125*r*t*e],[.125*i*t*e],[.125*i*o*e],[.125*r*o*e],[.125*r*t*u],[.125*i*t*u],[.125*i*o*u],[.125*r*o*u]];return a},r.H8.prototype.bfundpar=function(n){var r=1-n[0],t=1-n[1],e=1-n[2],i=1+n[0],o=1+n[1],u=1+n[2],a=[[-t*e,t*e,o*e,-o*e,-t*u,t*u,o*u,-o*u],[-r*e,-i*e,i*e,r*e,-r*u,-i*u,i*u,r*u],[-r*t,-i*t,-i*o,-r*o,r*t,i*t,i*o,r*o]];return a=_(j(a),.125)}},function(n,r,t){var e=t(1),i=e.cloneDeep,o=e.check,u=e.assert,a=o.isVectorOfDimension,c=e.array2d,s=e.array1d,f=e.defineContract,l=u.ensureMatrixOfDimension,p=t(3).PointSet,h=t(6).FeNodeSet,m=f(function(n){if(u.object(n),o.assigned(n.values))l("*","*","values is not a valid matrix.")(n.values);else if(o.assigned(n.nfens)&&o.assigned(n.dim)){if(u.integer(n.nfens),u.integer(n.dim),n.nfens<0)throw new Error("nfens must > 0.");if(n.dim<0)throw new Error("dim must > 0")}else if(o.assigned(n.fens))u.instance(n.fens,h);else{if(!o.assigned(n.pointset))throw new Error("");u.instance(n.pointset,p)}o.assigned(n.ebcs)&&u.array(n.ebcs,"ebcs must be a array of valid EBC object")},"Input is not a valid Field option.");r.Field=function(n){if(m(n),this._values=null,this._prescribed=null,this._prescribedValues=null,this._eqnums=null,this._neqns=-1,o.assigned(n.values)?this._values=new p(n.values):o.assigned(n.pointset)?this._values=n.pointset.clone():o.assigned(n.fens)?this._values=new p(n.fens.xyz()):o.assigned(n.nfens)&&o.assigned(n.dim)&&(this._values=new p(n.nfens,n.dim)),o.assigned(n.ebcs)){var r=c(this.nfens(),this.dim(),!1),t=c(this.nfens(),this.dim(),0);this._prescribed=r,this._prescribedValues=t,n.ebcs.forEach(function(n){n.applyToField_(this)},this)}};var y=r.Field;r.Field.prototype.nfens=function(){return this._values.getSize()},r.Field.prototype.neqns=function(){return this._eqnums||this._numberEqnums_(),this._neqns},r.Field.prototype.dim=function(){return this._values.getRn()},r.Field.prototype.values=function(){return this._values.toList()},r.Field.prototype.map=function(n){var r=this._values.map(n),t=new y({pointset:r});return t},r.Field.prototype.clone=function(){var n=this._values.clone(),r=new y({pointset:n});return r._neqns=this._neqns,r._eqnums=i(this._eqnums),r._prescribed=i(this._prescribed),r._prescribedValues=i(this._prescribedValues),r},r.Field.prototype._bop=function(n,r,t){if(o.number(n))return this.map(function(t){return t.map(function(t){return r(t,n)})});if(o.instance(n,y)&&n.dim()===this.dim()&&n.nfens()===this.nfens())return this.map(function(t,e){return t.map(function(t,i){return r(t,n.at(e)[i])})});if(o.array(n)&&n.length===this.dim())return this.map(function(t){return t.map(function(t,e){return r(t,n[e])})});throw new Error("Field::"+t+"(other, bopFn): other must be a number , a field of same this.nfens() and this.dim() or an array of length this.dim().")},r.Field.prototype.bop=function(n,r){return this._bop(n,r,r.name||"custom binary function")},r.Field.prototype.mul=function(n){return this._bop(n,function(n,r){return n*r},"mul")},r.Field.prototype.scale=r.Field.prototype.mul,r.Field.prototype.add=function(n){return this._bop(n,function(n,r){return n+r},"add")},r.Field.prototype.sub=function(n){return this._bop(n,function(n,r){return n-r},"sub")},r.Field.prototype.div=function(n){return this._bop(n,function(n,r){return n/r},"div")},r.Field.prototype.at=function(n){return this._values.get(n)},r.Field.prototype.pointset=function(){return this._values},r.Field.prototype.isPrescribed=function(n,r){return this._prescribed?this._prescribed[n][r]:!1},r.Field.prototype.prescribedValue=function(n,r){return this.isPrescribed(n,r)?this._prescribedValues[n][r]:0},r.Field.prototype.setPrescribedValue_=function(n,r,t){this._prescribed[n][r]=!0,this._prescribedValues[n][r]=t,this._values.setAtDir_(n,r,t)},r.Field.INVALID_EQUATION_NUM=-1,r.Field.prototype._numberEqnums_=function(){var n,t,e=c(this.nfens(),this.dim(),r.Field.INVALID_EQUATION_NUM),i=0,o=this.nfens(),u=this.dim();for(n=0;o>n;++n)for(t=0;u>t;++t)this.isPrescribed(n,t)||(e[n][t]=i++);this._eqnums=e,this._neqns=i},r.Field.prototype.eqnum=function(n,r){if(this._eqnums||this._numberEqnums_(),0>n||n>=this.nfens())throw new Error("Field::eqnum(): index out of range.");if(0>r||r>=this.dim())throw new Error("Field::eqnum(): direction out of range.");return this._eqnums[n][r]},r.Field.prototype.gatherEqnumsVector=function(n){var r=[],t=this.dim();return n.forEach(function(n){var e;for(e=0;t>e;++e)r.push(this.eqnum(n,e))},this),r},r.Field.prototype.gatherValuesMatrix=function(n){var r=n.length,t=(this.dim(),s(r,null));return n.forEach(function(n,r){t[r]=this._values.get(n)},this),t},r.Field.prototype.gatherPrescirbedValues=function(n){var r=[],t=this.dim();return n.forEach(function(n){var e;for(e=0;t>e;++e)r.push(this.prescribedValue(n,e))},this),r},r.Field.prototype.scatterSystemVector_=function(n){var t=this.neqns();if(!a(n,t))throw new Error("Field::scatterSystemVector(): vec is not a vector of dimension "+t);this._eqnums||this._numberEqnums_();var e,i,o,u,c=this._eqnums,s=this.nfens(),f=this.dim(),l=this._values;for(e=0;s>e;++e)for(i=0;f>i;++i)o=c[e][i],o!==r.Field.INVALID_EQUATION_NUM&&(u=n[o],l.setAtDir_(e,i,u))},r.Field=y},function(n,r,t){function e(n){this._rho=n&&"number"==typeof n.rho?n.rho:1}function i(n){d(n),e.call(this,n),this._E=n.E,this._nu=n.nu,a.assigned(this._nu)||(this._nu=0)}var o=t(1),u=o.assert,a=o.check,c=u.ensureMatrixOfDimension,s=c(6,6),f=t(2),l=f.diag,p=f.transpose,h=f.add,m=f.dot,y=f.mul;e.prototype.rho=function(){return this._rho},r.MaterialProperty=e;var d=o.defineContract(function(n){if(u.object(n,"props is not a JS object"),u.undefined(n.G,"props.G should not be set, it is compute from E and nu."),u.positive(n.E,"props.E is not a positive number."),a.assigned(n.nu)&&(u.number(n.nu,"props.nu is not a number."),n.nu<0))throw new Error("props.nu < 0.")},"input is not a valid linear elasitc iso property.");r.LinElIso=i,i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.E=function(){return this._E},i.prototype.nu=function(){return this._nu},i.prototype.G=function(){return this._G||(this._G=.5*this._E/(1+this._nu)),this._G};var g=s;i.prototype.D=function(){if(!this._D){var n=this.E(),r=this.nu(),t=(this.G(),n*r/((1+r)*(1-2*r))),e=n/(2*(1+r)),i=l([1,1,1,.5,.5,.5]),o=p([[1,1,1,0,0,0]]);this._D=h(y(t,m(o,p(o))),y(2*e,i))}return g(this._D),this._D}},function(n,r,t){var e=t(1),i=e.check,o=i.object,u=i.instance,a=(e.assert,t(2)),c=a.matSelect,s=a.matUpdate_,f=a.mul,l=a.div,p=a.dot,h=a.add,m=t(9),y=m.LinElIso;r.Material=function(){};var d=r.Material;r.Material.prototype.newState=function(){throw new Error("Material::newState(): is not implemented.")},r.Material.prototype.update=function(){throw new Error("Material::update(): is not implemented.")},r.DeforSSLinElUniax=function(n){if(!o(n)||!u(n.property,y))throw new Error("DeforSSLinElUniax#constructor(options): options is not valid DeforSSLinElUniaxInitOption");this._prop=n.property};var g=r.DeforSSLinElUniax;g.prototype=Object.create(d.prototype),g.prototype.constructor=g,r.DeforSSLinElUniax.prototype.tangentModuli=function(){return[[this._prop.E()]]},r.DeforSSLinElBiax=function(n){if(!o(n)||!u(n.property,y))throw new Error("DeforSSLinElBiax#constructor(options): options is not valid DeforSSLinElBiaxInitOption");this._prop=n.property,this._reduction=n.reduction||"strain"};var v=r.DeforSSLinElBiax;v.prototype=Object.create(d.prototype),v.prototype.constructor=v,r.DeforSSLinElBiax.prototype.tangentModuli=function(){var n,r,t=this._prop.D();if("strain"===this._reduction)n=c(t,[0,1,3],[0,1,3]);else if("axisSymm"===this._reduction)n=c(t,[0,1,2,3],[0,1,2,3]);else{if("stress"!==this._reduction)throw new Error("DeforSSLinElBiax::tangentModuli() is ");r=c(t,[0,1],[0,1]),r=h(r,f(-1,l(p(c(t,[0,1],[2]),c(t,[2],[0,1])),t[2][2]))),n=c(t,[0,1,3],[0,1,3]),n=s(n,[0,1],[0,1],r)}return n},r.DeforSSLinElTriax=function(n){if(!o(n)||!u(n.property,y))throw new Error("DeforSSLinElTriax#constructor(options): options is not valid DeforSSLinElTriaxInitOption");this._prop=n.property};var b=r.DeforSSLinElTriax;b.prototype=Object.create(d.prototype),b.prototype.constructor=b,r.DeforSSLinElTriax.prototype.tangentModuli=function(){return this._prop.D()}},function(n,r,t){var e=t(1),i=(e.assert,e.check),o=i.object,u=i["function"],a=i.assigned,c=i.instance,s=(i.isMatrixOfDimension,e.array2d),f=e.array1d,l=(e.defineContract,t(2)),p=l.size,h=l.transpose,m=l.dot,y=l.add,d=l.mul,g=l.inv,v=l.norm,b=l.colon,x=l.matSelect,w=l.matUpdate_,_=l.zeros,S=l.reshape,E=(l.nthColumn,t(10).Material),j=t(7).GCellSet,k=t(15).IntegrationRule,M=t(20).ElementMatrix,C=t(21).ElementVector;r.Feblock=function(){};var A=r.Feblock;r.Feblock.prototype.gcells=function(){return this._gcells},r.Feblock.prototype.topology=function(){return this._gcells.topology()},r.DeforSS=function(n){if(this._mater=null,this._gcells=null,this._ir=null,this._rm=null,!o(n))throw new Error("DeforSS#constructor(options): option is not a valid DeforSSInitOption.");if(!c(n.material,E))throw new Error("DeforSS#constructor(options): options.material is not a instance of Material");if(!c(n.gcells,j))throw new Error("DeforSS#constructor(options):options.gcells is not a instance of GCellSet");if(!c(n.integrationRule,k))throw new Error("DeforSS#constructor(options):options.integrationRule is not a instance of integrationRule");this._mater=n.material,this._gcells=n.gcells,this._ir=n.integrationRule,a(n.rm)&&(this._rm=n.rm);var r=this._gcells.dim();switch(r){case 1:this.hBlmat=this._blmat1;break;case 2:if(this._gcells.axisSymm())throw new Error("DeforSS::hBlmat() for axixSymm, dim = "+r+" is not implemented.");this.hBlmat=this._blmat2;break;case 3:this.hBlmat=this._blmat3;break;default:throw new Error("DeforSS::hBlmat() for dim "+r+" is not implemented.")}};var D=r.DeforSS;D.prototype=Object.create(A.prototype),D.prototype.constructor=D,r.DeforSS.prototype._blmat1=function(n,r,t,e){var i,o,u,a,c,l,h=p(r,1),m=p(t,2),y=s(1,h*m,0);if(!e)throw new Error("_blmat1: not implmented when !Rm");for(u=e.map(function(n){return n[0]}),i=1;h>=i;++i)a=m*(i-1),c=m*i-1,l=c-a,o=f(l+1,function(n){return a+n}),o.forEach(function(n,t){y[0][n]=r[i-1][0]*u[t]});return y},r.DeforSS.prototype._blmat2=function(n,r,t,e){var i,o,u,a,c=p(r,1),f=p(t,2),l=s(3,c*f,0);if(!e)throw new Error("_blmat1: not implmented when !Rm");for(i=0;c>i;++i)o=b(f*i,f*(i+1)-1),u=[[r[i][0],0],[0,r[i][1]],[r[i][1],r[i][0]]],a=h(x(e,":",[0,1])),u=m(u,a),l=w(l,":",o,u);return l},r.DeforSS.prototype._blmat3=function(n,r,t,e){var i,o,u,c,f,l=p(r,1),y=s(6,3*l);if(a(e))for(u=h(e),i=0;l>i;++i)c=b(3*i,3*(i+1)-1),f=[[r[i][0],0,0],[0,r[i][1],0],[0,0,r[i][2]],[r[i][1],r[i][0],0],[r[i][2],0,r[i][0]],[0,r[i][2],r[i][1]]],f=m(f,u),w(y,":",c,f);else for(i=0;l>i;++i)o=3*i,y[0][o]=r[i][0],y[1][o+1]=r[i][1],y[2][o+2]=r[i][2],y[3][o]=r[i][1],y[3][o+1]=r[i][0],y[4][o]=r[i][2],y[4][o+2]=r[i][0],y[5][o+1]=r[i][2],y[5][o+2]=r[i][1];return y},D.prototype.stiffness=function(n,r){var t,e=this._gcells,i=e.cellSize(),o=this._ir,a=o.paramCoords(),c=o.weights(),s=o.npts(),l=[],p=[];for(t=0;s>t;++t)l[t]=e.bfun(a[t]),p[t]=e.bfundpar(a[t]);var v=null;u(this._rm)&&(v=this._rm);var b,x=this._rm,w=this._mater,S=e.conn(),E=e.count(),j=new Array(E),k=new Array(E),C=n.dim();for(b=0;E>b;++b)k[b]=r.gatherEqnumsVector(S[b]),j[b]=_(C*i,C*i);var A,D,O,I,T,L,P,F,N,z=f(n.nfens(),function(n){return n}),V=n.gatherValuesMatrix(z);for(b=0;E>b;++b)for(A=S[b],D=A.map(function(n){return V[n]}),t=0;s>t;++t){if(O=m(h(l[t]),D),I=m(h(D),p[t]),v&&(x=v(O,I)),T=x?m(p[t],g(m(h(x),I))):m(p[t],g(I)),L=e.jacobianVolumn(A,l[t],I,D),0>L)throw new Error("Non-positive Jacobian");P=this.hBlmat(l[t],T,O,x),F=w.tangentModuli({xyz:O}),N=m(m(h(P),d(F,L*c[t])),P),j[b]=y(j[b],N)}var q=j.map(function(n,r){return new M(n,k[r])});return q},D.prototype.noneZeroEBCLoads=function(n,r){var t,e,i,o,u,a,c,s,f=this._gcells,l=f.count(),p=f.conn(),h=[];for(t=0;l>t;++t)e=p[t],i=r.gatherPrescirbedValues(e),0!==v(i)&&(o=new D({material:this._mater,gcells:this._gcells.subset([t]),integrationRule:this._ir,rm:this._rm}),u=o.stiffness(n,r),a=u[0].matrix,c=d(-1,m(a,i)),s=r.gatherEqnumsVector(e),h.push(new C(c,s)));return h},D.prototype.distributeLoads=function(n,r,t,e){var i,o=this._gcells,u=o.cellSize(),a=this._ir,c=r.dim(),s=a.paramCoords(),f=a.weights(),l=a.npts(),p=o.conn(),g=new Array(b),v=new Array(b),b=o.count();for(i=0;b>i;++i)v[i]=r.gatherEqnumsVector(p[i]),g[i]=_(n.dim()*u,1);var x,w,E,j,k,M,A,D,O,I=n.values();for(x=0;l>x;++x)for(w=o.bfun(s[x]),E=o.bfundpar(s[x]),i=0;b>i;++i)j=p[i],k=j.map(function(n){return I[n]}),M=o.jacobianMatrix(E,k),A=o.jacobianInDim(j,w,M,k,e),D=t.magn(m(h(w),k),M),O=d(S(m(D,h(w)),c*u,1),A*f[x]),g[i]=y(g[i],O);var T=g.map(function(n,r){var t=h(n)[0];return new C(t,v[r])});return T},r.DeforSS=D},function(n,r,t){function e(n,r){if(n instanceof c&&r instanceof s)return n.dokMatrix().solveSparseVector(r.sparseVector()).toList();if(n instanceof c&&o(r))return n.dokMatrix().solveVector(r);throw new Error("system.solve(): unsupported type A and b.")}var i=t(1),o=i.isArray,u=t(20),a=t(21),c=u.SparseSystemMatrix,s=a.SparseSystemVector;r.matrix=u,r.vector=a,r.mldivide=e},function(n,r,t){function e(n){var r=n.ids||n.id,t=n.dirs||n.dir,e=n.magns||n.magn;o.array(r)||(r=[r]),o.array(t)||(t=[t]),o.array(e)||(e=[e]),this._ids=r,this._dirs=t,this._magns=e}var i=t(1),o=i.check,u=t(21).ElementVector;e.prototype.loads=function(n){var r,t,e,i,o,a,c=this._ids.length,s=this._dirs.length,f=[],l=[];for(r=0;c>r;++r)for(i=this._ids[r],t=0;s>t;++t)o=this._dirs[t],e=n.eqnum(i,o),a=this._magns[t],f.push(a),l.push(e);return new u(f,l)},r.NodalLoad=e},function(n,r,t){var e=t(1),i=e.check,o=i.object,u=i.array,a=i.assigned,c=i["function"],s=t(2),f=s.transpose;r.ForceIntensity=function(n){if(!o(n)||!a(n.magn))throw new Error("ForceIntensity#constructor(options): option is not a valid ForceIntensityInitOption.");if(u(n.magn))this._magn=function(){return f([n.magn])};else{if(!c(n.magn))throw new Error("ForceIntensity#constructor(options): options.magn is not array or function.");this._magn=n.magn}};r.ForceIntensity;r.ForceIntensity.prototype.magn=function(n,r){return this._magn(n,r)}},function(n,r,t){function e(){}function i(n,r){var t,e;switch(r){case 1:t=[0],e=[2];break;case 2:t=[-.577350269189626,.577350269189626],e=[1,1];break;case 3:t=[-.774596669241483,0,.774596669241483],e=[.5555555555555556,.888888888888889,.5555555555555556];break;case 4:t=[-.86113631159405,-.33998104358486,.33998104358486,.86113631159405],e=[.34785484513745,.65214515486255,.65214515486255,.34785484513745];break;default:throw new Error("GaussRule(dim, order): for order = "+r+" is not implemented.")}var i,o,u,c,s;switch(n){case 1:i=a([t]),o=e;break;case 2:for(i=[],o=[],u=0;r>u;++u)for(c=0;r>c;++c)i.push([t[u],t[c]]),o.push(e[u]*e[c]);break;case 3:for(i=[],o=[],u=0;r>u;++u)for(c=0;r>c;++c)for(s=0;r>s;++s)i.push([t[u],t[c],t[s]]),o.push(e[u]*e[c]*e[s]);break;default:throw new Error("GaussRule(dim, order): for dim = "+n+" is not implemented.")}this._paramCoords=i,this._weights=o}var o=t(1),u=t(2),a=u.transpose,c=o.cloneDeep;e.prototype.paramCoords=function(){throw new Error("IntegrationRule::paramCoords(): must be overrided by subclass.")},e.prototype.weights=function(){throw new Error("IntegrationRule::weights(): must be overrided by subclass.")},e.prototype.npts=function(){throw new Error("IntegrationRule::npts(): must be overrided by subclass.")},e.prototype.dim=function(){throw new Error("IntegrationRule::dim(): must be overrided by subclass.")},r.IntegrationRule=e,i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.paramCoords=function(){return c(this._paramCoords)},i.prototype.weights=function(){return c(this._weights)},i.prototype.npts=function(){return this._paramCoords.length},i.prototype.dim=function(){return this._paramCoords[0].length},r.GaussRule=i},function(n,r,t){function e(n){if(o["function"](n.id))this._idIterFn=n.id;else if("all"===n.id)this._idIterFn=function(n){var r=0,t=n.nfens();return{hasNext:function(){return t>r},next:function(){return r++}}};else if(o.array(n.id))this._idIterFn=function(){return u(n.id)};else{if(!o.number(n.id))throw new Error("EBC(): options.id is not valid.");this._idIterFn=function(){return u([n.id])}}if(o.array(n.value))this._valFn=function(r,t,e){return n.value[e]};else if(o.number(n.value))this._valFn=function(){return n.value};else{if(!o["function"](n.value))throw new Error("EBC(): options.value is not valid.");this._valFn=n.value}if(o.number(n.dir))this._dirs=[n.dir];else{if(!o.array(n.dir))throw new Error("EBC(): options.dir is not valid.");this._dirs=n.dir}}var i=t(1),o=i.check,u=(i.isArray,i.isIterator,i.iteratorFromList);r.EBC=e,e.prototype.applyToField_=function(n){for(var r,t=this._idIterFn(n),e=this._valFn,i=this._dirs,o=0;t.hasNext();)r=t.next(),i.forEach(function(t){var i=e(r,t,o,n);n.setPrescribedValue_(r,t,i)}),++o},r.EBC},function(n,r,t){{var e=t(1),i=e.array1d,o=e.check,u=o.object,a=o.array,c=(e.array2d,t(6)),s=c.FeNodeSet,f=t(7),l=f.P1,p=(f.L2,f.Q4);f.H8}r.Mesh=function(n){u(n)||(n={}),n.xyz&&(n.fens=new s({xyz:n.xyz})),this._fens=n.fens,this._gcells=n.gcells};var h=r.Mesh;r.Mesh.prototype.fens=function(){return this._fens},r.Mesh.prototype.gcells=function(){return this._gcells},r.Mesh.prototype.map=function(n){var r=this._fens.map(n);return new h({fens:r,gcells:this._gcells.clone()})},r.Mesh.prototype.extrude=function(n,r){if(!a(n)||!a(r)||n.length!=r.length)throw new Error("Mesh#extrude(hList, flags): hList and flags must be array of same length.");var t=this._fens.extrude(n),e=this._gcells.extrude(r);return new h({fens:t,gcells:e})},r.Mesh.prototype.subdivide=function(){return"Q4"===this._gcells.type()?this.subdivideQ4():this},r.Mesh.prototype.subdivideQ4=function(){var n=this._fens,r=n.count(),t=this._gcells,e=t.topology(),i=e.getCellsInDim(2),o=e.getCellsInDim(1),u=r,a=i.map(function(r){var t=n.xyzAt(r[0]),e=n.xyzAt(r[1]),i=n.xyzAt(r[2]),o=n.xyzAt(r[3]),a=.25*(t[0]+e[0]+i[0]+o[0]),c=.25*(t[1]+e[1]+i[1]+o[1]);return{index:u++,xy:[a,c]}}),c=function(n,r){return""+Math.min(n,r)+Math.max(n,r)},f=o.map(function(r){var t=n.xyzAt(r[0]),e=n.xyzAt(r[1]),i=.5*(t[0]+e[0]),o=.5*(t[1]+e[1]);return{key:c(r[0],r[1]),index:u++,xy:[i,o]}}),l=new s({xyz:a.map(function(n){return n.xy}).concat(f.map(function(n){return n.xy}))}),m=n.combineWith(l),y=[],d=f.reduce(function(n,r){return n[r.key]=r,n},{});i.forEach(function(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],u=d[c(t,e)].index,s=d[c(e,i)].index,f=d[c(i,o)].index,l=d[c(o,t)].index,p=a[r].index;y.push([t,u,p,l]),y.push([l,p,f,o]),y.push([u,e,s,p]),y.push([p,s,i,f])});var g=new p({conn:y});return new h({fens:m,gcells:g})},r.L2x2=function(){var n,r;return n=new s({xyz:[[.5,0],[1,0],[1,.5],[.5,.5],[1,1],[.5,1],[0,1],[0,.5]]}),r=new p({conn:[[0,1,2,3],[3,2,4,5],[3,5,6,7]]}),new h({fens:n,gcells:r})};r.L2x2;r.L2Block=function(n,r){var t=new h({xyz:[[]],gcells:new l({conn:[[0]]})}),e=i(r,n/r),o=i(r,!0);return t.extrude(e,o)},r.Q4Block=function(n,t,e,o){var u=r.L2Block(n,e),a=i(o,t/o),c=i(o,!0);return u.extrude(a,c)},r.H8Block=function(n,t,e,o,u,a){var c=r.Q4Block(n,t,o,u),s=i(a,e/a),f=i(a,!0);return c.extrude(s,f)}},function(n,r){function t(n,r){this._l2r={},this._r2l={},"function"==typeof r&&(this.getKeyOf=r),Array.isArray(n)&&n.forEach(function(n){this.insert(n[0],n[1])},this)}t.prototype.insert=function(n,r){Array.isArray(n)&&(r=n[1],n=n[0]);var t=this.getKeyOf(n),e=this.getKeyOf(r);return this._l2r[t]=r,this._r2l[e]=n,this},t.prototype.add=t.prototype.insert,t.prototype.size=function(){return Object.keys(this._l2r).length},t.prototype.empty=function(){return 0===this.size()},t.prototype.clear=function(){return this._l2r={},this._r2l={},this},t.prototype.insertSafe=function(n,r){Array.isArray(n)&&(r=n[1],n=n[0]);var t=this.getKeyOf(n);if("undefined"!=typeof this._l2r[t])throw new Error(n+" with key"+t+" exists!");return this.add(n,r),this},t.prototype.getKeyOf=function(n){return n&&n._uid?n._uid:n},t.prototype.belongsTo=function(n){var r=this.getKeyOf(n);return"undefined"!=typeof this._l2r[r]?"left":"undefined"!=typeof this._r2l[r]?"right":"none"},t.prototype.leftFind=function(n){return this._l2r[this.getKeyOf(n)]},t.prototype.rightFind=function(n){return this._r2l[this.getKeyOf(n)]},t.prototype.find=function(n){return this.leftFind(n)||this.rightFind(n)},t.prototype.lookup=t.prototype.find,t.prototype.inLeft=function(n){return"undefined"!=typeof this.leftFind(n)},t.prototype.inRight=function(n){return"undefined"!=typeof this.rightFind(n)},t.prototype.containsObject=function(n){return"undefined"!=typeof this.find(n)},t.prototype.containsPair=function(n,r){Array.isArray(n)&&(r=n[1],n=n[0]);var t=this.leftFind(n);return"undefined"!=typeof t?this.getKeyOf(r)===this.getKeyOf(t):!1},t.prototype.contains=function(){var n=Array.prototype.slice.call(arguments),r=n.length;return 1>=r?this.containsObject(n[0]):this.containsPair(n[0],n[1])},t.prototype.leftRemove=function(n){var r=this.leftFind(n);return"undefined"!=typeof r&&(delete this._l2r[this.getKeyOf(n)],this.rightRemove(r)),this},t.prototype.rightRemove=function(n){var r=this.rightFind(n);return"undefined"!=typeof r&&(delete this._r2l[this.getKeyOf(n)],this.leftRemove(r)),this},t.prototype.removePair=function(n,r){return this.containsPair(n,r)&&(delete this._l2r[this.getKeyOf(n)],delete this._r2l[this.getKeyOf(r)]),this},t.prototype.remove=function(){var n=Array.prototype.slice.call(arguments),r=n.length;if(1>=r){var t=n[0];this.inLeft(t)?this.leftRemove(t):this.inRight(t)&&this.rightRemove(t)}else this.removePair(n[0],n[1]);return this},t.prototype.erase=t.prototype.remove,t.prototype.getNodes=function(n){if(!n)return this.getLeftNodes().concat(this.getRightNodes());var r=/[lL](eft)?/.test(n)?this._r2l:this._l2r;return Object.keys(r).map(function(n){return r[n]})},t.prototype.getLeftNodes=function(){return this.getNodes("left")},t.prototype.getRightNodes=function(){return this.getNodes("right")},t.prototype.forEachNode=function(n,r,t){var e=this.getNodes(n);e.forEach(r,t||this)},t.prototype.forEachLeftNode=function(n,r){this.forEachNode("left",n,r)},t.prototype.forEachRightNode=function(n,r){this.forEachNode("right",n,r)},t.prototype.toJSON=function(){var n={};return this.forEachLeftNode(function(r){var t=this.find(r);n[r]=t},this),n},r.Bimap=t},function(n,r,t){function e(n){var r=[n[0]],t=[n[1]];return[r,t]}function i(n){var r=[n[0],n[1]],t=[n[1],n[2]],e=[n[2],n[3]],i=[n[3],n[0]];return[r,t,e,i]}function o(n){var r=n[0],t=n[1],e=n[2],i=n[3],o=n[4],u=n[5],a=n[6],c=n[7],s=[r,i,e,t],f=[r,t,u,o],l=[t,e,a,u],p=[e,i,c,a],h=[r,o,c,i],m=[o,u,a,c];return[s,f,l,p,h,m]}function u(n,r){function t(n){var r=n.slice().sort(function(n,r){return n-r});return r.join(",")}var u;if(1===r)u=e;else if(2===r)u=i;else{if(3!==r)return[];u=o}var a=[];n.forEach(function(n){u(n).forEach(function(n){a.push(n)})});var c={},s={};return a.forEach(function(n,r){var e=t(n);"undefined"==typeof s[e]?s[e]=r:(c[r]=!0,c[s[e]]=!0)}),a=a.filter(function(n,r){return!c[r]})}function a(n,r){function t(n){return d(n).join(",")}var u;if(1===r)u=e;else if(2===r)u=i;else{if(3!==r)throw new Error("hypercubeSkeleton(conn, dim): dim ("+r+") is not valid.");u=o}var a={},c=[];return n.forEach(function(n){var r=u(n);r.forEach(function(n){var r=t(n);a[r]||(c.push(n),a[r]=!0)})}),c}function c(n){return"number"==typeof n[0]?[n.map(function(n){return[n]})]:[y(n)]}function s(n){var r=m(2,function(){return null});return r[1]=y(n),r[0]=a(r[1],1),r}function f(n){var r=m(3,function(){return null});return r[2]=y(n),r[1]=a(r[2],2),r[0]=a(r[1],1),r}function l(n){var r=m(4,function(){return null});return r[3]=y(n),r[2]=a(r[3],3),r[1]=a(r[2],2),r[0]=a(r[1],1),r}function p(n){var r=0,t={};return n.forEach(function(n){n.forEach(function(n){t[n]||(++r,t[n]=!0)})}),r}{var h=t(1),m=h.array1d,y=h.cloneDeep,d=h.normalizedCell;h.byLexical}r.name="P1L2Q4H8",r.cellSizes=[1,2,4,8],r.cellTypes=["P1","L2","Q4","H8"],r.extrudeMap=[[[0,1]],[[0,1,3,2]],[[0,1,2,3,4,5,6,7]]],r.extrude=function(n,t,e){if(0>t||t>=3)throw new Error("extrude(): can not handle dim = "+t);var i=(n.length,r.extrudeMap[t]),o=(r.cellSizes[t],p(n)),u=[];return e.forEach(function(r,t){var e=t*o;r&&n.forEach(function(n){var r,t=n.length,a=[];for(r=0;t>r;++r)a.push(e+n[r]);for(r=0;t>r;++r)a.push(e+o+n[r]);i.forEach(function(n){var r=n.map(function(n){return a[n]});u.push(r)})})}),u},r.create=function(n,r){if(0===r)return c(n);if(1===r)return s(n);if(2===r)return f(n);if(3===r)return l(n);throw new Error("hypercube(conn, dim): dim must be one of 0,1,2,3.")},r.boundaryConn=u},function(n,r,t){function e(n,r){this.matrix=n,this.eqnums=r}function i(n,r){if(!s(r)){if(!c(r))throw new Error("assemble_(dest, sources): sources must be a iterator or array.");r=a(r)}for(var t;r.hasNext();){t=r.next();var e=t.matrix,i=t.eqnums,o=i.map(function(n,r){return{globalIndex:n,localIndex:r}}).filter(function(n){return n.globalIndex!==h});o.forEach(function(r){var t=r.globalIndex,i=r.localIndex;o.forEach(function(r){var o=r.globalIndex,u=r.localIndex,a=n.at(t,o),c=e[i][u];n.set_(t,o,a+c)})})}}function o(n,r,t){this._kes=t,this._nrows=n,this._ncols=r,this._dokMatrix=null}var u=t(1),a=u.iteratorFromList,c=u.isArray,s=u.isIterator,f=t(2),l=f.mldivide,p=f.DokSparseMatrix,h=t(8).Field.INVALID_EQUATION_NUM;r.ElementMatrix=e,o.prototype._assemble_=function(){this._dokMatrix=new p([],this._nrows,this._ncols),i(this._dokMatrix,this._kes)},o.prototype.dokMatrix=function(){return null==this._dokMatrix&&this._assemble_(),this._dokMatrix},o.prototype.toFull=function(){return this.dokMatrix().toFull()},o.prototype.mldivide=function(n){var r=this.dokMatrix();return l(r,n)},r.SparseSystemMatrix=o},function(n,r,t){function e(n,r){this.vector=n,this.eqnums=r}function i(n,r){this._dim=n,this._evs=r,this._sparseVector=null}var o=t(1),u=o.iteratorFromList,a=o.isArray,c=o.isIterator,s=t(2),f=s.SparseVector,l=t(8).Field.INVALID_EQUATION_NUM;r.ElementVector=e,r.SparseSystemVector=i,i.prototype._assemble_=function(){var n=this._evs,r=new f([],this._dim);if(!c(n)){if(!a(n))throw new Error("SparseSystemVector::_assemble_: evs must be a iterator or array.");n=u(n)}for(var t,e,i;n.hasNext();)t=n.next(),e=t.vector,i=t.eqnums,i.forEach(function(n,t){if(n!==l){var i=e[t],o=r.at(n);r.set_(n,o+i)}});this._sparseVector=r},i.prototype.sparseVector=function(){return null===this._sparseVector&&this._assemble_(),this._sparseVector},i.prototype.toFull=function(){return this.sparseVector().toFull()}},function(n,r,t){function e(n,r){return h.isUndefined(r)?""+r:h.isNumber(r)&&!isFinite(r)?r.toString():h.isFunction(r)||h.isRegExp(r)?r.toString():r}function i(n,r){return h.isString(n)?n.length<r?n:n.slice(0,r):n}function o(n){return i(JSON.stringify(n.actual,e),128)+" "+n.operator+" "+i(JSON.stringify(n.expected,e),128)}function u(n,r,t,e,i){throw new d.AssertionError({message:t,actual:n,expected:r,operator:e,stackStartFunction:i})}function a(n,r){n||u(n,!0,r,"==",d.ok)}function c(n,r){if(n===r)return!0;if(h.isBuffer(n)&&h.isBuffer(r)){if(n.length!=r.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==r[t])return!1;return!0}return h.isDate(n)&&h.isDate(r)?n.getTime()===r.getTime():h.isRegExp(n)&&h.isRegExp(r)?n.source===r.source&&n.global===r.global&&n.multiline===r.multiline&&n.lastIndex===r.lastIndex&&n.ignoreCase===r.ignoreCase:h.isObject(n)||h.isObject(r)?f(n,r):n==r
}function s(n){return"[object Arguments]"==Object.prototype.toString.call(n)}function f(n,r){if(h.isNullOrUndefined(n)||h.isNullOrUndefined(r))return!1;if(n.prototype!==r.prototype)return!1;if(h.isPrimitive(n)||h.isPrimitive(r))return n===r;var t=s(n),e=s(r);if(t&&!e||!t&&e)return!1;if(t)return n=m.call(n),r=m.call(r),c(n,r);var i,o,u=g(n),a=g(r);if(u.length!=a.length)return!1;for(u.sort(),a.sort(),o=u.length-1;o>=0;o--)if(u[o]!=a[o])return!1;for(o=u.length-1;o>=0;o--)if(i=u[o],!c(n[i],r[i]))return!1;return!0}function l(n,r){return n&&r?"[object RegExp]"==Object.prototype.toString.call(r)?r.test(n):n instanceof r?!0:r.call({},n)===!0?!0:!1:!1}function p(n,r,t,e){var i;h.isString(t)&&(e=t,t=null);try{r()}catch(o){i=o}if(e=(t&&t.name?" ("+t.name+").":".")+(e?" "+e:"."),n&&!i&&u(i,t,"Missing expected exception"+e),!n&&l(i,t)&&u(i,t,"Got unwanted exception"+e),n&&i&&t&&!l(i,t)||!n&&i)throw i}var h=t(26),m=Array.prototype.slice,y=Object.prototype.hasOwnProperty,d=n.exports=a;d.AssertionError=function(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var r=n.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var t=new Error;if(t.stack){var e=t.stack,i=r.name,a=e.indexOf("\n"+i);if(a>=0){var c=e.indexOf("\n",a+1);e=e.substring(c+1)}this.stack=e}}},h.inherits(d.AssertionError,Error),d.fail=u,d.ok=a,d.equal=function(n,r,t){n!=r&&u(n,r,t,"==",d.equal)},d.notEqual=function(n,r,t){n==r&&u(n,r,t,"!=",d.notEqual)},d.deepEqual=function(n,r,t){c(n,r)||u(n,r,t,"deepEqual",d.deepEqual)},d.notDeepEqual=function(n,r,t){c(n,r)&&u(n,r,t,"notDeepEqual",d.notDeepEqual)},d.strictEqual=function(n,r,t){n!==r&&u(n,r,t,"===",d.strictEqual)},d.notStrictEqual=function(n,r,t){n===r&&u(n,r,t,"!==",d.notStrictEqual)},d["throws"]=function(){p.apply(this,[!0].concat(m.call(arguments)))},d.doesNotThrow=function(){p.apply(this,[!1].concat(m.call(arguments)))},d.ifError=function(n){if(n)throw n};var g=Object.keys||function(n){var r=[];for(var t in n)y.call(n,t)&&r.push(t);return r}},function(n,r,t){var e;(function(n,i){(function(){function o(n,r,t){for(var e=(t||0)-1,i=n?n.length:0;++e<i;)if(n[e]===r)return e;return-1}function u(n,r){var t=typeof r;if(n=n.cache,"boolean"==t||null==r)return n[r]?0:-1;"number"!=t&&"string"!=t&&(t="object");var e="number"==t?r:E+r;return n=(n=n[t])&&n[e],"object"==t?n&&o(n,r)>-1?0:-1:n?0:-1}function a(n){var r=this.cache,t=typeof n;if("boolean"==t||null==n)r[n]=!0;else{"number"!=t&&"string"!=t&&(t="object");var e="number"==t?n:E+n,i=r[t]||(r[t]={});"object"==t?(i[e]||(i[e]=[])).push(n):i[e]=!0}}function c(n){return n.charCodeAt(0)}function s(n,r){for(var t=n.criteria,e=r.criteria,i=-1,o=t.length;++i<o;){var u=t[i],a=e[i];if(u!==a){if(u>a||"undefined"==typeof u)return 1;if(a>u||"undefined"==typeof a)return-1}}return n.index-r.index}function f(n){var r=-1,t=n.length,e=n[0],i=n[t/2|0],o=n[t-1];if(e&&"object"==typeof e&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var u=h();u["false"]=u["null"]=u["true"]=u.undefined=!1;var c=h();for(c.array=n,c.cache=u,c.push=a;++r<t;)c.push(n[r]);return c}function l(n){return"\\"+ir[n]}function p(){return x.pop()||[]}function h(){return w.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(n){return"function"!=typeof n.toString&&"string"==typeof(n+"")}function y(n){n.length=0,x.length<M&&x.push(n)}function d(n){var r=n.cache;r&&d(r),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,w.length<M&&w.push(n)}function g(n,r,t){r||(r=0),"undefined"==typeof t&&(t=n?n.length:0);for(var e=-1,i=t-r||0,o=Array(0>i?0:i);++e<i;)o[e]=n[r+e];return o}function v(n){function r(n){return n&&"object"==typeof n&&!fi(n)&&Be.call(n,"__wrapped__")?n:new t(n)}function t(n,r){this.__chain__=!!r,this.__wrapped__=n}function e(n){function r(){if(e){var n=g(e);Ue.apply(n,arguments)}if(this instanceof r){var o=a(t.prototype),u=t.apply(o,n||arguments);return Nr(u)?u:o}return t.apply(i,n||arguments)}var t=n[0],e=n[2],i=n[4];return si(r,n),r}function i(n,r,t,e,o){if(t){var u=t(n);if("undefined"!=typeof u)return u}var a=Nr(n);if(!a)return n;var c=Fe.call(n);if(!W[c]||!ai.nodeClass&&m(n))return n;var s=oi[c];switch(c){case Q:case H:return new s(+n);case J:case Z:return new s(n);case K:return u=s(n.source,T.exec(n)),u.lastIndex=n.lastIndex,u}var f=fi(n);if(r){var l=!e;e||(e=p()),o||(o=p());for(var h=e.length;h--;)if(e[h]==n)return o[h];u=f?s(n.length):{}}else u=f?g(n):wi({},n);return f&&(Be.call(n,"index")&&(u.index=n.index),Be.call(n,"input")&&(u.input=n.input)),r?(e.push(n),o.push(u),(f?xi:Ei)(n,function(n,a){u[a]=i(n,r,t,e,o)}),l&&(y(e),y(o)),u):u}function a(n){return Nr(n)?$e(n):{}}function x(n,r,t){if("function"!=typeof n)return ie;if("undefined"==typeof r||!("prototype"in n))return n;var e=n.__bindData__;if("undefined"==typeof e&&(ai.funcNames&&(e=!n.name),e=e||!ai.funcDecomp,!e)){var i=Ge.call(n);ai.funcNames||(e=!L.test(i)),e||(e=z.test(i),si(n,e))}if(e===!1||e!==!0&&1&e[1])return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)};case 4:return function(t,e,i,o){return n.call(r,t,e,i,o)}}return Gt(n,r)}function w(n){function r(){var n=s?u:this;if(i){var m=g(i);Ue.apply(m,arguments)}if((o||l)&&(m||(m=g(arguments)),o&&Ue.apply(m,o),l&&m.length<c))return e|=16,w([t,p?e:-4&e,m,null,u,c]);if(m||(m=arguments),f&&(t=n[h]),this instanceof r){n=a(t.prototype);var y=t.apply(n,m);return Nr(y)?y:n}return t.apply(n,m)}var t=n[0],e=n[1],i=n[2],o=n[3],u=n[4],c=n[5],s=1&e,f=2&e,l=4&e,p=8&e,h=t;return si(r,n),r}function M(n,r){var t=-1,e=yr(),i=n?n.length:0,a=i>=j&&e===o,c=[];if(a){var s=f(r);s?(e=u,r=s):a=!1}for(;++t<i;){var l=n[t];e(r,l)<0&&c.push(l)}return a&&d(r),c}function ir(n,r,t,e){for(var i=(e||0)-1,o=n?n.length:0,u=[];++i<o;){var a=n[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(fi(a)||br(a))){r||(a=ir(a,r,t));var c=-1,s=a.length,f=u.length;for(u.length+=s;++c<s;)u[f++]=a[c]}else t||u.push(a)}return u}function ur(n,r,t,e,i,o){if(t){var u=t(n,r);if("undefined"!=typeof u)return!!u}if(n===r)return 0!==n||1/n==1/r;var a=typeof n,c=typeof r;if(!(n!==n||n&&er[a]||r&&er[c]))return!1;if(null==n||null==r)return n===r;var s=Fe.call(n),f=Fe.call(r);if(s==B&&(s=$),f==B&&(f=$),s!=f)return!1;switch(s){case Q:case H:return+n==+r;case J:return n!=+n?r!=+r:0==n?1/n==1/r:n==+r;case K:case Z:return n==Ae(r)}var l=s==U;if(!l){var h=Be.call(n,"__wrapped__"),d=Be.call(r,"__wrapped__");if(h||d)return ur(h?n.__wrapped__:n,d?r.__wrapped__:r,t,e,i,o);if(s!=$||!ai.nodeClass&&(m(n)||m(r)))return!1;var g=!ai.argsObject&&br(n)?Me:n.constructor,v=!ai.argsObject&&br(r)?Me:r.constructor;if(g!=v&&!(Fr(g)&&g instanceof g&&Fr(v)&&v instanceof v)&&"constructor"in n&&"constructor"in r)return!1}var b=!i;i||(i=p()),o||(o=p());for(var x=i.length;x--;)if(i[x]==n)return o[x]==r;var w=0;if(u=!0,i.push(n),o.push(r),l){if(x=n.length,w=r.length,u=w==x,u||e)for(;w--;){var _=x,S=r[w];if(e)for(;_--&&!(u=ur(n[_],S,t,e,i,o)););else if(!(u=ur(n[w],S,t,e,i,o)))break}}else Si(r,function(r,a,c){return Be.call(c,a)?(w++,u=Be.call(n,a)&&ur(n[a],r,t,e,i,o)):void 0}),u&&!e&&Si(n,function(n,r,t){return Be.call(t,r)?u=--w>-1:void 0});return i.pop(),o.pop(),b&&(y(i),y(o)),u}function ar(n,r,t,e,i){(fi(r)?et:Ei)(r,function(r,o){var u,a,c=r,s=n[o];if(r&&((a=fi(r))||ji(r))){for(var f=e.length;f--;)if(u=e[f]==r){s=i[f];break}if(!u){var l;t&&(c=t(s,r),(l="undefined"!=typeof c)&&(s=c)),l||(s=a?fi(s)?s:[]:ji(s)?s:{}),e.push(r),i.push(s),l||ar(s,r,t,e,i)}}else t&&(c=t(s,r),"undefined"==typeof c&&(c=r)),"undefined"!=typeof c&&(s=c);n[o]=s})}function cr(n,r){return n+qe(ii()*(r-n+1))}function fr(n,r,t){var e=-1,i=yr(),a=n?n.length:0,c=[],s=!r&&a>=j&&i===o,l=t||s?p():c;if(s){var h=f(l);i=u,l=h}for(;++e<a;){var m=n[e],g=t?t(m,e,n):m;(r?!e||l[l.length-1]!==g:i(l,g)<0)&&((t||s)&&l.push(g),c.push(m))}return s?(y(l.array),d(l)):t&&y(l),c}function lr(n){return function(t,e,i){var o={};if(e=r.createCallback(e,i,3),fi(t))for(var u=-1,a=t.length;++u<a;){var c=t[u];n(o,c,e(c,u,t),t)}else xi(t,function(r,t,i){n(o,r,e(r,t,i),i)});return o}}function pr(n,r,t,i,o,u){var a=1&r,c=2&r,s=4&r,f=16&r,l=32&r;if(!c&&!Fr(n))throw new De;f&&!t.length&&(r&=-17,f=t=!1),l&&!i.length&&(r&=-33,l=i=!1);var p=n&&n.__bindData__;if(p&&p!==!0)return p=g(p),p[2]&&(p[2]=g(p[2])),p[3]&&(p[3]=g(p[3])),!a||1&p[1]||(p[4]=o),!a&&1&p[1]&&(r|=8),!s||4&p[1]||(p[5]=u),f&&Ue.apply(p[2]||(p[2]=[]),t),l&&Xe.apply(p[3]||(p[3]=[]),i),p[1]|=r,pr.apply(null,p);var h=1==r||17===r?e:w;return h([n,r,t,i,o,u])}function hr(){tr.shadowedProps=G,tr.array=tr.bottom=tr.loop=tr.top="",tr.init="iterable",tr.useHas=!0;for(var n,r=0;n=arguments[r];r++)for(var t in n)tr[t]=n[t];var e=tr.args;tr.firstArg=/^[^,]+/.exec(e)[0];var i=Ee("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+e+") {\n"+ci(tr)+"\n}");return i(x,Y,Ie,Be,S,br,fi,Rr,tr.keys,Te,er,ui,Z,Le,Fe)}function mr(n){return di[n]}function yr(){var n=(n=r.indexOf)===Et?o:n;return n}function dr(n){return"function"==typeof n&&Ne.test(n)}function gr(n){var r,t;return!n||Fe.call(n)!=$||(r=n.constructor,Fr(r)&&!(r instanceof r))||!ai.argsClass&&br(n)||!ai.nodeClass&&m(n)?!1:ai.ownLast?(Si(n,function(n,r,e){return t=Be.call(e,r),!1}),t!==!1):(Si(n,function(n,r){t=r}),"undefined"==typeof t||Be.call(n,t))}function vr(n){return gi[n]}function br(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Fe.call(n)==B||!1}function xr(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t=r,r=!1),i(n,r,"function"==typeof t&&x(t,e,1))}function wr(n,r,t){return i(n,!0,"function"==typeof r&&x(r,t,1))}function _r(n,r){var t=a(n);return r?wi(t,r):t}function Sr(n,t,e){var i;return t=r.createCallback(t,e,3),Ei(n,function(n,r,e){return t(n,r,e)?(i=r,!1):void 0}),i}function Er(n,t,e){var i;return t=r.createCallback(t,e,3),kr(n,function(n,r,e){return t(n,r,e)?(i=r,!1):void 0}),i}function jr(n,r,t){var e=[];Si(n,function(n,r){e.push(r,n)});var i=e.length;for(r=x(r,t,3);i--&&r(e[i--],e[i],n)!==!1;);return n}function kr(n,r,t){var e=pi(n),i=e.length;for(r=x(r,t,3);i--;){var o=e[i];if(r(n[o],o,n)===!1)break}return n}function Mr(n){var r=[];return Si(n,function(n,t){Fr(n)&&r.push(t)}),r.sort()}function Cr(n,r){return n?Be.call(n,r):!1}function Ar(n){for(var r=-1,t=pi(n),e=t.length,i={};++r<e;){var o=t[r];i[n[o]]=o}return i}function Dr(n){return n===!0||n===!1||n&&"object"==typeof n&&Fe.call(n)==Q||!1}function Or(n){return n&&"object"==typeof n&&Fe.call(n)==H||!1}function Ir(n){return n&&1===n.nodeType||!1}function Tr(n){var r=!0;if(!n)return r;var t=Fe.call(n),e=n.length;return t==U||t==Z||(ai.argsClass?t==B:br(n))||t==$&&"number"==typeof e&&Fr(n.splice)?!e:(Ei(n,function(){return r=!1}),r)}function Lr(n,r,t,e){return ur(n,r,"function"==typeof t&&x(t,e,2))}function Pr(n){return Ze(n)&&!We(parseFloat(n))}function Fr(n){return"function"==typeof n}function Nr(n){return!(!n||!er[typeof n])}function zr(n){return qr(n)&&n!=+n}function Vr(n){return null===n}function qr(n){return"number"==typeof n||n&&"object"==typeof n&&Fe.call(n)==J||!1}function Gr(n){return n&&er[typeof n]&&Fe.call(n)==K||!1}function Rr(n){return"string"==typeof n||n&&"object"==typeof n&&Fe.call(n)==Z||!1}function Br(n){return"undefined"==typeof n}function Ur(n,t,e){var i={};return t=r.createCallback(t,e,3),Ei(n,function(n,r,e){i[r]=t(n,r,e)}),i}function Qr(n){var r=arguments,t=2;if(!Nr(n))return n;if("number"!=typeof r[2]&&(t=r.length),t>3&&"function"==typeof r[t-2])var e=x(r[--t-1],r[t--],2);else t>2&&"function"==typeof r[t-1]&&(e=r[--t]);for(var i=g(arguments,1,t),o=-1,u=p(),a=p();++o<t;)ar(n,i[o],e,u,a);return y(u),y(a),n}function Hr(n,t,e){var i={};if("function"!=typeof t){var o=[];Si(n,function(n,r){o.push(r)}),o=M(o,ir(arguments,!0,!1,1));for(var u=-1,a=o.length;++u<a;){var c=o[u];i[c]=n[c]}}else t=r.createCallback(t,e,3),Si(n,function(n,r,e){t(n,r,e)||(i[r]=n)});return i}function Yr(n){for(var r=-1,t=pi(n),e=t.length,i=xe(e);++r<e;){var o=t[r];i[r]=[o,n[o]]}return i}function Xr(n,t,e){var i={};if("function"!=typeof t)for(var o=-1,u=ir(arguments,!0,!1,1),a=Nr(n)?u.length:0;++o<a;){var c=u[o];c in n&&(i[c]=n[c])}else t=r.createCallback(t,e,3),Si(n,function(n,r,e){t(n,r,e)&&(i[r]=n)});return i}function Jr(n,t,e,i){var o=fi(n);if(null==e)if(o)e=[];else{var u=n&&n.constructor,c=u&&u.prototype;e=a(c)}return t&&(t=r.createCallback(t,i,4),(o?xi:Ei)(n,function(n,r,i){return t(e,n,r,i)})),e}function $r(n){for(var r=-1,t=pi(n),e=t.length,i=xe(e);++r<e;)i[r]=n[t[r]];return i}function Kr(n){var r=arguments,t=-1,e=ir(r,!0,!1,1),i=r[2]&&r[2][r[1]]===n?1:e.length,o=xe(i);for(ai.unindexedChars&&Rr(n)&&(n=n.split(""));++t<i;)o[t]=n[e[t]];return o}function Zr(n,r,t){var e=-1,i=yr(),o=n?n.length:0,u=!1;return t=(0>t?ri(0,o+t):t)||0,fi(n)?u=i(n,r,t)>-1:"number"==typeof o?u=(Rr(n)?n.indexOf(r,t):i(n,r,t))>-1:xi(n,function(n){return++e>=t?!(u=n===r):void 0}),u}function Wr(n,t,e){var i=!0;if(t=r.createCallback(t,e,3),fi(n))for(var o=-1,u=n.length;++o<u&&(i=!!t(n[o],o,n)););else xi(n,function(n,r,e){return i=!!t(n,r,e)});return i}function nt(n,t,e){var i=[];if(t=r.createCallback(t,e,3),fi(n))for(var o=-1,u=n.length;++o<u;){var a=n[o];t(a,o,n)&&i.push(a)}else xi(n,function(n,r,e){t(n,r,e)&&i.push(n)});return i}function rt(n,t,e){if(t=r.createCallback(t,e,3),!fi(n)){var i;return xi(n,function(n,r,e){return t(n,r,e)?(i=n,!1):void 0}),i}for(var o=-1,u=n.length;++o<u;){var a=n[o];if(t(a,o,n))return a}}function tt(n,t,e){var i;return t=r.createCallback(t,e,3),it(n,function(n,r,e){return t(n,r,e)?(i=n,!1):void 0}),i}function et(n,r,t){if(r&&"undefined"==typeof t&&fi(n))for(var e=-1,i=n.length;++e<i&&r(n[e],e,n)!==!1;);else xi(n,r,t);return n}function it(n,r,t){var e=n,i=n?n.length:0;if(r=r&&"undefined"==typeof t?r:x(r,t,3),fi(n))for(;i--&&r(n[i],i,n)!==!1;);else{if("number"!=typeof i){var o=pi(n);i=o.length}else ai.unindexedChars&&Rr(n)&&(e=n.split(""));xi(n,function(n,t,u){return t=o?o[--i]:--i,r(e[t],t,u)})}return n}function ot(n,r){var t=g(arguments,2),e=-1,i="function"==typeof r,o=n?n.length:0,u=xe("number"==typeof o?o:0);return et(n,function(n){u[++e]=(i?r:n[r]).apply(n,t)}),u}function ut(n,t,e){var i=-1,o=n?n.length:0,u=xe("number"==typeof o?o:0);if(t=r.createCallback(t,e,3),fi(n))for(;++i<o;)u[i]=t(n[i],i,n);else xi(n,function(n,r,e){u[++i]=t(n,r,e)});return u}function at(n,t,e){var i=-1/0,o=i;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&fi(n))for(var u=-1,a=n.length;++u<a;){var s=n[u];s>o&&(o=s)}else t=null==t&&Rr(n)?c:r.createCallback(t,e,3),xi(n,function(n,r,e){var u=t(n,r,e);u>i&&(i=u,o=n)});return o}function ct(n,t,e){var i=1/0,o=i;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&fi(n))for(var u=-1,a=n.length;++u<a;){var s=n[u];o>s&&(o=s)}else t=null==t&&Rr(n)?c:r.createCallback(t,e,3),xi(n,function(n,r,e){var u=t(n,r,e);i>u&&(i=u,o=n)});return o}function st(n,t,e,i){var o=arguments.length<3;if(t=r.createCallback(t,i,4),fi(n)){var u=-1,a=n.length;for(o&&(e=n[++u]);++u<a;)e=t(e,n[u],u,n)}else xi(n,function(n,r,i){e=o?(o=!1,n):t(e,n,r,i)});return e}function ft(n,t,e,i){var o=arguments.length<3;return t=r.createCallback(t,i,4),it(n,function(n,r,i){e=o?(o=!1,n):t(e,n,r,i)}),e}function lt(n,t,e){return t=r.createCallback(t,e,3),nt(n,function(n,r,e){return!t(n,r,e)})}function pt(n,r,t){if(n&&"number"!=typeof n.length?n=$r(n):ai.unindexedChars&&Rr(n)&&(n=n.split("")),null==r||t)return n?n[cr(0,n.length-1)]:b;var e=ht(n);return e.length=ti(ri(0,r),e.length),e}function ht(n){var r=-1,t=n?n.length:0,e=xe("number"==typeof t?t:0);return et(n,function(n){var t=cr(0,++r);e[r]=e[t],e[t]=n}),e}function mt(n){var r=n?n.length:0;return"number"==typeof r?r:pi(n).length}function yt(n,t,e){var i;if(t=r.createCallback(t,e,3),fi(n))for(var o=-1,u=n.length;++o<u&&!(i=t(n[o],o,n)););else xi(n,function(n,r,e){return!(i=t(n,r,e))});return!!i}function dt(n,t,e){var i=-1,o=fi(t),u=n?n.length:0,a=xe("number"==typeof u?u:0);for(o||(t=r.createCallback(t,e,3)),et(n,function(n,r,e){var u=a[++i]=h();o?u.criteria=ut(t,function(r){return n[r]}):(u.criteria=p())[0]=t(n,r,e),u.index=i,u.value=n}),u=a.length,a.sort(s);u--;){var c=a[u];a[u]=c.value,o||y(c.criteria),d(c)}return a}function gt(n){return n&&"number"==typeof n.length?ai.unindexedChars&&Rr(n)?n.split(""):g(n):$r(n)}function vt(n){for(var r=-1,t=n?n.length:0,e=[];++r<t;){var i=n[r];i&&e.push(i)}return e}function bt(n){return M(n,ir(arguments,!0,!0,1))}function xt(n,t,e){var i=-1,o=n?n.length:0;for(t=r.createCallback(t,e,3);++i<o;)if(t(n[i],i,n))return i;return-1}function wt(n,t,e){var i=n?n.length:0;for(t=r.createCallback(t,e,3);i--;)if(t(n[i],i,n))return i;return-1}function _t(n,t,e){var i=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var u=-1;for(t=r.createCallback(t,e,3);++u<o&&t(n[u],u,n);)i++}else if(i=t,null==i||e)return n?n[0]:b;return g(n,0,ti(ri(0,i),o))}function St(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t="function"!=typeof r&&e&&e[r]===n?null:r,r=!1),null!=t&&(n=ut(n,t,e)),ir(n,r)}function Et(n,r,t){if("number"==typeof t){var e=n?n.length:0;t=0>t?ri(0,e+t):t||0}else if(t){var i=Tt(n,r);return n[i]===r?i:-1}return o(n,r,t)}function jt(n,t,e){var i=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var u=o;for(t=r.createCallback(t,e,3);u--&&t(n[u],u,n);)i++}else i=null==t||e?1:t||i;return g(n,0,ti(ri(0,o-i),o))}function kt(){for(var n=[],r=-1,t=arguments.length,e=p(),i=yr(),a=i===o,c=p();++r<t;){var s=arguments[r];(fi(s)||br(s))&&(n.push(s),e.push(a&&s.length>=j&&f(r?n[r]:c)))}var l=n[0],h=-1,m=l?l.length:0,g=[];n:for(;++h<m;){var v=e[0];if(s=l[h],(v?u(v,s):i(c,s))<0){for(r=t,(v||c).push(s);--r;)if(v=e[r],(v?u(v,s):i(n[r],s))<0)continue n;g.push(s)}}for(;t--;)v=e[t],v&&d(v);return y(e),y(c),g}function Mt(n,t,e){var i=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var u=o;for(t=r.createCallback(t,e,3);u--&&t(n[u],u,n);)i++}else if(i=t,null==i||e)return n?n[o-1]:b;return g(n,ri(0,o-i))}function Ct(n,r,t){var e=n?n.length:0;for("number"==typeof t&&(e=(0>t?ri(0,e+t):ti(t,e-1))+1);e--;)if(n[e]===r)return e;return-1}function At(n){for(var r=arguments,t=0,e=r.length,i=n?n.length:0;++t<e;)for(var o=-1,u=r[t];++o<i;)n[o]===u&&(Ye.call(n,o--,1),i--);return n}function Dt(n,r,t){n=+n||0,t="number"==typeof t?t:+t||1,null==r&&(r=n,n=0);for(var e=-1,i=ri(0,ze((r-n)/(t||1))),o=xe(i);++e<i;)o[e]=n,n+=t;return o}function Ot(n,t,e){var i=-1,o=n?n.length:0,u=[];for(t=r.createCallback(t,e,3);++i<o;){var a=n[i];t(a,i,n)&&(u.push(a),Ye.call(n,i--,1),o--)}return u}function It(n,t,e){if("number"!=typeof t&&null!=t){var i=0,o=-1,u=n?n.length:0;for(t=r.createCallback(t,e,3);++o<u&&t(n[o],o,n);)i++}else i=null==t||e?1:ri(0,t);return g(n,i)}function Tt(n,t,e,i){var o=0,u=n?n.length:o;for(e=e?r.createCallback(e,i,1):ie,t=e(t);u>o;){var a=o+u>>>1;e(n[a])<t?o=a+1:u=a}return o}function Lt(){return fr(ir(arguments,!0,!0))}function Pt(n,t,e,i){return"boolean"!=typeof t&&null!=t&&(i=e,e="function"!=typeof t&&i&&i[t]===n?null:t,t=!1),null!=e&&(e=r.createCallback(e,i,3)),fr(n,t,e)}function Ft(n){return M(n,g(arguments,1))}function Nt(){for(var n=-1,r=arguments.length;++n<r;){var t=arguments[n];if(fi(t)||br(t))var e=e?fr(M(e,t).concat(M(t,e))):t}return e||[]}function zt(){for(var n=arguments.length>1?arguments:arguments[0],r=-1,t=n?at(Ai(n,"length")):0,e=xe(0>t?0:t);++r<t;)e[r]=Ai(n,r);return e}function Vt(n,r){var t=-1,e=n?n.length:0,i={};for(r||!e||fi(n[0])||(r=[]);++t<e;){var o=n[t];r?i[o]=r[t]:o&&(i[o[0]]=o[1])}return i}function qt(n,r){if(!Fr(r))throw new De;return function(){return--n<1?r.apply(this,arguments):void 0}}function Gt(n,r){return arguments.length>2?pr(n,17,g(arguments,2),null,r):pr(n,1,null,null,r)}function Rt(n){for(var r=arguments.length>1?ir(arguments,!0,!1,1):Mr(n),t=-1,e=r.length;++t<e;){var i=r[t];n[i]=pr(n[i],1,null,null,n)}return n}function Bt(n,r){return arguments.length>2?pr(r,19,g(arguments,2),null,n):pr(r,3,null,null,n)}function Ut(){for(var n=arguments,r=n.length;r--;)if(!Fr(n[r]))throw new De;return function(){for(var r=arguments,t=n.length;t--;)r=[n[t].apply(this,r)];return r[0]}}function Qt(n,r){return r="number"==typeof r?r:+r||n.length,pr(n,4,null,null,null,r)}function Ht(n,r,t){var e,i,o,u,a,c,s,f=0,l=!1,p=!0;if(!Fr(n))throw new De;if(r=ri(0,r)||0,t===!0){var h=!0;p=!1}else Nr(t)&&(h=t.leading,l="maxWait"in t&&(ri(r,t.maxWait)||0),p="trailing"in t?t.trailing:p);var m=function(){var t=r-(Oi()-u);if(0>=t){i&&Ve(i);var l=s;i=c=s=b,l&&(f=Oi(),o=n.apply(a,e),c||i||(e=a=null))}else c=He(m,t)},y=function(){c&&Ve(c),i=c=s=b,(p||l!==r)&&(f=Oi(),o=n.apply(a,e),c||i||(e=a=null))};return function(){if(e=arguments,u=Oi(),a=this,s=p&&(c||!h),l===!1)var t=h&&!c;else{i||h||(f=u);var d=l-(u-f),g=0>=d;g?(i&&(i=Ve(i)),f=u,o=n.apply(a,e)):i||(i=He(y,d))}return g&&c?c=Ve(c):c||r===l||(c=He(m,r)),t&&(g=!0,o=n.apply(a,e)),!g||c||i||(e=a=null),o}}function Yt(n){if(!Fr(n))throw new De;var r=g(arguments,1);return He(function(){n.apply(b,r)},1)}function Xt(n,r){if(!Fr(n))throw new De;var t=g(arguments,2);return He(function(){n.apply(b,t)},r)}function Jt(n,r){if(!Fr(n))throw new De;var t=function(){var e=t.cache,i=r?r.apply(this,arguments):E+arguments[0];return Be.call(e,i)?e[i]:e[i]=n.apply(this,arguments)};return t.cache={},t}function $t(n){var r,t;if(!Fr(n))throw new De;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}}function Kt(n){return pr(n,16,g(arguments,1))}function Zt(n){return pr(n,32,null,g(arguments,1))}function Wt(n,r,t){var e=!0,i=!0;if(!Fr(n))throw new De;return t===!1?e=!1:Nr(t)&&(e="leading"in t?t.leading:e,i="trailing"in t?t.trailing:i),nr.leading=e,nr.maxWait=r,nr.trailing=i,Ht(n,r,nr)}function ne(n,r){return pr(r,16,[n])}function re(n){return function(){return n}}function te(n,r,t){var e=typeof n;if(null==n||"function"==e)return x(n,r,t);if("object"!=e)return ce(n);var i=pi(n),o=i[0],u=n[o];return 1!=i.length||u!==u||Nr(u)?function(r){for(var t=i.length,e=!1;t--&&(e=ur(r[i[t]],n[i[t]],null,!0)););return e}:function(n){var r=n[o];return u===r&&(0!==u||1/u==1/r)}}function ee(n){return null==n?"":Ae(n).replace(bi,mr)}function ie(n){return n}function oe(n,e,i){var o=!0,u=e&&Mr(e);e&&(i||u.length)||(null==i&&(i=e),a=t,e=n,n=r,u=Mr(e)),i===!1?o=!1:Nr(i)&&"chain"in i&&(o=i.chain);var a=n,c=Fr(a);et(u,function(r){var t=n[r]=e[r];c&&(a.prototype[r]=function(){var r=this.__chain__,e=this.__wrapped__,i=[e];Ue.apply(i,arguments);var u=t.apply(n,i);if(o||r){if(e===u&&Nr(u))return this;u=new a(u),u.__chain__=r}return u})})}function ue(){return n._=Pe,this}function ae(){}function ce(n){return function(r){return r[n]}}function se(n,r,t){var e=null==n,i=null==r;if(null==t&&("boolean"==typeof n&&i?(t=n,n=1):i||"boolean"!=typeof r||(t=r,i=!0)),e&&i&&(r=1),n=+n||0,i?(r=n,n=0):r=+r||0,t||n%1||r%1){var o=ii();return ti(n+o*(r-n+parseFloat("1e-"+((o+"").length-1))),r)}return cr(n,r)}function fe(n,r){if(n){var t=n[r];return Fr(t)?n[r]():t}}function le(n,t,e){var i=r.templateSettings;n=Ae(n||""),e=_i({},e,i);var o,u=_i({},e.imports,i.imports),a=pi(u),c=$r(u),s=0,f=e.interpolate||N,p="__p += '",h=Ce((e.escape||N).source+"|"+f.source+"|"+(f===P?I:N).source+"|"+(e.evaluate||N).source+"|$","g");n.replace(h,function(r,t,e,i,u,a){return e||(e=i),p+=n.slice(s,a).replace(V,l),t&&(p+="' +\n__e("+t+") +\n'"),u&&(o=!0,p+="';\n"+u+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=a+r.length,r}),p+="';\n";var m=e.variable,y=m;y||(m="obj",p="with ("+m+") {\n"+p+"\n}\n"),p=(o?p.replace(A,""):p).replace(D,"$1").replace(O,"$1;"),p="function("+m+") {\n"+(y?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var d="\n/*\n//# sourceURL="+(e.sourceURL||"/lodash/template/source["+R++ +"]")+"\n*/";try{var g=Ee(a,"return "+p+d).apply(b,c)}catch(v){throw v.source=p,v}return t?g(t):(g.source=p,g)}function pe(n,r,t){n=(n=+n)>-1?n:0;var e=-1,i=xe(n);for(r=x(r,t,1);++e<n;)i[e]=r(e);return i}function he(n){return null==n?"":Ae(n).replace(vi,vr)}function me(n){var r=++_;return Ae(null==n?"":n)+r}function ye(n){return n=new t(n),n.__chain__=!0,n}function de(n,r){return r(n),n}function ge(){return this.__chain__=!0,this}function ve(){return Ae(this.__wrapped__)}function be(){return this.__wrapped__}n=n?sr.defaults(or.Object(),n,sr.pick(or,q)):or;var xe=n.Array,we=n.Boolean,_e=n.Date,Se=n.Error,Ee=n.Function,je=n.Math,ke=n.Number,Me=n.Object,Ce=n.RegExp,Ae=n.String,De=n.TypeError,Oe=[],Ie=Se.prototype,Te=Me.prototype,Le=Ae.prototype,Pe=n._,Fe=Te.toString,Ne=Ce("^"+Ae(Fe).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ze=je.ceil,Ve=n.clearTimeout,qe=je.floor,Ge=Ee.prototype.toString,Re=dr(Re=Me.getPrototypeOf)&&Re,Be=Te.hasOwnProperty,Ue=Oe.push,Qe=Te.propertyIsEnumerable,He=n.setTimeout,Ye=Oe.splice,Xe=Oe.unshift,Je=function(){try{var n={},r=dr(r=Me.defineProperty)&&r,t=r(n,n,n)&&r}catch(e){}return t}(),$e=dr($e=Me.create)&&$e,Ke=dr(Ke=xe.isArray)&&Ke,Ze=n.isFinite,We=n.isNaN,ni=dr(ni=Me.keys)&&ni,ri=je.max,ti=je.min,ei=n.parseInt,ii=je.random,oi={};oi[U]=xe,oi[Q]=we,oi[H]=_e,oi[X]=Ee,oi[$]=Me,oi[J]=ke,oi[K]=Ce,oi[Z]=Ae;var ui={};ui[U]=ui[H]=ui[J]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ui[Q]=ui[Z]={constructor:!0,toString:!0,valueOf:!0},ui[Y]=ui[X]=ui[K]={constructor:!0,toString:!0},ui[$]={constructor:!0},function(){for(var n=G.length;n--;){var r=G[n];for(var t in ui)Be.call(ui,t)&&!Be.call(ui[t],r)&&(ui[t][r]=!1)}}(),t.prototype=r.prototype;var ai=r.support={};!function(){var r=function(){this.x=1},t={0:1,length:1},e=[];r.prototype={valueOf:1,y:1};for(var i in new r)e.push(i);for(i in arguments);ai.argsClass=Fe.call(arguments)==B,ai.argsObject=arguments.constructor==Me&&!(arguments instanceof xe),ai.enumErrorProps=Qe.call(Ie,"message")||Qe.call(Ie,"name"),ai.enumPrototypes=Qe.call(r,"prototype"),ai.funcDecomp=!dr(n.WinRTError)&&z.test(v),ai.funcNames="string"==typeof Ee.name,ai.nonEnumArgs=0!=i,ai.nonEnumShadows=!/valueOf/.test(e),ai.ownLast="x"!=e[0],ai.spliceObjects=(Oe.splice.call(t,0,1),!t[0]),ai.unindexedChars="x"[0]+Me("x")[0]!="xx";try{ai.nodeClass=!(Fe.call(document)==$&&!({toString:0}+""))}catch(o){ai.nodeClass=!0}}(1),r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:r}};var ci=function(n){var r="var index, iterable = "+n.firstArg+", result = "+n.init+";\nif (!iterable) return result;\n"+n.top+";";n.array?(r+="\nvar length = iterable.length; index = -1;\nif ("+n.array+") {  ",ai.unindexedChars&&(r+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),r+="\n  while (++index < length) {\n    "+n.loop+";\n  }\n}\nelse {  "):ai.nonEnumArgs&&(r+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+n.loop+";\n    }\n  } else {  "),ai.enumPrototypes&&(r+="\n  var skipProto = typeof iterable == 'function';\n  "),ai.enumErrorProps&&(r+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var t=[];if(ai.enumPrototypes&&t.push('!(skipProto && index == "prototype")'),ai.enumErrorProps&&t.push('!(skipErrorProps && (index == "message" || index == "name"))'),n.useHas&&n.keys)r+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",t.length&&(r+="    if ("+t.join(" && ")+") {\n  "),r+=n.loop+";    ",t.length&&(r+="\n    }"),r+="\n  }  ";else if(r+="\n  for (index in iterable) {\n",n.useHas&&t.push("hasOwnProperty.call(iterable, index)"),t.length&&(r+="    if ("+t.join(" && ")+") {\n  "),r+=n.loop+";    ",t.length&&(r+="\n    }"),r+="\n  }    ",ai.nonEnumShadows){for(r+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)r+="\n    index = '"+n.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",n.useHas||(r+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),r+=") {\n      "+n.loop+";\n    }      ";r+="\n  }    "}return(n.array||ai.nonEnumArgs)&&(r+="\n}"),r+=n.bottom+";\nreturn result"};$e||(a=function(){function r(){}return function(t){if(Nr(t)){r.prototype=t;var e=new r;r.prototype=null}return e||n.Object()}}());var si=Je?function(n,r){rr.value=r,Je(n,"__bindData__",rr)}:ae;ai.argsClass||(br=function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Be.call(n,"callee")&&!Qe.call(n,"callee")||!1});var fi=Ke||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Fe.call(n)==U||!1},li=hr({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pi=ni?function(n){return Nr(n)?ai.enumPrototypes&&"function"==typeof n||ai.nonEnumArgs&&n.length&&br(n)?li(n):ni(n):[]}:li,hi={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pi,loop:"if (callback(iterable[index], index, collection) === false) return result"},mi={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},yi={top:"if (!objectTypes[typeof iterable]) return result;\n"+hi.top,array:!1},di={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gi=Ar(di),vi=Ce("("+pi(gi).join("|")+")","g"),bi=Ce("["+pi(di).join("")+"]","g"),xi=hr(hi),wi=hr(mi,{top:mi.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),_i=hr(mi),Si=hr(hi,yi,{useHas:!1}),Ei=hr(hi,yi);Fr(/x/)&&(Fr=function(n){return"function"==typeof n&&Fe.call(n)==X});var ji=Re?function(n){if(!n||Fe.call(n)!=$||!ai.argsClass&&br(n))return!1;var r=n.valueOf,t=dr(r)&&(t=Re(r))&&Re(t);return t?n==t||Re(n)==t:gr(n)}:gr,ki=lr(function(n,r,t){Be.call(n,t)?n[t]++:n[t]=1}),Mi=lr(function(n,r,t){(Be.call(n,t)?n[t]:n[t]=[]).push(r)}),Ci=lr(function(n,r,t){n[t]=r}),Ai=ut,Di=nt,Oi=dr(Oi=_e.now)&&Oi||function(){return(new _e).getTime()},Ii=8==ei(C+"08")?ei:function(n,r){return ei(Rr(n)?n.replace(F,""):n,r||0)};return r.after=qt,r.assign=wi,r.at=Kr,r.bind=Gt,r.bindAll=Rt,r.bindKey=Bt,r.chain=ye,r.compact=vt,r.compose=Ut,r.constant=re,r.countBy=ki,r.create=_r,r.createCallback=te,r.curry=Qt,r.debounce=Ht,r.defaults=_i,r.defer=Yt,r.delay=Xt,r.difference=bt,r.filter=nt,r.flatten=St,r.forEach=et,r.forEachRight=it,r.forIn=Si,r.forInRight=jr,r.forOwn=Ei,r.forOwnRight=kr,r.functions=Mr,r.groupBy=Mi,r.indexBy=Ci,r.initial=jt,r.intersection=kt,r.invert=Ar,r.invoke=ot,r.keys=pi,r.map=ut,r.mapValues=Ur,r.max=at,r.memoize=Jt,r.merge=Qr,r.min=ct,r.omit=Hr,r.once=$t,r.pairs=Yr,r.partial=Kt,r.partialRight=Zt,r.pick=Xr,r.pluck=Ai,r.property=ce,r.pull=At,r.range=Dt,r.reject=lt,r.remove=Ot,r.rest=It,r.shuffle=ht,r.sortBy=dt,r.tap=de,r.throttle=Wt,r.times=pe,r.toArray=gt,r.transform=Jr,r.union=Lt,r.uniq=Pt,r.values=$r,r.where=Di,r.without=Ft,r.wrap=ne,r.xor=Nt,r.zip=zt,r.zipObject=Vt,r.collect=ut,r.drop=It,r.each=et,r.eachRight=it,r.extend=wi,r.methods=Mr,r.object=Vt,r.select=nt,r.tail=It,r.unique=Pt,r.unzip=zt,oe(r),r.clone=xr,r.cloneDeep=wr,r.contains=Zr,r.escape=ee,r.every=Wr,r.find=rt,r.findIndex=xt,r.findKey=Sr,r.findLast=tt,r.findLastIndex=wt,r.findLastKey=Er,r.has=Cr,r.identity=ie,r.indexOf=Et,r.isArguments=br,r.isArray=fi,r.isBoolean=Dr,r.isDate=Or,r.isElement=Ir,r.isEmpty=Tr,r.isEqual=Lr,r.isFinite=Pr,r.isFunction=Fr,r.isNaN=zr,r.isNull=Vr,r.isNumber=qr,r.isObject=Nr,r.isPlainObject=ji,r.isRegExp=Gr,r.isString=Rr,r.isUndefined=Br,r.lastIndexOf=Ct,r.mixin=oe,r.noConflict=ue,r.noop=ae,r.now=Oi,r.parseInt=Ii,r.random=se,r.reduce=st,r.reduceRight=ft,r.result=fe,r.runInContext=v,r.size=mt,r.some=yt,r.sortedIndex=Tt,r.template=le,r.unescape=he,r.uniqueId=me,r.all=Wr,r.any=yt,r.detect=rt,r.findWhere=rt,r.foldl=st,r.foldr=ft,r.include=Zr,r.inject=st,oe(function(){var n={};
return Ei(r,function(t,e){r.prototype[e]||(n[e]=t)}),n}(),!1),r.first=_t,r.last=Mt,r.sample=pt,r.take=_t,r.head=_t,Ei(r,function(n,e){var i="sample"!==e;r.prototype[e]||(r.prototype[e]=function(r,e){var o=this.__chain__,u=n(this.__wrapped__,r,e);return o||null!=r&&(!e||i&&"function"==typeof r)?new t(u,o):u})}),r.VERSION="2.4.1",r.prototype.chain=ge,r.prototype.toString=ve,r.prototype.value=be,r.prototype.valueOf=be,xi(["join","pop","shift"],function(n){var e=Oe[n];r.prototype[n]=function(){var n=this.__chain__,r=e.apply(this.__wrapped__,arguments);return n?new t(r,n):r}}),xi(["push","reverse","sort","unshift"],function(n){var t=Oe[n];r.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),xi(["concat","slice","splice"],function(n){var e=Oe[n];r.prototype[n]=function(){return new t(e.apply(this.__wrapped__,arguments),this.__chain__)}}),ai.spliceObjects||xi(["pop","shift","splice"],function(n){var e=Oe[n],i="splice"==n;r.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,o=e.apply(r,arguments);return 0===r.length&&delete r[0],n||i?new t(o,n):o}}),r}var b,x=[],w=[],_=0,S={},E=+new Date+"",j=75,M=40,C=" 	\f\n\r\u2028\u2029",A=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,L=/^\s*function[ \n\r\t]+\w/,P=/<%=([\s\S]+?)%>/g,F=RegExp("^["+C+"]*0+(?=.$)"),N=/($^)/,z=/\bthis\b/,V=/['\n\r\t\u2028\u2029\\]/g,q=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],G=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],R=0,B="[object Arguments]",U="[object Array]",Q="[object Boolean]",H="[object Date]",Y="[object Error]",X="[object Function]",J="[object Number]",$="[object Object]",K="[object RegExp]",Z="[object String]",W={};W[X]=!1,W[B]=W[U]=W[Q]=W[H]=W[J]=W[$]=W[K]=W[Z]=!0;var nr={leading:!1,maxWait:0,trailing:!1},rr={configurable:!1,enumerable:!1,value:null,writable:!1},tr={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},er={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ir={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},or=er[typeof window]&&window||this,ur=er[typeof r]&&r&&!r.nodeType&&r,ar=er[typeof n]&&n&&!n.nodeType&&n,cr=(ar&&ar.exports===ur&&ur,er[typeof i]&&i);!cr||cr.global!==cr&&cr.window!==cr||(or=cr);var sr=v();or._=sr,e=function(){return sr}.call(r,t,r,n),!(e!==b&&(n.exports=e))}).call(this)}).call(r,t(27)(n),function(){return this}())},function(n,r,t){var e;!function(i){"use strict";function o(n,r){var t;Q.object(n),Q.object(r);for(t in r)if(r.hasOwnProperty(t)){if(n.hasOwnProperty(t)===!1||typeof n[t]!=typeof r[t])return!1;if(c(n[t])&&o(n[t],r[t])===!1)return!1}return!0}function u(n,r){return n&&y(r)&&n instanceof r?!0:!1}function a(n){return c(n)&&0===Object.keys(n).length}function c(n){return s(n)&&"[object Object]"===Object.prototype.toString.call(n)}function s(n){return!f(n)&&!l(n)}function f(n){return void 0===n}function l(n){return null===n}function p(n,r){return Q.not.undefined(r),s(n)&&n.length===r}function h(n){return Array.isArray(n)}function m(n){return"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n.getTime())}function y(n){return"function"==typeof n}function d(n){return g(n)&&/^(https?:)?\/\/([\w-\.~:@]+)(\/[\w-\.~\/\?#\[\]&\(\)\*\+,;=%]*)?$/.test(n)}function g(n){return v(n)&&""!==n}function v(n){return"string"==typeof n}function b(n){return w(n)&&!x(n)}function x(n){return E(n)&&n%2===0}function w(n){return E(n)&&n%1===0}function _(n){return E(n)&&n>0}function S(n){return E(n)&&0>n}function E(n){return"number"==typeof n&&isNaN(n)===!1&&n!==Number.POSITIVE_INFINITY&&n!==Number.NEGATIVE_INFINITY}function j(n){return n===!1||n===!0}function k(n,r){return Q.array(n),y(r)?n.map(function(n){return r(n)}):(Q.array(r),Q.length(n,r.length),n.map(function(n,t){return r[t](n)}))}function M(n,r){var t,e={};return Q.object(n),Q.object(r),t=Object.keys(r),Q.length(Object.keys(n),t.length),t.forEach(function(t){var i=r[t];y(i)?e[t]=i(n[t]):c(i)&&(e[t]=M(n[t],i))}),e}function C(n){return h(n)?A(n,!1):(Q.object(n),D(n,!1))}function A(n,r){var t;for(t=0;t<n.length;t+=1)if(n[t]===r)return r;return!r}function D(n,r){var t,e;for(t in n)if(n.hasOwnProperty(t)){if(e=n[t],c(e)&&D(e,r)===r)return r;if(e===r)return r}return!r}function O(n){return h(n)?A(n,!0):(Q.object(n),D(n,!0))}function I(n,r){return Object.keys(r).forEach(function(t){n[t]=r[t]}),n}function T(n,r){return function(){L(n,arguments,r)}}function L(n,r,t){var e;if(!n.apply(null,r))throw e=r[r.length-1],new Error(g(e)?e:t)}function P(n,r){return function(){function t(n,r){return n[r]=function(){if(e&&!B[r].apply(null,arguments))throw e},n}var e;try{L(n,arguments,r)}catch(i){e=i}return{or:Object.keys(B).reduce(t,{})}}}function F(n){return function(){return!n.apply(null,arguments)}}function N(n){return function(){return s(arguments[0])?n.apply(null,arguments):!0}}function z(n){function r(){return!0}return function(){function t(n,t){return n[t]=e?r:B[t],n}var e=n.apply(null,arguments);return{or:Object.keys(B).reduce(t,{})}}}function V(n){return q(n,B)}function q(n,r){var t={};return Object.keys(r).forEach(function(e){t[e]=n(r[e],R[e])}),t}function G(i){e=function(){return i}.call(r,t,r,n),!(void 0!==e&&(n.exports=e))}var R,B,U,Q,H,Y,X;R={like:"Invalid type",instance:"Invalid type",emptyObject:"Invalid object",object:"Invalid object",assigned:"Invalid value",undefined:"Invalid value","null":"Invalid value",length:"Invalid length",array:"Invalid array",date:"Invalid date",fn:"Invalid function",webUrl:"Invalid URL",unemptyString:"Invalid string",string:"Invalid string",odd:"Invalid number",even:"Invalid number",positive:"Invalid number",negative:"Invalid number",integer:"Invalid number",number:"Invalid number","boolean":"Invalid boolean"},B={like:o,instance:u,emptyObject:a,object:c,assigned:s,undefined:f,"null":l,length:p,array:h,date:m,"function":y,webUrl:d,unemptyString:g,string:v,odd:b,even:x,positive:_,negative:S,integer:w,number:E,"boolean":j},U={apply:k,map:M,all:C,any:O},U=I(U,B),Q=V(T),H=V(F),Y=V(N),X=V(z),Q.not=q(T,H),Q.maybe=q(T,Y),Q.either=q(P,B),G(I(U,{assert:Q,not:H,maybe:Y,either:X}))}(this)},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(n,r){var t,e,i,o;for("undefined"==typeof r&&(r=15),i=.5,t=new Date;;){for(i*=2,o=i;o>3;o-=4)n(),n(),n(),n();for(;o>0;)n(),o--;if(e=new Date,e-t>r)break}for(o=i;o>3;o-=4)n(),n(),n(),n();for(;o>0;)n(),o--;return e=new Date,1e3*(3*i-1)/(e-t)},numeric._myIndexOf=function(n){var r,t=this.length;for(r=0;t>r;++r)if(this[r]===n)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(n){function r(n){if(0===n)return"0";if(isNaN(n))return"NaN";if(0>n)return"-"+r(-n);if(isFinite(n)){var t=Math.floor(Math.log(n)/Math.log(10)),e=n/Math.pow(10,t),i=e.toPrecision(numeric.precision);return 10===parseFloat(i)&&(t++,e=1,i=e.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function t(n){var i;if("undefined"==typeof n)return e.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof n)return e.push('"'+n+'"'),!1;if("boolean"==typeof n)return e.push(n.toString()),!1;if("number"==typeof n){var o=r(n),u=n.toPrecision(numeric.precision),a=parseFloat(n.toString()).toString(),c=[o,u,a,parseFloat(u).toString(),parseFloat(a).toString()];for(i=1;i<c.length;i++)c[i].length<o.length&&(o=c[i]);return e.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===n)return e.push("null"),!1;if("function"==typeof n){e.push(n.toString());var s=!1;for(i in n)n.hasOwnProperty(i)&&(e.push(s?",\n":"\n{"),s=!0,e.push(i),e.push(": \n"),t(n[i]));return s&&e.push("}\n"),!0}if(n instanceof Array){if(n.length>numeric.largeArray)return e.push("...Large Array..."),!0;var s=!1;for(e.push("["),i=0;i<n.length;i++)i>0&&(e.push(","),s&&e.push("\n ")),s=t(n[i]);return e.push("]"),!0}e.push("{");var s=!1;for(i in n)n.hasOwnProperty(i)&&(s&&e.push(",\n"),s=!0,e.push(i),e.push(": \n"),t(n[i]));return e.push("}"),!0}var e=[];return t(n),e.join("")},numeric.parseDate=function(n){function r(n){if("string"==typeof n)return Date.parse(n.replace(/-/g,"/"));if(!(n instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var t,e=[];for(t=0;t<n.length;t++)e[t]=r(n[t]);return e}return r(n)},numeric.parseFloat=function(n){function r(n){if("string"==typeof n)return parseFloat(n);if(!(n instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var t,e=[];for(t=0;t<n.length;t++)e[t]=r(n[t]);return e}return r(n)},numeric.parseCSV=function(n){var r,t,e=n.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(n){return n.substr(0,n.length-1)},c=0;for(t=0;t<e.length;t++){var s,f=(e[t]+",").match(o);if(f.length>0){for(i[c]=[],r=0;r<f.length;r++)s=a(f[r]),i[c][r]=u.test(s)?parseFloat(s):s;c++}}return i},numeric.toCSV=function(n){var r,t,e,i,o,u,a=numeric.dim(n);for(e=a[0],i=a[1],u=[],r=0;e>r;r++){for(o=[],t=0;e>t;t++)o[t]=n[r][t].toString();u[r]=o.join(", ")}return u.join("\n")+"\n"},numeric.getURL=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(),r},numeric.imageURL=function(n){function r(n){var r,t,e,i,o,u,a,c,s=n.length,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(r=0;s>r;r+=3)t=n[r],e=n[r+1],i=n[r+2],o=t>>2,u=((3&t)<<4)+(e>>4),a=((15&e)<<2)+(i>>6),c=63&i,r+1>=s?a=c=64:r+2>=s&&(c=64),l+=f.charAt(o)+f.charAt(u)+f.charAt(a)+f.charAt(c);return l}function t(n,r,t){"undefined"==typeof r&&(r=0),"undefined"==typeof t&&(t=n.length);{var e,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,u=0;n.length}for(e=r;t>e;e++)u=255&(o^n[e]),o=o>>>8^i[u];return-1^o}var e,i,o,u,a,c,s,f,l,p,h=n[0].length,m=n[0][0].length,y=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,m>>24&255,m>>16&255,m>>8&255,255&m,h>>24&255,h>>16&255,h>>8&255,255&h,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(p=t(y,12,29),y[29]=p>>24&255,y[30]=p>>16&255,y[31]=p>>8&255,y[32]=255&p,e=1,i=0,s=0;h>s;s++){for(y.push(h-1>s?0:1),a=3*m+1+(0===s)&255,c=3*m+1+(0===s)>>8&255,y.push(a),y.push(c),y.push(255&~a),y.push(255&~c),0===s&&y.push(0),f=0;m>f;f++)for(o=0;3>o;o++)a=n[o][s][f],a=a>255?255:0>a?0:Math.round(a),e=(e+a)%65521,i=(i+e)%65521,y.push(a);y.push(0)}return l=(i<<16)+e,y.push(l>>24&255),y.push(l>>16&255),y.push(l>>8&255),y.push(255&l),u=y.length-41,y[33]=u>>24&255,y[34]=u>>16&255,y[35]=u>>8&255,y[36]=255&u,p=t(y,37),y.push(p>>24&255),y.push(p>>16&255),y.push(p>>8&255),y.push(255&p),y.push(0),y.push(0),y.push(0),y.push(0),y.push(73),y.push(69),y.push(78),y.push(68),y.push(174),y.push(66),y.push(96),y.push(130),"data:image/png;base64,"+r(y)},numeric._dim=function(n){for(var r=[];"object"==typeof n;)r.push(n.length),n=n[0];return r},numeric.dim=function(n){var r,t;return"object"==typeof n?(r=n[0],"object"==typeof r?(t=r[0],"object"==typeof t?numeric._dim(n):[n.length,r.length]):[n.length]):[]},numeric.mapreduce=function(n,r){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+';\nif(typeof x === "number") { var xi = x; '+n+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+n+";\n    xi = x[i-1];\n    "+n+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+n+"\n}\nreturn accum;")},numeric.mapreduce2=function(n,r){return Function("x","var n = x.length;\nvar i,xi;\n"+r+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+n+";\n}\nreturn accum;")},numeric.same=function n(r,t){var e,i;if(!(r instanceof Array&&t instanceof Array))return!1;if(i=r.length,i!==t.length)return!1;for(e=0;i>e;e++)if(r[e]!==t[e]){if("object"!=typeof r[e])return!1;if(!n(r[e],t[e]))return!1}return!0},numeric.rep=function(n,r,t){"undefined"==typeof t&&(t=0);var e,i=n[t],o=Array(i);if(t===n.length-1){for(e=i-2;e>=0;e-=2)o[e+1]=r,o[e]=r;return-1===e&&(o[0]=r),o}for(e=i-1;e>=0;e--)o[e]=numeric.rep(n,r,t+1);return o},numeric.dotMMsmall=function(n,r){var t,e,i,o,u,a,c,s,f,l,p;for(o=n.length,u=r.length,a=r[0].length,c=Array(o),t=o-1;t>=0;t--){for(s=Array(a),f=n[t],i=a-1;i>=0;i--){for(l=f[u-1]*r[u-1][i],e=u-2;e>=1;e-=2)p=e-1,l+=f[e]*r[e][i]+f[p]*r[p][i];0===e&&(l+=f[0]*r[0][i]),s[i]=l}c[t]=s}return c},numeric._getCol=function(n,r,t){var e,i=n.length;for(e=i-1;e>0;--e)t[e]=n[e][r],--e,t[e]=n[e][r];0===e&&(t[0]=n[0][r])},numeric.dotMMbig=function(n,r){var t,e,i,o,u=numeric._getCol,a=r.length,c=Array(a),s=n.length,f=r[0].length,l=new Array(s),p=numeric.dotVV;for(--a,--s,e=s;-1!==e;--e)l[e]=Array(f);for(--f,e=f;-1!==e;--e)for(u(r,e,c),i=s;-1!==i;--i)o=0,t=n[i],l[i][e]=p(t,c);return l},numeric.dotMV=function(n,r){var t,e=n.length,i=(r.length,Array(e)),o=numeric.dotVV;for(t=e-1;t>=0;t--)i[t]=o(n[t],r);return i},numeric.dotVM=function(n,r){var t,e,i,o,u,a,c;for(i=n.length,o=r[0].length,u=Array(o),e=o-1;e>=0;e--){for(a=n[i-1]*r[i-1][e],t=i-2;t>=1;t-=2)c=t-1,a+=n[t]*r[t][e]+n[c]*r[c][e];0===t&&(a+=n[0]*r[0][e]),u[e]=a}return u},numeric.dotVV=function(n,r){var t,e,i=n.length,o=n[i-1]*r[i-1];for(t=i-2;t>=1;t-=2)e=t-1,o+=n[t]*r[t]+n[e]*r[e];return 0===t&&(o+=n[0]*r[0]),o},numeric.dot=function(n,r){var t=numeric.dim;switch(1e3*t(n).length+t(r).length){case 2002:return r.length<10?numeric.dotMMsmall(n,r):numeric.dotMMbig(n,r);case 2001:return numeric.dotMV(n,r);case 1002:return numeric.dotVM(n,r);case 1001:return numeric.dotVV(n,r);case 1e3:return numeric.mulVS(n,r);case 1:return numeric.mulSV(n,r);case 0:return n*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(n){var r,t,e,i,o=n.length,u=Array(o);for(r=o-1;r>=0;r--){for(i=Array(o),t=r+2,e=o-1;e>=t;e-=2)i[e]=0,i[e-1]=0;for(e>r&&(i[e]=0),i[r]=n[r],e=r-1;e>=1;e-=2)i[e]=0,i[e-1]=0;0===e&&(i[0]=0),u[r]=i}return u},numeric.getDiag=function(n){var r,t=Math.min(n.length,n[0].length),e=Array(t);for(r=t-1;r>=1;--r)e[r]=n[r][r],--r,e[r]=n[r][r];return 0===r&&(e[0]=n[0][0]),e},numeric.identity=function(n){return numeric.diag(numeric.rep([n],1))},numeric.pointwise=function(n,r,t){"undefined"==typeof t&&(t="");var e,i,o=[],u=/\[i\]$/,a="",c=!1;for(e=0;e<n.length;e++)u.test(n[e])?(i=n[e].substring(0,n[e].length-3),a=i):i=n[e],"ret"===i&&(c=!0),o.push(i);return o[n.length]="_s",o[n.length+1]="_k",o[n.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(c?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+n.join(",")+",_s,_k+1);\n    return ret;\n}\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n    "+r+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(n,r,t){"undefined"==typeof t&&(t="");var e,i,o=[],u=/\[i\]$/,a="",c=!1;for(e=0;e<n.length;e++)u.test(n[e])?(i=n[e].substring(0,n[e].length-3),a=i):i=n[e],"ret"===i&&(c=!0),o.push(i);return o[n.length]="var _n = "+a+".length;\nvar i"+(c?"":", ret = Array(_n)")+";\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n"+r+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function r(n,t,e,i,o){if(i===e.length-1)return void o(n,t);var u,a=e[i];for(u=a-1;u>=0;u--)r("object"==typeof n?n[u]:n,"object"==typeof t?t[u]:t,e,i+1,o)},numeric._biforeach2=function t(n,r,e,i,o){if(i===e.length-1)return o(n,r);var u,a=e[i],c=Array(a);for(u=a-1;u>=0;--u)c[u]=t("object"==typeof n?n[u]:n,"object"==typeof r?r[u]:r,e,i+1,o);return c},numeric._foreach=function e(n,r,t,i){if(t===r.length-1)return void i(n);var o,u=r[t];for(o=u-1;o>=0;o--)e(n[o],r,t+1,i)},numeric._foreach2=function i(n,r,t,e){if(t===r.length-1)return e(n);var o,u=r[t],a=Array(u);for(o=u-1;o>=0;o--)a[o]=i(n[o],r,t+1,e);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var n,r;for(n=0;n<numeric.mathfuns2.length;++n)r=numeric.mathfuns2[n],numeric.ops2[r]=r;for(n in numeric.ops2)if(numeric.ops2.hasOwnProperty(n)){r=numeric.ops2[n];var t,e,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,n)?(i="var "+r+" = Math."+r+";\n",t=function(n,t,e){return n+" = "+r+"("+t+","+e+")"},e=function(n,t){return n+" = "+r+"("+n+","+t+")"}):(t=function(n,t,e){return n+" = "+t+" "+r+" "+e},e=numeric.opseq.hasOwnProperty(n+"eq")?function(n,t){return n+" "+r+"= "+t}:function(n,t){return n+" = "+n+" "+r+" "+t}),numeric[n+"VV"]=numeric.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),i),numeric[n+"SV"]=numeric.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),i),numeric[n+"VS"]=numeric.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),i),numeric[n]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+n+"VV, VS = numeric."+n+"VS, SV = numeric."+n+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+e("x","y")+"\n}\nreturn x;\n"),numeric[r]=numeric[n],numeric[n+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],e("ret[i]","x[i]"),i),numeric[n+"eqS"]=numeric.pointwise2(["ret[i]","x"],e("ret[i]","x"),i),numeric[n+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+n+"eqV, S = numeric."+n+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(n=0;n<numeric.mathfuns2.length;++n)r=numeric.mathfuns2[n],delete numeric.ops2[r];for(n=0;n<numeric.mathfuns.length;++n)r=numeric.mathfuns[n],numeric.ops1[r]=r;for(n in numeric.ops1)numeric.ops1.hasOwnProperty(n)&&(i="",r=numeric.ops1[n],-1!==numeric.myIndexOf.call(numeric.mathfuns,n)&&Math.hasOwnProperty(r)&&(i="var "+r+" = Math."+r+";\n"),numeric[n+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",i),numeric[n+"eq"]=Function("x",'if(typeof x !== "object") return '+r+"x\nvar i;\nvar V = numeric."+n+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[n+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",i),numeric[n]=Function("x",'if(typeof x !== "object") return '+r+"(x)\nvar i;\nvar V = numeric."+n+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(n=0;n<numeric.mathfuns.length;++n)r=numeric.mathfuns[n],delete numeric.ops1[r];for(n in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(n)&&(r=numeric.mapreducers[n],numeric[n+"V"]=numeric.mapreduce2(r[0],r[1]),numeric[n]=Function("x","s","k",r[1]+'if(typeof x !== "object") {    xi = x;\n'+r[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+n+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+r[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(n,r){return"object"==typeof n?"object"==typeof r?numeric.truncVV(n,r):numeric.truncVS(n,r):"object"==typeof r?numeric.truncSV(n,r):Math.round(n/r)*r},numeric.inv=function(n){var r,t,e,i,o,u,a,n,c=numeric.dim(n),s=Math.abs,f=c[0],l=c[1],p=numeric.clone(n),h=numeric.identity(f);for(u=0;l>u;++u){var m=-1,y=-1;for(o=u;o!==f;++o)a=s(p[o][u]),a>y&&(m=o,y=a);for(t=p[m],p[m]=p[u],p[u]=t,i=h[m],h[m]=h[u],h[u]=i,n=t[u],a=u;a!==l;++a)t[a]/=n;for(a=l-1;-1!==a;--a)i[a]/=n;for(o=f-1;-1!==o;--o)if(o!==u){for(r=p[o],e=h[o],n=r[u],a=u+1;a!==l;++a)r[a]-=t[a]*n;for(a=l-1;a>0;--a)e[a]-=i[a]*n,--a,e[a]-=i[a]*n;0===a&&(e[0]-=i[0]*n)}}return h},numeric.det=function(n){var r=numeric.dim(n);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var t,e,i,o,u,a,c,s,f=r[0],l=1,p=numeric.clone(n);for(e=0;f-1>e;e++){for(i=e,t=e+1;f>t;t++)Math.abs(p[t][e])>Math.abs(p[i][e])&&(i=t);for(i!==e&&(c=p[i],p[i]=p[e],p[e]=c,l*=-1),o=p[e],t=e+1;f>t;t++){for(u=p[t],a=u[e]/o[e],i=e+1;f-1>i;i+=2)s=i+1,u[i]-=o[i]*a,u[s]-=o[s]*a;i!==f&&(u[i]-=o[i]*a)}if(0===o[e])return 0;l*=o[e]}return l*p[e][e]},numeric.transpose=function(n){var r,t,e,i,o,u=n.length,a=n[0].length,c=Array(a);for(t=0;a>t;t++)c[t]=Array(u);for(r=u-1;r>=1;r-=2){for(i=n[r],e=n[r-1],t=a-1;t>=1;--t)o=c[t],o[r]=i[t],o[r-1]=e[t],--t,o=c[t],o[r]=i[t],o[r-1]=e[t];0===t&&(o=c[0],o[r]=i[0],o[r-1]=e[0])}if(0===r){for(e=n[0],t=a-1;t>=1;--t)c[t][0]=e[t],--t,c[t][0]=e[t];0===t&&(c[0][0]=e[0])}return c},numeric.negtranspose=function(n){var r,t,e,i,o,u=n.length,a=n[0].length,c=Array(a);for(t=0;a>t;t++)c[t]=Array(u);for(r=u-1;r>=1;r-=2){for(i=n[r],e=n[r-1],t=a-1;t>=1;--t)o=c[t],o[r]=-i[t],o[r-1]=-e[t],--t,o=c[t],o[r]=-i[t],o[r-1]=-e[t];0===t&&(o=c[0],o[r]=-i[0],o[r-1]=-e[0])}if(0===r){for(e=n[0],t=a-1;t>=1;--t)c[t][0]=-e[t],--t,c[t][0]=-e[t];0===t&&(c[0][0]=-e[0])}return c},numeric._random=function o(n,r){var t,e,i=n[r],u=Array(i);if(r===n.length-1){for(e=Math.random,t=i-1;t>=1;t-=2)u[t]=e(),u[t-1]=e();return 0===t&&(u[0]=e()),u}for(t=i-1;t>=0;t--)u[t]=o(n,r+1);return u},numeric.random=function(n){return numeric._random(n,0)},numeric.norm2=function(n){return Math.sqrt(numeric.norm2Squared(n))},numeric.linspace=function(n,r,t){if("undefined"==typeof t&&(t=Math.max(Math.round(r-n)+1,1)),2>t)return 1===t?[n]:[];var e,i=Array(t);for(t--,e=t;e>=0;e--)i[e]=(e*r+(t-e)*n)/t;return i},numeric.getBlock=function(n,r,t){function e(n,o){var u,a=r[o],c=t[o]-a,s=Array(c);if(o===i.length-1){for(u=c;u>=0;u--)s[u]=n[u+a];return s}for(u=c;u>=0;u--)s[u]=e(n[u+a],o+1);return s}var i=numeric.dim(n);return e(n,0)},numeric.setBlock=function(n,r,t,e){function i(n,e,u){var a,c=r[u],s=t[u]-c;if(u===o.length-1)for(a=s;a>=0;a--)n[a+c]=e[a];for(a=s;a>=0;a--)i(n[a+c],e[a],u+1)}var o=numeric.dim(n);return i(n,e,0),n},numeric.getRange=function(n,r,t){var e,i,o,u,a=r.length,c=t.length,s=Array(a);for(e=a-1;-1!==e;--e)for(s[e]=Array(c),o=s[e],u=n[r[e]],i=c-1;-1!==i;--i)o[i]=u[t[i]];return s},numeric.blockMatrix=function(n){var r=numeric.dim(n);if(r.length<4)return numeric.blockMatrix([n]);var t,e,i,o,u,a=r[0],c=r[1];for(t=0,e=0,i=0;a>i;++i)t+=n[i][0].length;for(o=0;c>o;++o)e+=n[0][o][0].length;var s=Array(t);for(i=0;t>i;++i)s[i]=Array(e);var f,l,p,h,m,y=0;for(i=0;a>i;++i){for(f=e,o=c-1;-1!==o;--o)for(u=n[i][o],f-=u[0].length,p=u.length-1;-1!==p;--p)for(m=u[p],l=s[y+p],h=m.length-1;-1!==h;--h)l[f+h]=m[h];y+=n[i][0].length}return s},numeric.tensor=function(n,r){if("number"==typeof n||"number"==typeof r)return numeric.mul(n,r);var t=numeric.dim(n),e=numeric.dim(r);if(1!==t.length||1!==e.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,u,a,c=t[0],s=e[0],f=Array(c);for(o=c-1;o>=0;o--){for(i=Array(s),a=n[o],u=s-1;u>=3;--u)i[u]=a*r[u],--u,i[u]=a*r[u],--u,i[u]=a*r[u],--u,i[u]=a*r[u];for(;u>=0;)i[u]=a*r[u],--u;f[o]=i}return f},numeric.T=function(n,r){this.x=n,this.y=r},numeric.t=function(n,r){return new numeric.T(n,r)},numeric.Tbinop=function(n,r,t,e,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(n.indexOf(o)>=0||r.indexOf(o)>=0||t.indexOf(o)>=0||e.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+e+");\n  }\n  return new numeric.T("+t+");\n}\nif(y.y) {\n  return new numeric.T("+r+");\n}\nreturn new numeric.T("+n+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var n=numeric.mul,r=numeric.div;if(this.y){var t=numeric.add(n(this.x,this.x),n(this.y,this.y));return new numeric.T(r(this.x,t),r(numeric.neg(this.y),t))}return new T(r(1,this.x))},numeric.T.prototype.div=function u(n){if(n instanceof numeric.T||(n=new numeric.T(n)),n.y)return this.mul(n.reciprocal());var u=numeric.div;return this.y?new numeric.T(u(this.x,n.x),u(this.y,n.x)):new numeric.T(u(this.x,n.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var n=numeric.transpose,r=this.x,t=this.y;return t?new numeric.T(n(r),n(t)):new numeric.T(n(r))},numeric.T.prototype.transjugate=function(){var n=numeric.transpose,r=this.x,t=this.y;return t?new numeric.T(n(r),numeric.negtranspose(t)):new numeric.T(n(r))},numeric.Tunop=function(n,r,t){return"string"!=typeof t&&(t=""),Function("var x = this;\n"+t+"\nif(x.y) {  "+r+";\n}\n"+n+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var n=this;if("undefined"==typeof n.y)return new numeric.T(numeric.inv(n.x));var r,t,e,i,o,u,a,c,s,f,l,r,t,e,p,h,m,y,d,g,v,b=n.x.length,x=numeric.identity(b),w=numeric.rep([b,b],0),_=numeric.clone(n.x),S=numeric.clone(n.y);for(r=0;b>r;r++){for(m=_[r][r],y=S[r][r],p=m*m+y*y,e=r,t=r+1;b>t;t++)m=_[t][r],y=S[t][r],h=m*m+y*y,h>p&&(e=t,p=h);for(e!==r&&(v=_[r],_[r]=_[e],_[e]=v,v=S[r],S[r]=S[e],S[e]=v,v=x[r],x[r]=x[e],x[e]=v,v=w[r],w[r]=w[e],w[e]=v),i=_[r],o=S[r],c=x[r],s=w[r],m=i[r],y=o[r],t=r+1;b>t;t++)d=i[t],g=o[t],i[t]=(d*m+g*y)/p,o[t]=(g*m-d*y)/p;for(t=0;b>t;t++)d=c[t],g=s[t],c[t]=(d*m+g*y)/p,s[t]=(g*m-d*y)/p;for(t=r+1;b>t;t++){for(u=_[t],a=S[t],f=x[t],l=w[t],m=u[r],y=a[r],e=r+1;b>e;e++)d=i[e],g=o[e],u[e]-=d*m-g*y,a[e]-=g*m+d*y;for(e=0;b>e;e++)d=c[e],g=s[e],f[e]-=d*m-g*y,l[e]-=g*m+d*y}}for(r=b-1;r>0;r--)for(c=x[r],s=w[r],t=r-1;t>=0;t--)for(f=x[t],l=w[t],m=_[t][r],y=S[t][r],e=b-1;e>=0;e--)d=c[e],g=s[e],f[e]-=m*d-y*g,l[e]-=m*g+y*d;return new numeric.T(x,w)},numeric.T.prototype.get=function(n){var r,t=this.x,e=this.y,i=0,o=n.length;if(e){for(;o>i;)r=n[i],t=t[r],e=e[r],i++;return new numeric.T(t,e)}for(;o>i;)r=n[i],t=t[r],i++;return new numeric.T(t)
},numeric.T.prototype.set=function(n,r){var t,e=this.x,i=this.y,o=0,u=n.length,a=r.x,c=r.y;if(0===u)return c?this.y=c:i&&(this.y=void 0),this.x=e,this;if(c){for(i||(i=numeric.rep(numeric.dim(e),0),this.y=i);u-1>o;)t=n[o],e=e[t],i=i[t],o++;return t=n[o],e[t]=a,i[t]=c,this}if(i){for(;u-1>o;)t=n[o],e=e[t],i=i[t],o++;return t=n[o],e[t]=a,i[t]=a instanceof Array?numeric.rep(numeric.dim(a),0):0,this}for(;u-1>o;)t=n[o],e=e[t],o++;return t=n[o],e[t]=a,this},numeric.T.prototype.getRows=function(n,r){var t,e,i=r-n+1,o=Array(i),u=this.x,a=this.y;for(t=n;r>=t;t++)o[t-n]=u[t];if(a){for(e=Array(i),t=n;r>=t;t++)e[t-n]=a[t];return new numeric.T(o,e)}return new numeric.T(o)},numeric.T.prototype.setRows=function(n,r,t){var e,i=this.x,o=this.y,u=t.x,a=t.y;for(e=n;r>=e;e++)i[e]=u[e-n];if(a)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),e=n;r>=e;e++)o[e]=a[e-n];else if(o)for(e=n;r>=e;e++)o[e]=numeric.rep([u[e-n].length],0);return this},numeric.T.prototype.getRow=function(n){var r=this.x,t=this.y;return t?new numeric.T(r[n],t[n]):new numeric.T(r[n])},numeric.T.prototype.setRow=function(n,r){var t=this.x,e=this.y,i=r.x,o=r.y;return t[n]=i,o?(e||(e=numeric.rep(numeric.dim(t),0),this.y=e),e[n]=o):e&&(e=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(n,r){var t=this.x,e=this.y,i=numeric.getBlock;return e?new numeric.T(i(t,n,r),i(e,n,r)):new numeric.T(i(t,n,r))},numeric.T.prototype.setBlock=function(n,r,t){t instanceof numeric.T||(t=new numeric.T(t));var e=this.x,i=this.y,o=numeric.setBlock,u=t.x,a=t.y;return a?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(e,n,r,u),o(i,n,r,a),this):(o(e,n,r,u),void(i&&o(i,n,r,numeric.rep(numeric.dim(u),0))))},numeric.T.rep=function(n,r){var t=numeric.T;r instanceof t||(r=new t(r));var e=r.x,i=r.y,o=numeric.rep;return i?new t(o(n,e),o(n,i)):new t(o(n,e))},numeric.T.diag=function a(n){n instanceof numeric.T||(n=new numeric.T(n));var r=n.x,t=n.y,a=numeric.diag;return t?new numeric.T(a(r),a(t)):new numeric.T(a(r))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(n){return new numeric.T(numeric.identity(n))},numeric.T.prototype.getDiag=function(){var n=numeric,r=this.x,t=this.y;return t?new n.T(n.getDiag(r),n.getDiag(t)):new n.T(n.getDiag(r))},numeric.house=function(n){var r=numeric.clone(n),t=n[0]>=0?1:-1,e=t*numeric.norm2(n);r[0]+=e;var i=numeric.norm2(r);if(0===i)throw new Error("eig: internal error");return numeric.div(r,i)},numeric.toUpperHessenberg=function(n){var r=numeric.dim(n);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var t,e,i,o,u,a,c,s,f,l,p=r[0],h=numeric.clone(n),m=numeric.identity(p);for(e=0;p-2>e;e++){for(o=Array(p-e-1),t=e+1;p>t;t++)o[t-e-1]=h[t][e];if(numeric.norm2(o)>0){for(u=numeric.house(o),a=numeric.getBlock(h,[e+1,e],[p-1,p-1]),c=numeric.tensor(u,numeric.dot(u,a)),t=e+1;p>t;t++)for(s=h[t],f=c[t-e-1],i=e;p>i;i++)s[i]-=2*f[i-e];for(a=numeric.getBlock(h,[0,e+1],[p-1,p-1]),c=numeric.tensor(numeric.dot(a,u),u),t=0;p>t;t++)for(s=h[t],f=c[t],i=e+1;p>i;i++)s[i]-=2*f[i-e-1];for(a=Array(p-e-1),t=e+1;p>t;t++)a[t-e-1]=m[t];for(c=numeric.tensor(u,numeric.dot(u,a)),t=e+1;p>t;t++)for(l=m[t],f=c[t-e-1],i=0;p>i;i++)l[i]-=2*f[i]}}return{H:h,Q:m}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(n,r){"undefined"==typeof r&&(r=1e4),n=numeric.clone(n);var t,e,i,o,u,a,c,s,f,l,p,h,m,y,d,g,v,b,x=(numeric.clone(n),numeric.dim(n)),w=x[0],_=numeric.identity(w);if(3>w)return{Q:_,B:[[0,w-1]]};var S=numeric.epsilon;for(b=0;r>b;b++){for(g=0;w-1>g;g++)if(Math.abs(n[g+1][g])<S*(Math.abs(n[g][g])+Math.abs(n[g+1][g+1]))){var E=numeric.QRFrancis(numeric.getBlock(n,[0,0],[g,g]),r),j=numeric.QRFrancis(numeric.getBlock(n,[g+1,g+1],[w-1,w-1]),r);for(h=Array(g+1),d=0;g>=d;d++)h[d]=_[d];for(m=numeric.dot(E.Q,h),d=0;g>=d;d++)_[d]=m[d];for(h=Array(w-g-1),d=g+1;w>d;d++)h[d-g-1]=_[d];for(m=numeric.dot(j.Q,h),d=g+1;w>d;d++)_[d]=m[d-g-1];return{Q:_,B:E.B.concat(numeric.add(j.B,g+1))}}if(i=n[w-2][w-2],o=n[w-2][w-1],u=n[w-1][w-2],a=n[w-1][w-1],s=i+a,c=i*a-o*u,f=numeric.getBlock(n,[0,0],[2,2]),s*s>=4*c){var k,M;k=.5*(s+Math.sqrt(s*s-4*c)),M=.5*(s-Math.sqrt(s*s-4*c)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,k+M)),numeric.diag(numeric.rep([3],k*M)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,s)),numeric.diag(numeric.rep([3],c)));for(t=[f[0][0],f[1][0],f[2][0]],e=numeric.house(t),h=[n[0],n[1],n[2]],m=numeric.tensor(e,numeric.dot(e,h)),d=0;3>d;d++)for(p=n[d],y=m[d],v=0;w>v;v++)p[v]-=2*y[v];for(h=numeric.getBlock(n,[0,0],[w-1,2]),m=numeric.tensor(numeric.dot(h,e),e),d=0;w>d;d++)for(p=n[d],y=m[d],v=0;3>v;v++)p[v]-=2*y[v];for(h=[_[0],_[1],_[2]],m=numeric.tensor(e,numeric.dot(e,h)),d=0;3>d;d++)for(l=_[d],y=m[d],v=0;w>v;v++)l[v]-=2*y[v];var C;for(g=0;w-2>g;g++){for(v=g;g+1>=v;v++)if(Math.abs(n[v+1][v])<S*(Math.abs(n[v][v])+Math.abs(n[v+1][v+1]))){var E=numeric.QRFrancis(numeric.getBlock(n,[0,0],[v,v]),r),j=numeric.QRFrancis(numeric.getBlock(n,[v+1,v+1],[w-1,w-1]),r);for(h=Array(v+1),d=0;v>=d;d++)h[d]=_[d];for(m=numeric.dot(E.Q,h),d=0;v>=d;d++)_[d]=m[d];for(h=Array(w-v-1),d=v+1;w>d;d++)h[d-v-1]=_[d];for(m=numeric.dot(j.Q,h),d=v+1;w>d;d++)_[d]=m[d-v-1];return{Q:_,B:E.B.concat(numeric.add(j.B,v+1))}}for(C=Math.min(w-1,g+3),t=Array(C-g),d=g+1;C>=d;d++)t[d-g-1]=n[d][g];for(e=numeric.house(t),h=numeric.getBlock(n,[g+1,g],[C,w-1]),m=numeric.tensor(e,numeric.dot(e,h)),d=g+1;C>=d;d++)for(p=n[d],y=m[d-g-1],v=g;w>v;v++)p[v]-=2*y[v-g];for(h=numeric.getBlock(n,[0,g+1],[w-1,C]),m=numeric.tensor(numeric.dot(h,e),e),d=0;w>d;d++)for(p=n[d],y=m[d],v=g+1;C>=v;v++)p[v]-=2*y[v-g-1];for(h=Array(C-g),d=g+1;C>=d;d++)h[d-g-1]=_[d];for(m=numeric.tensor(e,numeric.dot(e,h)),d=g+1;C>=d;d++)for(l=_[d],y=m[d-g-1],v=0;w>v;v++)l[v]-=2*y[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(n,r){var t,e,i,o,u,a,c,s,f,l,p,h,m,y,d,g,v,b=numeric.toUpperHessenberg(n),x=numeric.QRFrancis(b.H,r),w=numeric.T,_=n.length,S=x.B,E=numeric.dot(x.Q,numeric.dot(b.H,numeric.transpose(x.Q))),j=new w(numeric.dot(x.Q,b.Q)),k=S.length,M=Math.sqrt;for(e=0;k>e;e++)if(t=S[e][0],t===S[e][1]);else{if(o=t+1,u=E[t][t],a=E[t][o],c=E[o][t],s=E[o][o],0===a&&0===c)continue;f=-u-s,l=u*s-a*c,p=f*f-4*l,p>=0?(h=0>f?-.5*(f-M(p)):-.5*(f+M(p)),g=(u-h)*(u-h)+a*a,v=c*c+(s-h)*(s-h),g>v?(g=M(g),y=(u-h)/g,d=a/g):(v=M(v),y=c/v,d=(s-h)/v),i=new w([[d,-y],[y,d]]),j.setRows(t,o,i.dot(j.getRows(t,o)))):(h=-.5*f,m=.5*M(-p),g=(u-h)*(u-h)+a*a,v=c*c+(s-h)*(s-h),g>v?(g=M(g+m*m),y=(u-h)/g,d=a/g,h=0,m/=g):(v=M(v+m*m),y=c/v,d=(s-h)/v,h=m/v,m=0),i=new w([[d,-y],[y,d]],[[h,m],[m,-h]]),j.setRows(t,o,i.dot(j.getRows(t,o))))}var C=j.dot(n).dot(j.transjugate()),_=n.length,A=numeric.T.identity(_);for(o=0;_>o;o++)if(o>0)for(e=o-1;e>=0;e--){var D=C.get([e,e]),O=C.get([o,o]);numeric.neq(D.x,O.x)||numeric.neq(D.y,O.y)?(h=C.getRow(e).getBlock([e],[o-1]),m=A.getRow(o).getBlock([e],[o-1]),A.set([o,e],C.get([e,o]).neg().sub(h.dot(m)).div(D.sub(O)))):A.setRow(o,A.getRow(e))}for(o=0;_>o;o++)h=A.getRow(o),A.setRow(o,h.div(h.norm2()));return A=A.transpose(),A=j.transjugate().dot(A),{lambda:C.getDiag(),E:A}},numeric.ccsSparse=function(n){var r,t,e,i,o=n.length,u=[];for(e=o-1;-1!==e;--e){t=n[e];for(i in t){for(i=parseInt(i);i>=u.length;)u[u.length]=0;0!==t[i]&&u[i]++}}var r=u.length,a=Array(r+1);for(a[0]=0,e=0;r>e;++e)a[e+1]=a[e]+u[e];var c=Array(a[r]),s=Array(a[r]);for(e=o-1;-1!==e;--e){t=n[e];for(i in t)0!==t[i]&&(u[i]--,c[a[i]+u[i]]=e,s[a[i]+u[i]]=t[i])}return[a,c,s]},numeric.ccsFull=function(n){var r,t,e,i,o=n[0],u=n[1],a=n[2],c=numeric.ccsDim(n),s=c[0],f=c[1],l=numeric.rep([s,f],0);for(r=0;f>r;r++)for(e=o[r],i=o[r+1],t=e;i>t;++t)l[u[t]][r]=a[t];return l},numeric.ccsTSolve=function(n,r,t,e,i){function o(n){var r;if(0===t[n]){for(t[n]=1,r=u[n];r<u[n+1];++r)o(a[r]);i[l]=n,++l}}var u=n[0],a=n[1],c=n[2],s=u.length-1,f=Math.max,l=0;"undefined"==typeof e&&(t=numeric.rep([s],0)),"undefined"==typeof e&&(e=numeric.linspace(0,t.length-1)),"undefined"==typeof i&&(i=[]);var p,h,m,y,d,g,v;for(p=e.length-1;-1!==p;--p)o(e[p]);for(i.length=l,p=i.length-1;-1!==p;--p)t[i[p]]=0;for(p=e.length-1;-1!==p;--p)h=e[p],t[h]=r[h];for(p=i.length-1;-1!==p;--p){for(h=i[p],m=u[h],y=f(u[h+1],m),d=m;d!==y;++d)if(a[d]===h){t[h]/=c[d];break}for(v=t[h],d=m;d!==y;++d)g=a[d],g!==h&&(t[g]-=v*c[d])}return t},numeric.ccsDFS=function(n){this.k=Array(n),this.k1=Array(n),this.j=Array(n)},numeric.ccsDFS.prototype.dfs=function(n,r,t,e,i,o){var u,a,c,s=0,f=i.length,l=this.k,p=this.k1,h=this.j;if(0===e[n])for(e[n]=1,h[0]=n,l[0]=a=r[n],p[0]=c=r[n+1];;)if(a>=c){if(i[f]=h[s],0===s)return;++f,--s,a=l[s],c=p[s]}else u=o[t[a]],0===e[u]?(e[u]=1,l[s]=a,++s,h[s]=u,a=r[u],p[s]=c=r[u+1]):++a},numeric.ccsLPSolve=function(n,r,t,e,i,o,u){var a,c,s,f,l,p,h,m,y,d=n[0],g=n[1],v=n[2],b=(d.length-1,r[0]),x=r[1],w=r[2];for(c=b[i],s=b[i+1],e.length=0,a=c;s>a;++a)u.dfs(o[x[a]],d,g,t,e,o);for(a=e.length-1;-1!==a;--a)t[e[a]]=0;for(a=c;a!==s;++a)f=o[x[a]],t[f]=w[a];for(a=e.length-1;-1!==a;--a){for(f=e[a],l=d[f],p=d[f+1],h=l;p>h;++h)if(o[g[h]]===f){t[f]/=v[h];break}for(y=t[f],h=l;p>h;++h)m=o[g[h]],m!==f&&(t[m]-=y*v[h])}return t},numeric.ccsLUP1=function(n,r){var t,e,i,o,u,a,c,s=n[0].length-1,f=[numeric.rep([s+1],0),[],[]],l=[numeric.rep([s+1],0),[],[]],p=f[0],h=f[1],m=f[2],y=l[0],d=l[1],g=l[2],v=numeric.rep([s],0),b=numeric.rep([s],0),x=numeric.ccsLPSolve,w=(Math.max,Math.abs),_=numeric.linspace(0,s-1),S=numeric.linspace(0,s-1),E=new numeric.ccsDFS(s);for("undefined"==typeof r&&(r=1),t=0;s>t;++t){for(x(f,n,v,b,t,S,E),o=-1,u=-1,e=b.length-1;-1!==e;--e)i=b[e],t>=i||(a=w(v[i]),a>o&&(u=i,o=a));for(w(v[t])<r*o&&(e=_[t],o=_[u],_[t]=o,S[o]=t,_[u]=e,S[e]=u,o=v[t],v[t]=v[u],v[u]=o),o=p[t],u=y[t],c=v[t],h[o]=_[t],m[o]=1,++o,e=b.length-1;-1!==e;--e)i=b[e],a=v[i],b[e]=0,v[i]=0,t>=i?(d[u]=i,g[u]=a,++u):(h[o]=_[i],m[o]=a/c,++o);p[t+1]=o,y[t+1]=u}for(e=h.length-1;-1!==e;--e)h[e]=S[h[e]];return{L:f,U:l,P:_,Pinv:S}},numeric.ccsDFS0=function(n){this.k=Array(n),this.k1=Array(n),this.j=Array(n)},numeric.ccsDFS0.prototype.dfs=function(n,r,t,e,i,o){var u,a,c,s=0,f=i.length,l=this.k,p=this.k1,h=this.j;if(0===e[n])for(e[n]=1,h[0]=n,l[0]=a=r[o[n]],p[0]=c=r[o[n]+1];;){if(isNaN(a))throw new Error("Ow!");if(a>=c){if(i[f]=o[h[s]],0===s)return;++f,--s,a=l[s],c=p[s]}else u=t[a],0===e[u]?(e[u]=1,l[s]=a,++s,h[s]=u,u=o[u],a=r[u],p[s]=c=r[u+1]):++a}},numeric.ccsLPSolve0=function(n,r,t,e,i,o,u,a){var c,s,f,l,p,h,m,y,d,g=n[0],v=n[1],b=n[2],x=(g.length-1,r[0]),w=r[1],_=r[2];for(s=x[i],f=x[i+1],e.length=0,c=s;f>c;++c)a.dfs(w[c],g,v,t,e,o,u);for(c=e.length-1;-1!==c;--c)l=e[c],t[u[l]]=0;for(c=s;c!==f;++c)l=w[c],t[l]=_[c];for(c=e.length-1;-1!==c;--c){for(l=e[c],y=u[l],p=g[l],h=g[l+1],m=p;h>m;++m)if(v[m]===y){t[y]/=b[m];break}for(d=t[y],m=p;h>m;++m)t[v[m]]-=d*b[m];t[y]=d}},numeric.ccsLUP0=function(n,r){var t,e,i,o,u,a,c,s=n[0].length-1,f=[numeric.rep([s+1],0),[],[]],l=[numeric.rep([s+1],0),[],[]],p=f[0],h=f[1],m=f[2],y=l[0],d=l[1],g=l[2],v=numeric.rep([s],0),b=numeric.rep([s],0),x=numeric.ccsLPSolve0,w=(Math.max,Math.abs),_=numeric.linspace(0,s-1),S=numeric.linspace(0,s-1),E=new numeric.ccsDFS0(s);for("undefined"==typeof r&&(r=1),t=0;s>t;++t){for(x(f,n,v,b,t,S,_,E),o=-1,u=-1,e=b.length-1;-1!==e;--e)i=b[e],t>=i||(a=w(v[_[i]]),a>o&&(u=i,o=a));for(w(v[_[t]])<r*o&&(e=_[t],o=_[u],_[t]=o,S[o]=t,_[u]=e,S[e]=u),o=p[t],u=y[t],c=v[_[t]],h[o]=_[t],m[o]=1,++o,e=b.length-1;-1!==e;--e)i=b[e],a=v[_[i]],b[e]=0,v[_[i]]=0,t>=i?(d[u]=i,g[u]=a,++u):(h[o]=_[i],m[o]=a/c,++o);p[t+1]=o,y[t+1]=u}for(e=h.length-1;-1!==e;--e)h[e]=S[h[e]];return{L:f,U:l,P:_,Pinv:S}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(n){return[numeric.sup(n[1])+1,n[0].length-1]},numeric.ccsGetBlock=function(n,r,t){var e=numeric.ccsDim(n),i=e[0],o=e[1];"undefined"==typeof r?r=numeric.linspace(0,i-1):"number"==typeof r&&(r=[r]),"undefined"==typeof t?t=numeric.linspace(0,o-1):"number"==typeof t&&(t=[t]);var u,a,c,s,f,l=r.length,p=t.length,h=numeric.rep([o],0),m=[],y=[],d=[h,m,y],g=n[0],v=n[1],b=n[2],x=numeric.rep([i],0),w=0,_=numeric.rep([i],0);for(a=0;p>a;++a){s=t[a];var S=g[s],E=g[s+1];for(u=S;E>u;++u)c=v[u],_[c]=1,x[c]=b[u];for(u=0;l>u;++u)f=r[u],_[f]&&(m[w]=u,y[w]=x[r[u]],++w);for(u=S;E>u;++u)c=v[u],_[c]=0;h[a+1]=w}return d},numeric.ccsDot=function(n,r){var t,e,i,o,u,a,c,s,f,l,p,h=n[0],m=n[1],y=n[2],d=r[0],g=r[1],v=r[2],b=numeric.ccsDim(n),x=numeric.ccsDim(r),w=b[0],_=(b[1],x[1]),S=numeric.rep([w],0),E=numeric.rep([w],0),j=Array(w),k=numeric.rep([_],0),M=[],C=[],A=[k,M,C];for(i=0;i!==_;++i){for(o=d[i],u=d[i+1],f=0,e=o;u>e;++e)for(l=g[e],p=v[e],a=h[l],c=h[l+1],t=a;c>t;++t)s=m[t],0===E[s]&&(j[f]=s,E[s]=1,f+=1),S[s]=S[s]+y[t]*p;for(o=k[i],u=o+f,k[i+1]=u,e=f-1;-1!==e;--e)p=o+e,t=j[e],M[p]=t,C[p]=S[t],E[t]=0,S[t]=0;k[i+1]=k[i]+f}return A},numeric.ccsLUPSolve=function(n,r){var t=n.L,e=n.U,i=(n.P,r[0]),o=!1;"object"!=typeof i&&(r=[[0,r.length],numeric.linspace(0,r.length-1),r],i=r[0],o=!0);var u,a,c,s,f,l,p=r[1],h=r[2],m=t[0].length-1,y=i.length-1,d=numeric.rep([m],0),g=Array(m),v=numeric.rep([m],0),b=Array(m),x=numeric.rep([y+1],0),w=[],_=[],S=numeric.ccsTSolve,E=0;for(u=0;y>u;++u){for(f=0,c=i[u],s=i[u+1],a=c;s>a;++a)l=n.Pinv[p[a]],b[f]=l,v[l]=h[a],++f;for(b.length=f,S(t,v,d,b,g),a=b.length-1;-1!==a;--a)v[b[a]]=0;if(S(e,d,v,g,b),o)return v;for(a=g.length-1;-1!==a;--a)d[g[a]]=0;for(a=b.length-1;-1!==a;--a)l=b[a],w[E]=l,_[E]=v[l],v[l]=0,++E;x[u+1]=E}return[x,w,_]},numeric.ccsbinop=function(n,r){return"undefined"==typeof r&&(r=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+r+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+n+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(n){var r,t=n[0],e=n[1],i=n[2],o=numeric.sup(e)+1,u=t.length,a=numeric.rep([o],0),c=Array(u),s=Array(u),f=numeric.rep([o],0);for(r=0;u>r;++r)f[e[r]]++;for(r=0;o>r;++r)a[r+1]=a[r]+f[r];var l,p,h=a.slice(0);for(r=0;u>r;++r)p=e[r],l=h[p],c[l]=t[r],s[l]=i[r],h[p]=h[p]+1;return[a,c,s]},numeric.ccsGather=function(n){var r,t,e,i,o,u=n[0],a=n[1],c=n[2],s=u.length-1,f=a.length,l=Array(f),p=Array(f),h=Array(f);for(o=0,r=0;s>r;++r)for(e=u[r],i=u[r+1],t=e;t!==i;++t)p[o]=r,l[o]=a[t],h[o]=c[t],++o;return[l,p,h]},numeric.sdim=function c(n,r,t){if("undefined"==typeof r&&(r=[]),"object"!=typeof n)return r;"undefined"==typeof t&&(t=0),t in r||(r[t]=0),n.length>r[t]&&(r[t]=n.length);var e;for(e in n)n.hasOwnProperty(e)&&c(n[e],r,t+1);return r},numeric.sclone=function s(n,r,t){"undefined"==typeof r&&(r=0),"undefined"==typeof t&&(t=numeric.sdim(n).length);var e,i=Array(n.length);if(r===t-1){for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i}for(e in n)n.hasOwnProperty(e)&&(i[e]=s(n[e],r+1,t));return i},numeric.sdiag=function(n){var r,t,e=n.length,i=Array(e);for(r=e-1;r>=1;r-=2)t=r-1,i[r]=[],i[r][r]=n[r],i[t]=[],i[t][t]=n[t];return 0===r&&(i[0]=[],i[0][0]=n[r]),i},numeric.sidentity=function(n){return numeric.sdiag(numeric.rep([n],1))},numeric.stranspose=function(n){{var r,t,e,i=[];n.length}for(r in n)if(n.hasOwnProperty(r)){e=n[r];for(t in e)e.hasOwnProperty(t)&&("object"!=typeof i[t]&&(i[t]=[]),i[t][r]=e[t])}return i},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(n,r){var t,e,i,o,u,a,c,s=n.length,f=(r.length,numeric.stranspose(r)),l=f.length,p=Array(s);for(i=s-1;i>=0;i--){for(c=[],t=n[i],u=l-1;u>=0;u--){a=0,e=f[u];for(o in t)t.hasOwnProperty(o)&&o in e&&(a+=t[o]*e[o]);a&&(c[u]=a)}p[i]=c}return p},numeric.sdotMV=function(n,r){var t,e,i,o,u=n.length,a=Array(u);for(e=u-1;e>=0;e--){t=n[e],o=0;for(i in t)t.hasOwnProperty(i)&&r[i]&&(o+=t[i]*r[i]);o&&(a[e]=o)}return a},numeric.sdotVM=function(n,r){var t,e,i,o,u=[];for(t in n)if(n.hasOwnProperty(t)){i=r[t],o=n[t];for(e in i)i.hasOwnProperty(e)&&(u[e]||(u[e]=0),u[e]+=o*i[e])}return u},numeric.sdotVV=function(n,r){var t,e=0;for(t in n)n[t]&&r[t]&&(e+=n[t]*r[t]);return e},numeric.sdot=function(n,r){var t=numeric.sdim(n).length,e=numeric.sdim(r).length,i=1e3*t+e;switch(i){case 0:return n*r;case 1001:return numeric.sdotVV(n,r);case 2001:return numeric.sdotMV(n,r);case 1002:return numeric.sdotVM(n,r);case 2002:return numeric.sdotMM(n,r);default:throw new Error("numeric.sdot not implemented for tensors of order "+t+" and "+e)}},numeric.sscatter=function(n){var r,t,e,i,o=n[0].length,u=n.length,a=[];for(t=o-1;t>=0;--t)if(n[u-1][t]){for(i=a,e=0;u-2>e;e++)r=n[e][t],i[r]||(i[r]=[]),i=i[r];i[n[e][t]]=n[e+1][t]}return a},numeric.sgather=function f(n,r,t){"undefined"==typeof r&&(r=[]),"undefined"==typeof t&&(t=[]);var e,i,o;e=t.length;for(i in n)if(n.hasOwnProperty(i))if(t[e]=parseInt(i),o=n[i],"number"==typeof o){if(o){if(0===r.length)for(i=e+1;i>=0;--i)r[i]=[];for(i=e;i>=0;--i)r[i].push(t[i]);r[e+1].push(o)}}else f(o,r,t);return t.length>e&&t.pop(),r},numeric.cLU=function(n){var r,t,e,i,o,u,a=n[0],c=n[1],s=n[2],f=a.length,l=0;for(r=0;f>r;r++)a[r]>l&&(l=a[r]);l++;var p,h,m,y=Array(l),d=Array(l),g=numeric.rep([l],1/0),v=numeric.rep([l],-1/0);for(e=0;f>e;e++)r=a[e],t=c[e],t<g[r]&&(g[r]=t),t>v[r]&&(v[r]=t);for(r=0;l-1>r;r++)v[r]>v[r+1]&&(v[r+1]=v[r]);for(r=l-1;r>=1;r--)g[r]<g[r-1]&&(g[r-1]=g[r]);var b=0,x=0;for(r=0;l>r;r++)d[r]=numeric.rep([v[r]-g[r]+1],0),y[r]=numeric.rep([r-g[r]],0),b+=r-g[r]+1,x+=v[r]-r+1;for(e=0;f>e;e++)r=a[e],d[r][c[e]-g[r]]=s[e];for(r=0;l-1>r;r++)for(i=r-g[r],p=d[r],t=r+1;g[t]<=r&&l>t;t++)if(o=r-g[t],u=v[r]-r,h=d[t],m=h[o]/p[i]){for(e=1;u>=e;e++)h[e+o]-=m*p[e+i];y[t][r-g[t]]=m}var f,w,_,p=[],h=[],S=[],E=[],j=[],k=[];for(f=0,w=0,r=0;l>r;r++){for(i=g[r],o=v[r],_=d[r],t=r;o>=t;t++)_[t-i]&&(p[f]=r,h[f]=t,S[f]=_[t-i],f++);for(_=y[r],t=i;r>t;t++)_[t-i]&&(E[w]=r,j[w]=t,k[w]=_[t-i],w++);E[w]=r,j[w]=r,k[w]=1,w++}return{U:[p,h,S],L:[E,j,k]}},numeric.cLUsolve=function(n,r){var t,e,i=n.L,o=n.U,u=numeric.clone(r),a=i[0],c=i[1],s=i[2],f=o[0],l=o[1],p=o[2],h=f.length,m=(a.length,u.length);for(e=0,t=0;m>t;t++){for(;c[e]<t;)u[t]-=s[e]*u[c[e]],e++;e++}for(e=h-1,t=m-1;t>=0;t--){for(;l[e]>t;)u[t]-=p[e]*u[l[e]],e--;u[t]/=p[e],e--}return u},numeric.cgrid=function(n,r){"number"==typeof n&&(n=[n,n]);var t,e,i,o=numeric.rep(n,-1);if("function"!=typeof r)switch(r){case"L":r=function(r,t){return r>=n[0]/2||t<n[1]/2};break;default:r=function(){return!0}}for(i=0,t=1;t<n[0]-1;t++)for(e=1;e<n[1]-1;e++)r(t,e)&&(o[t][e]=i,i++);return o},numeric.cdelsq=function(n){var r,t,e,i,o,u=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(n),c=a[0],s=a[1],f=[],l=[],p=[];for(r=1;c-1>r;r++)for(t=1;s-1>t;t++)if(!(n[r][t]<0)){for(e=0;4>e;e++)i=r+u[e][0],o=t+u[e][1],n[i][o]<0||(f.push(n[r][t]),l.push(n[i][o]),p.push(-1));f.push(n[r][t]),l.push(n[r][t]),p.push(4)}return[f,l,p]},numeric.cdotMV=function(n,r){var t,e,i,o=n[0],u=n[1],a=n[2],c=o.length;for(i=0,e=0;c>e;e++)o[e]>i&&(i=o[e]);for(i++,t=numeric.rep([i],0),e=0;c>e;e++)t[o[e]]+=a[e]*r[u[e]];return t},numeric.Spline=function(n,r,t,e,i){this.x=n,this.yl=r,this.yr=t,this.kl=e,this.kr=i},numeric.Spline.prototype._at=function(n,r){var n,t,e,i,o=this.x,u=this.yl,a=this.yr,c=this.kl,s=this.kr,f=numeric.add,l=numeric.sub,p=numeric.mul;t=l(p(c[r],o[r+1]-o[r]),l(a[r+1],u[r])),e=f(p(s[r+1],o[r]-o[r+1]),l(a[r+1],u[r])),i=(n-o[r])/(o[r+1]-o[r]);var h=i*(1-i);return f(f(f(p(1-i,u[r]),p(i,a[r+1])),p(t,h*(1-i))),p(e,h*i))},numeric.Spline.prototype.at=function(n){if("number"==typeof n){var r,t,e,i=this.x,o=i.length,u=Math.floor;for(r=0,t=o-1;t-r>1;)e=u((r+t)/2),i[e]<=n?r=e:t=e;return this._at(n,r)}var a,o=n.length,c=Array(o);for(a=o-1;-1!==a;--a)c[a]=this.at(n[a]);return c},numeric.Spline.prototype.diff=function(){var n,r,t,e=this.x,i=this.yl,o=this.yr,u=this.kl,a=this.kr,c=i.length,s=u,f=a,l=Array(c),p=Array(c),h=numeric.add,m=numeric.mul,y=numeric.div,d=numeric.sub;for(n=c-1;-1!==n;--n)r=e[n+1]-e[n],t=d(o[n+1],i[n]),l[n]=y(h(m(t,6),m(u[n],-4*r),m(a[n+1],-2*r)),r*r),p[n+1]=y(h(m(t,-6),m(u[n],2*r),m(a[n+1],4*r)),r*r);return new numeric.Spline(e,s,f,l,p)},numeric.Spline.prototype.roots=function(){function n(n){return n*n}var r=[],t=this.x,e=this.yl,i=this.yr,o=this.kl,u=this.kr;"number"==typeof e[0]&&(e=[e],i=[i],o=[o],u=[u]);var a,c,s,f,l,p,h,m,y,d,g,v,b,x,w,_,S,E,j,k,M,C,A,D,O=e.length,I=t.length-1,r=Array(O),T=Math.sqrt;for(a=0;a!==O;++a){for(f=e[a],l=i[a],p=o[a],h=u[a],m=[],c=0;c!==I;c++){for(c>0&&l[c]*f[c]<0&&m.push(t[c]),_=t[c+1]-t[c],S=t[c],g=f[c],v=l[c+1],y=p[c]/_,d=h[c+1]/_,w=n(y-d+3*(g-v))+12*d*g,b=d+3*g+2*y-3*v,x=3*(d+y+2*(g-v)),0>=w?(j=b/x,E=j>t[c]&&j<t[c+1]?[t[c],j,t[c+1]]:[t[c],t[c+1]]):(j=(b-T(w))/x,k=(b+T(w))/x,E=[t[c]],j>t[c]&&j<t[c+1]&&E.push(j),k>t[c]&&k<t[c+1]&&E.push(k),E.push(t[c+1])),C=E[0],j=this._at(C,c),s=0;s<E.length-1;s++)if(A=E[s+1],k=this._at(A,c),0!==j)if(0===k||j*k>0)C=A,j=k;else{for(var L=0;;){if(D=(j*A-k*C)/(j-k),C>=D||D>=A)break;if(M=this._at(D,c),M*k>0)A=D,k=M,-1===L&&(j*=.5),L=-1;else{if(!(M*j>0))break;C=D,j=M,1===L&&(k*=.5),L=1}}m.push(D),C=E[s+1],j=this._at(C,c)}else m.push(C),C=A,j=k;0===k&&m.push(A)}r[a]=m}return"number"==typeof this.yl[0]?r[0]:r},numeric.spline=function(n,r,t,e){var i,o=n.length,u=[],a=[],c=[],s=numeric.sub,f=numeric.mul,l=numeric.add;for(i=o-2;i>=0;i--)a[i]=n[i+1]-n[i],c[i]=s(r[i+1],r[i]);("string"==typeof t||"string"==typeof e)&&(t=e="periodic");var p=[[],[],[]];switch(typeof t){case"undefined":u[0]=f(3/(a[0]*a[0]),c[0]),p[0].push(0,0),p[1].push(0,1),p[2].push(2/a[0],1/a[0]);break;case"string":u[0]=l(f(3/(a[o-2]*a[o-2]),c[o-2]),f(3/(a[0]*a[0]),c[0])),p[0].push(0,0,0),p[1].push(o-2,0,1),p[2].push(1/a[o-2],2/a[o-2]+2/a[0],1/a[0]);break;default:u[0]=t,p[0].push(0),p[1].push(0),p[2].push(1)}for(i=1;o-1>i;i++)u[i]=l(f(3/(a[i-1]*a[i-1]),c[i-1]),f(3/(a[i]*a[i]),c[i])),p[0].push(i,i,i),p[1].push(i-1,i,i+1),p[2].push(1/a[i-1],2/a[i-1]+2/a[i],1/a[i]);switch(typeof e){case"undefined":u[o-1]=f(3/(a[o-2]*a[o-2]),c[o-2]),p[0].push(o-1,o-1),p[1].push(o-2,o-1),p[2].push(1/a[o-2],2/a[o-2]);break;case"string":p[1][p[1].length-1]=0;break;default:u[o-1]=e,p[0].push(o-1),p[1].push(o-1),p[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var h=Array(u.length);if("string"==typeof t)for(i=h.length-1;-1!==i;--i)h[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(p)),u[i]),h[i][o-1]=h[i][0];else for(i=h.length-1;-1!==i;--i)h[i]=numeric.cLUsolve(numeric.cLU(p),u[i]);return h="number"==typeof r[0]?h[0]:numeric.transpose(h),new numeric.Spline(n,r,r,h,h)},numeric.fftpow2=function l(n,r){var t=n.length;if(1!==t){var e,i,o=Math.cos,u=Math.sin,a=Array(t/2),c=Array(t/2),s=Array(t/2),f=Array(t/2);for(i=t/2,e=t-1;-1!==e;--e)--i,s[i]=n[e],f[i]=r[e],--e,a[i]=n[e],c[i]=r[e];l(a,c),l(s,f),i=t/2;var p,h,m,y=-6.283185307179586/t;for(e=t-1;-1!==e;--e)--i,-1===i&&(i=t/2-1),p=y*e,h=o(p),m=u(p),n[e]=a[i]+h*s[i]-m*f[i],r[e]=c[i]+h*f[i]+m*s[i]}},numeric._ifftpow2=function p(n,r){var t=n.length;if(1!==t){var e,i,o=Math.cos,u=Math.sin,a=Array(t/2),c=Array(t/2),s=Array(t/2),f=Array(t/2);for(i=t/2,e=t-1;-1!==e;--e)--i,s[i]=n[e],f[i]=r[e],--e,a[i]=n[e],c[i]=r[e];p(a,c),p(s,f),i=t/2;var l,h,m,y=6.283185307179586/t;for(e=t-1;-1!==e;--e)--i,-1===i&&(i=t/2-1),l=y*e,h=o(l),m=u(l),n[e]=a[i]+h*s[i]-m*f[i],r[e]=c[i]+h*f[i]+m*s[i]}},numeric.ifftpow2=function(n,r){numeric._ifftpow2(n,r),numeric.diveq(n,n.length),numeric.diveq(r,r.length)},numeric.convpow2=function(n,r,t,e){numeric.fftpow2(n,r),numeric.fftpow2(t,e);var i,o,u,a,c,s=n.length;for(i=s-1;-1!==i;--i)o=n[i],a=r[i],u=t[i],c=e[i],n[i]=o*u-a*c,r[i]=o*c+a*u;numeric.ifftpow2(n,r)},numeric.T.prototype.fft=function(){{var n,r,t=this.x,e=this.y,i=t.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),c=Math.pow(2,a),s=numeric.rep([c],0),f=numeric.rep([c],0),l=Math.cos,p=Math.sin,h=-3.141592653589793/i,m=numeric.rep([c],0),y=numeric.rep([c],0);Math.floor(i/2)}for(n=0;i>n;n++)m[n]=t[n];if("undefined"!=typeof e)for(n=0;i>n;n++)y[n]=e[n];for(s[0]=1,n=1;c/2>=n;n++)r=h*n*n,s[n]=l(r),f[n]=p(r),s[c-n]=l(r),f[c-n]=p(r);var d=new numeric.T(m,y),g=new numeric.T(s,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=i,d.y.length=i,d},numeric.T.prototype.ifft=function(){{var n,r,t=this.x,e=this.y,i=t.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),c=Math.pow(2,a),s=numeric.rep([c],0),f=numeric.rep([c],0),l=Math.cos,p=Math.sin,h=3.141592653589793/i,m=numeric.rep([c],0),y=numeric.rep([c],0);Math.floor(i/2)}for(n=0;i>n;n++)m[n]=t[n];if("undefined"!=typeof e)for(n=0;i>n;n++)y[n]=e[n];for(s[0]=1,n=1;c/2>=n;n++)r=h*n*n,s[n]=l(r),f[n]=p(r),s[c-n]=l(r),f[c-n]=p(r);var d=new numeric.T(m,y),g=new numeric.T(s,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=i,d.y.length=i,d.div(i)},numeric.gradient=function(n,r){var t=r.length,e=n(r);if(isNaN(e))throw new Error("gradient: f(x) is a NaN!");var i,o,u,a,c,s,f,l,p,h,m=Math.max,y=numeric.clone(r),d=Array(t),m=(numeric.div,numeric.sub,Math.max),g=.001,v=Math.abs,b=Math.min,x=0;for(i=0;t>i;i++)for(var w=m(1e-6*e,1e-8);;){if(++x,x>20)throw new Error("Numerical gradient fails");if(y[i]=r[i]+w,o=n(y),y[i]=r[i]-w,u=n(y),y[i]=r[i],isNaN(o)||isNaN(u))w/=16;else{if(d[i]=(o-u)/(2*w),c=r[i]-w,s=r[i],f=r[i]+w,l=(o-e)/w,p=(e-u)/w,h=m(v(d[i]),v(e),v(o),v(u),v(c),v(s),v(f),1e-8),a=b(m(v(l-d[i]),v(p-d[i]),v(l-p))/h,w/h),!(a>g))break;w/=16}}return d},numeric.uncmin=function(n,r,t,e,i,o,u){var a=numeric.gradient;"undefined"==typeof u&&(u={}),"undefined"==typeof t&&(t=1e-8),"undefined"==typeof e&&(e=function(r){return a(n,r)}),"undefined"==typeof i&&(i=1e3),r=numeric.clone(r);var c,s,f=r.length,l=n(r);if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var p=Math.max,h=numeric.norm2;t=p(t,numeric.epsilon);var m,y,d,g,v,b,x,w,_,S,E=u.Hinv||numeric.identity(f),j=numeric.dot,k=(numeric.inv,numeric.sub),M=numeric.add,C=numeric.tensor,A=numeric.div,D=numeric.mul,O=numeric.all,I=numeric.isFinite,T=numeric.neg,L=0,P="";for(y=e(r);i>L;){if("function"==typeof o&&o(L,r,l,y,E)){P="Callback returned true";break}if(!O(I(y))){P="Gradient has Infinity or NaN";break}if(m=T(j(E,y)),!O(I(m))){P="Search direction has Infinity or NaN";break}if(S=h(m),t>S){P="Newton step smaller than tol";break}for(_=1,s=j(y,m),v=r;i>L&&!(t>_*S)&&(g=D(m,_),v=M(r,g),c=n(v),c-l>=.1*_*s||isNaN(c));)_*=.5,++L;if(t>_*S){P="Line search step size smaller than tol";break}if(L===i){P="maxit reached during line search";break}d=e(v),b=k(d,y),w=j(b,g),x=j(E,b),E=k(M(E,D((w+j(b,x))/(w*w),C(g,g))),A(M(C(x,g),C(g,x)),w)),r=v,l=c,y=d,++L}return{solution:r,f:l,gradient:y,invHessian:E,iterations:L,message:P}},numeric.Dopri=function(n,r,t,e,i,o,u){this.x=n,this.y=r,this.f=t,this.ymid=e,this.iterations=i,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(n,r){function t(n){return n*n}var e,i,o,u,a,c,n,s,f,l,p,h=this,m=h.x,y=h.y,d=h.f,g=h.ymid,v=(m.length,Math.floor,.5),b=numeric.add,x=numeric.mul,w=numeric.sub;return e=m[r],i=m[r+1],u=y[r],a=y[r+1],s=i-e,o=e+v*s,c=g[r],f=w(d[r],x(u,1/(e-o)+2/(e-i))),l=w(d[r+1],x(a,1/(i-o)+2/(i-e))),p=[t(n-i)*(n-o)/t(e-i)/(e-o),t(n-e)*t(n-i)/t(e-o)/t(i-o),t(n-e)*(n-o)/t(i-e)/(i-o),(n-e)*t(n-i)*(n-o)/t(e-i)/(e-o),(n-i)*t(n-e)*(n-o)/t(e-i)/(i-o)],b(b(b(b(x(u,p[0]),x(c,p[1])),x(a,p[2])),x(f,p[3])),x(l,p[4]))},numeric.Dopri.prototype.at=function(n){var r,t,e,i=Math.floor;if("number"!=typeof n){var o=n.length,u=Array(o);for(r=o-1;-1!==r;--r)u[r]=this.at(n[r]);return u}var a=this.x;for(r=0,t=a.length-1;t-r>1;)e=i(.5*(r+t)),a[e]<=n?r=e:t=e;return this._at(n,r)},numeric.dopri=function(n,r,t,e,i,o,u){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var a,c,s,f,l,p,h,m,y,d,g,v,b,x=[n],w=[t],_=[e(n,t)],S=[],E=.2,j=[.075,.225],k=[44/45,-56/15,32/9],M=[19372/6561,-25360/2187,64448/6561,-212/729],C=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],A=[35/384,0,500/1113,125/192,-2187/6784,11/84],D=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],O=[.2,.3,.8,8/9,1,1],I=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],T=0,L=(r-n)/10,P=0,F=numeric.add,N=numeric.mul,z=(Math.max,Math.min),V=Math.abs,q=numeric.norminf,G=Math.pow,R=numeric.any,B=numeric.lt,U=numeric.and,Q=(numeric.sub,new numeric.Dopri(x,w,_,S,-1,""));for("function"==typeof u&&(g=u(n,t));r>n&&o>P;)if(++P,n+L>r&&(L=r-n),a=e(n+O[0]*L,F(t,N(E*L,_[T]))),c=e(n+O[1]*L,F(F(t,N(j[0]*L,_[T])),N(j[1]*L,a))),s=e(n+O[2]*L,F(F(F(t,N(k[0]*L,_[T])),N(k[1]*L,a)),N(k[2]*L,c))),f=e(n+O[3]*L,F(F(F(F(t,N(M[0]*L,_[T])),N(M[1]*L,a)),N(M[2]*L,c)),N(M[3]*L,s))),l=e(n+O[4]*L,F(F(F(F(F(t,N(C[0]*L,_[T])),N(C[1]*L,a)),N(C[2]*L,c)),N(C[3]*L,s)),N(C[4]*L,f))),y=F(F(F(F(F(t,N(_[T],L*A[0])),N(c,L*A[2])),N(s,L*A[3])),N(f,L*A[4])),N(l,L*A[5])),p=e(n+L,y),h=F(F(F(F(F(N(_[T],L*I[0]),N(c,L*I[2])),N(s,L*I[3])),N(f,L*I[4])),N(l,L*I[5])),N(p,L*I[6])),d="number"==typeof h?V(h):q(h),d>i){if(L=.2*L*G(i/d,.25),n+L===n){Q.msg="Step size became too small";break}}else{if(S[T]=F(F(F(F(F(F(t,N(_[T],L*D[0])),N(c,L*D[2])),N(s,L*D[3])),N(f,L*D[4])),N(l,L*D[5])),N(p,L*D[6])),++T,x[T]=n+L,w[T]=y,_[T]=p,"function"==typeof u){var H,Y,X=n,J=n+.5*L;if(v=u(J,S[T-1]),b=U(B(g,0),B(0,v)),R(b)||(X=J,J=n+L,g=v,v=u(J,y),b=U(B(g,0),B(0,v))),R(b)){for(var $,K,Z=0,W=1,nr=1;;){if("number"==typeof g)Y=(nr*v*X-W*g*J)/(nr*v-W*g);else for(Y=J,m=g.length-1;-1!==m;--m)g[m]<0&&v[m]>0&&(Y=z(Y,(nr*v[m]*X-W*g[m]*J)/(nr*v[m]-W*g[m])));if(X>=Y||Y>=J)break;H=Q._at(Y,T-1),K=u(Y,H),$=U(B(g,0),B(0,K)),R($)?(J=Y,v=K,b=$,nr=1,-1===Z?W*=.5:W=1,Z=-1):(X=Y,g=K,W=1,1===Z?nr*=.5:nr=1,Z=1)}return y=Q._at(.5*(n+Y),T-1),Q.f[T]=e(Y,H),Q.x[T]=Y,Q.y[T]=H,Q.ymid[T-1]=y,Q.events=b,Q.iterations=P,Q}}n+=L,t=y,g=v,L=z(.8*L*G(i/d,.25),4*L)}return Q.iterations=P,Q},numeric.LU=function(n,r){r=r||!1;var t,e,i,o,u,a,c,s,f,l=Math.abs,p=n.length,h=p-1,m=new Array(p);for(r||(n=numeric.clone(n)),i=0;p>i;++i){for(c=i,a=n[i],f=l(a[i]),e=i+1;p>e;++e)o=l(n[e][i]),o>f&&(f=o,c=e);for(m[i]=c,c!=i&&(n[i]=n[c],n[c]=a,a=n[i]),u=a[i],t=i+1;p>t;++t)n[t][i]/=u;for(t=i+1;p>t;++t){for(s=n[t],e=i+1;h>e;++e)s[e]-=s[i]*a[e],++e,s[e]-=s[i]*a[e];e===h&&(s[e]-=s[i]*a[e])}}return{LU:n,P:m}},numeric.LUsolve=function(n,r){var t,e,i,o,u,a=n.LU,c=a.length,s=numeric.clone(r),f=n.P;for(t=c-1;-1!==t;--t)s[t]=r[t];for(t=0;c>t;++t)for(i=f[t],f[t]!==t&&(u=s[t],s[t]=s[i],s[i]=u),o=a[t],e=0;t>e;++e)s[t]-=s[e]*o[e];for(t=c-1;t>=0;--t){for(o=a[t],e=t+1;c>e;++e)s[t]-=s[e]*o[e];s[t]/=o[t]}return s},numeric.solve=function(n,r,t){return numeric.LUsolve(numeric.LU(n,t),r)},numeric.echelonize=function(n){var r,t,e,i,o,u,a,c,s=numeric.dim(n),f=s[0],l=s[1],p=numeric.identity(f),h=Array(f),m=Math.abs,y=numeric.diveq;for(n=numeric.clone(n),r=0;f>r;++r){for(e=0,o=n[r],u=p[r],t=1;l>t;++t)m(o[e])<m(o[t])&&(e=t);for(h[r]=e,y(u,o[e]),y(o,o[e]),t=0;f>t;++t)if(t!==r){for(a=n[t],c=a[e],i=l-1;-1!==i;--i)a[i]-=o[i]*c;for(a=p[t],i=f-1;-1!==i;--i)a[i]-=u[i]*c
}}return{I:p,A:n,P:h}},numeric.__solveLP=function(n,r,t,e,i,o,u){var a,c,s,f,l=numeric.sum,p=(numeric.log,numeric.mul),h=numeric.sub,m=numeric.dot,y=numeric.div,d=numeric.add,g=n.length,v=t.length,b=!1,x=0,w=1,_=(numeric.transpose(r),numeric.svd,numeric.transpose),S=(numeric.leq,Math.sqrt),E=Math.abs,j=(numeric.muleq,numeric.norminf,numeric.any,Math.min),k=numeric.all,M=numeric.gt,C=Array(g),A=Array(v),D=(numeric.rep([v],1),numeric.solve),O=h(t,m(r,o)),I=m(n,n);for(s=x;i>s;++s){var T,L;for(T=v-1;-1!==T;--T)A[T]=y(r[T],O[T]);var P=_(A);for(T=g-1;-1!==T;--T)C[T]=l(P[T]);w=.25*E(I/m(n,C));var F=100*S(I/m(C,C));for((!isFinite(w)||w>F)&&(w=F),f=d(n,p(w,C)),c=m(P,A),T=g-1;-1!==T;--T)c[T][T]+=1;L=D(c,y(f,w),!0);var N=y(O,m(r,L)),z=1;for(T=v-1;-1!==T;--T)N[T]<0&&(z=j(z,-.999*N[T]));if(a=h(o,p(L,z)),O=h(t,m(r,a)),!k(M(O,0)))return{solution:o,message:"",iterations:s};if(o=a,e>w)return{solution:a,message:"",iterations:s};if(u){var V=m(n,f),q=m(r,f);for(b=!0,T=v-1;-1!==T;--T)if(V*q[T]<0){b=!1;break}}else b=o[g-1]>=0?!1:!0;if(b)return{solution:a,message:"Unbounded",iterations:s}}return{solution:o,message:"maximum iteration count exceeded",iterations:s}},numeric._solveLP=function(n,r,t,e,i){var o,u=n.length,a=t.length,c=(numeric.sum,numeric.log,numeric.mul,numeric.sub),s=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([u],0).concat([1])),l=numeric.rep([a,1],-1),p=numeric.blockMatrix([[r,l]]),h=t,o=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(t)))+1),m=numeric.__solveLP(f,p,h,e,i,o,!1),y=numeric.clone(m.solution);y.length=u;var d=numeric.inf(c(t,s(r,y)));if(0>d)return{solution:0/0,message:"Infeasible",iterations:m.iterations};var g=numeric.__solveLP(n,r,t,e,i-m.iterations,y,!0);return g.iterations+=m.iterations,g},numeric.solveLP=function(n,r,t,e,i,o,u){if("undefined"==typeof u&&(u=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof e)return numeric._solveLP(n,r,t,o,u);var a,c=e.length,s=e[0].length,f=r.length,l=numeric.echelonize(e),p=numeric.rep([s],0),h=l.P,m=[];for(a=h.length-1;-1!==a;--a)p[h[a]]=1;for(a=s-1;-1!==a;--a)0===p[a]&&m.push(a);var y=numeric.getRange,d=numeric.linspace(0,c-1),g=numeric.linspace(0,f-1),v=y(e,d,m),b=y(r,g,h),x=y(r,g,m),w=numeric.dot,_=numeric.sub,S=w(b,l.I),E=_(x,w(S,v)),j=_(t,w(S,i)),k=Array(h.length),M=Array(m.length);for(a=h.length-1;-1!==a;--a)k[a]=n[h[a]];for(a=m.length-1;-1!==a;--a)M[a]=n[m[a]];var C=_(M,w(k,w(l.I,v))),A=numeric._solveLP(C,E,j,o,u),D=A.solution;if(D!==D)return A;var O=w(l.I,_(i,w(v,D))),I=Array(n.length);for(a=h.length-1;-1!==a;--a)I[h[a]]=O[a];for(a=m.length-1;-1!==a;--a)I[m[a]]=D[a];return{solution:I,message:A.message,iterations:A.iterations}},numeric.MPStoLP=function(n){function r(r){throw new Error("MPStoLP: "+r+"\nLine "+t+": "+n[t]+"\nCurrent state: "+a[u]+"\n")}n instanceof String&&n.split("\n");var t,e,i,o,u=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],c=n.length,s=0,f={},l=[],p=0,h={},m=0,y=[],d=[],g=[];for(t=0;c>t;++t){i=n[t];var v=i.match(/\S*/g),b=[];for(e=0;e<v.length;++e)""!==v[e]&&b.push(v[e]);if(0!==b.length){for(e=0;e<a.length&&i.substr(0,a[e].length)!==a[e];++e);if(e<a.length){if(u=e,1===e&&(o=b[1]),6===e)return{name:o,c:y,A:numeric.transpose(d),b:g,rows:f,vars:h}}else switch(u){case 0:case 1:r("Unexpected line");case 2:switch(b[0]){case"N":0===s?s=b[1]:r("Two or more N rows");break;case"L":f[b[1]]=p,l[p]=1,g[p]=0,++p;break;case"G":f[b[1]]=p,l[p]=-1,g[p]=0,++p;break;case"E":f[b[1]]=p,l[p]=0,g[p]=0,++p;break;default:r("Parse error "+numeric.prettyPrint(b))}break;case 3:h.hasOwnProperty(b[0])||(h[b[0]]=m,y[m]=0,d[m]=numeric.rep([p],0),++m);var x=h[b[0]];for(e=1;e<b.length;e+=2)if(b[e]!==s){var w=f[b[e]];d[x][w]=(l[w]<0?-1:1)*parseFloat(b[e+1])}else y[x]=parseFloat(b[e+1]);break;case 4:for(e=1;e<b.length;e+=2)g[f[b[e]]]=(l[f[b[e]]]<0?-1:1)*parseFloat(b[e+1]);break;case 5:break;case 6:r("Internal error")}}}r("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(n,r,t,e,i,o,u){function a(n){var r,e,i=this,o=n.length,u=0,a=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(n=[o++]);t>u;)i.S[u]=u++;for(u=0;t>u;u++)r=i.S[u],a=f(a+r+n[u%o]),e=i.S[a],i.S[u]=e,i.S[a]=r;i.g=function(n){var r=i.S,e=f(i.i+1),o=r[e],u=f(i.j+o),a=r[u];r[e]=a,r[u]=o;for(var c=r[f(o+a)];--n;)e=f(e+1),o=r[e],u=f(u+o),a=r[u],r[e]=a,r[u]=o,c=c*t+r[f(o+a)];return i.i=e,i.j=u,c},i.g(t)}function c(n,r,t,e,i){if(t=[],i=typeof n,r&&"object"==i)for(e in n)if(e.indexOf("S")<5)try{t.push(c(n[e],r-1))}catch(o){}return t.length?t:n+("string"!=i?"\x00":"")}function s(n,r,t,e){for(n+="",t=0,e=0;e<n.length;e++)r[f(e)]=f((t^=19*r[f(e)])+n.charCodeAt(e));n="";for(e in r)n+=String.fromCharCode(r[e]);return n}function f(n){return n&t-1}r.seedrandom=function(f,l){var p,h=[];return f=s(c(l?[f,n]:arguments.length?f:[(new Date).getTime(),n,window],3),h),p=new a(h),s(p.S,n),r.random=function(){for(var n=p.g(e),r=u,a=0;i>n;)n=(n+a)*t,r*=t,a=p.g(1);for(;n>=o;)n/=2,r/=2,a>>>=1;return(n+a)/r},f},u=r.pow(t,e),i=r.pow(2,i),o=2*i,s(r.random(),n)}([],numeric.seedrandom,256,6,52),function(n){function r(n){if("object"!=typeof n)return n;var t,e=[],i=n.length;for(t=0;i>t;t++)e[t+1]=r(n[t]);return e}function t(n){if("object"!=typeof n)return n;var r,e=[],i=n.length;for(r=1;i>r;r++)e[r-1]=t(n[r]);return e}function e(n,r,t){var e,i,o,u,a;for(o=1;t>=o;o+=1){for(n[o][o]=1/n[o][o],a=-n[o][o],e=1;o>e;e+=1)n[e][o]=a*n[e][o];if(u=o+1,u>t)break;for(i=u;t>=i;i+=1)for(a=n[o][i],n[o][i]=0,e=1;o>=e;e+=1)n[e][i]=n[e][i]+a*n[e][o]}}function i(n,r,t,e){var i,o,u,a;for(o=1;t>=o;o+=1){for(a=0,i=1;o>i;i+=1)a+=n[i][o]*e[i];e[o]=(e[o]-a)/n[o][o]}for(u=1;t>=u;u+=1)for(o=t+1-u,e[o]=e[o]/n[o][o],a=-e[o],i=1;o>i;i+=1)e[i]=e[i]+a*n[i][o]}function o(n,r,t,e){var i,o,u,a,c,s;for(o=1;t>=o;o+=1){if(e[1]=o,s=0,u=o-1,1>u){if(s=n[o][o]-s,0>=s)break;n[o][o]=Math.sqrt(s)}else{for(a=1;u>=a;a+=1){for(c=n[a][o],i=1;a>i;i+=1)c-=n[i][o]*n[i][a];c/=n[a][a],n[a][o]=c,s+=c*c}if(s=n[o][o]-s,0>=s)break;n[o][o]=Math.sqrt(s)}e[1]=0}}function u(n,r,t,u,a,c,s,f,l,p,h,m,y,d,g,v){function b(){for(d[1]=d[1]+1,k=T,E=1;p>=E;E+=1){for(k+=1,V=-f[E],j=1;u>=j;j+=1)V+=s[j][E]*a[j];if(Math.abs(V)<Y&&(V=0),E>h)g[k]=V;else if(g[k]=-Math.abs(V),V>0){for(j=1;u>=j;j+=1)s[j][E]=-s[j][E];f[E]=-f[E]}}for(E=1;y>=E;E+=1)g[T+m[E]]=0;for(P=0,z=0,E=1;p>=E;E+=1)g[T+E]<z*g[N+E]&&(P=E,z=g[T+E]/g[N+E]);return 0===P?999:0}function x(){for(E=1;u>=E;E+=1){for(V=0,j=1;u>=j;j+=1)V+=n[j][E]*s[j][P];g[E]=V}for(M=D,E=1;u>=E;E+=1)g[M+E]=0;for(j=y+1;u>=j;j+=1)for(E=1;u>=E;E+=1)g[M+E]=g[M+E]+n[E][j]*g[j];for(Q=!0,E=y;E>=1;E-=1){for(V=g[E],k=I+E*(E+3)/2,M=k-E,j=E+1;y>=j;j+=1)V-=g[k]*g[O+j],k+=j;if(V/=g[M],g[O+E]=V,m[E]<h)break;if(0>V)break;Q=!1,A=E}if(!Q)for(q=g[L+A]/g[O+A],E=1;y>=E&&!(m[E]<h)&&!(g[O+E]<0);E+=1)z=g[L+E]/g[O+E],q>z&&(q=z,A=E);for(V=0,E=D+1;D+u>=E;E+=1)V+=g[E]*g[E];if(Math.abs(V)<=Y){if(Q)return v[1]=1,999;for(E=1;y>=E;E+=1)g[L+E]=g[L+E]-q*g[O+E];return g[L+y+1]=g[L+y+1]+q,700}for(V=0,E=1;u>=E;E+=1)V+=g[D+E]*s[E][P];for(G=-g[T+P]/V,H=!0,Q||G>q&&(G=q,H=!1),E=1;u>=E;E+=1)a[E]=a[E]+G*g[D+E],Math.abs(a[E])<Y&&(a[E]=0);for(c[1]=c[1]+G*V*(G/2+g[L+y+1]),E=1;y>=E;E+=1)g[L+E]=g[L+E]-G*g[O+E];if(g[L+y+1]=g[L+y+1]+G,!H){for(V=-f[P],j=1;u>=j;j+=1)V+=a[j]*s[j][P];if(P>h)g[T+P]=V;else if(g[T+P]=-Math.abs(V),V>0){for(j=1;u>=j;j+=1)s[j][P]=-s[j][P];f[P]=-f[P]}return 700}for(y+=1,m[y]=P,k=I+(y-1)*y/2+1,E=1;y-1>=E;E+=1)g[k]=g[E],k+=1;if(y===u)g[k]=g[u];else{for(E=u;E>=y+1&&0!==g[E]&&(R=Math.max(Math.abs(g[E-1]),Math.abs(g[E])),B=Math.min(Math.abs(g[E-1]),Math.abs(g[E])),z=g[E-1]>=0?Math.abs(R*Math.sqrt(1+B*B/(R*R))):-Math.abs(R*Math.sqrt(1+B*B/(R*R))),R=g[E-1]/z,B=g[E]/z,1!==R);E-=1)if(0===R)for(g[E-1]=B*z,j=1;u>=j;j+=1)z=n[j][E-1],n[j][E-1]=n[j][E],n[j][E]=z;else for(g[E-1]=z,U=B/(1+R),j=1;u>=j;j+=1)z=R*n[j][E-1]+B*n[j][E],n[j][E]=U*(n[j][E-1]+z)-n[j][E],n[j][E-1]=z;g[k]=g[y]}return 0}function w(){if(k=I+A*(A+1)/2+1,M=k+A,0===g[M])return 798;if(R=Math.max(Math.abs(g[M-1]),Math.abs(g[M])),B=Math.min(Math.abs(g[M-1]),Math.abs(g[M])),z=g[M-1]>=0?Math.abs(R*Math.sqrt(1+B*B/(R*R))):-Math.abs(R*Math.sqrt(1+B*B/(R*R))),R=g[M-1]/z,B=g[M]/z,1===R)return 798;if(0===R){for(E=A+1;y>=E;E+=1)z=g[M-1],g[M-1]=g[M],g[M]=z,M+=E;for(E=1;u>=E;E+=1)z=n[E][A],n[E][A]=n[E][A+1],n[E][A+1]=z}else{for(U=B/(1+R),E=A+1;y>=E;E+=1)z=R*g[M-1]+B*g[M],g[M]=U*(g[M-1]+z)-g[M],g[M-1]=z,M+=E;for(E=1;u>=E;E+=1)z=R*n[E][A]+B*n[E][A+1],n[E][A+1]=U*(n[E][A]+z)-n[E][A+1],n[E][A]=z}return 0}function _(){for(M=k-A,E=1;A>=E;E+=1)g[M]=g[k],k+=1,M+=1;return g[L+A]=g[L+A+1],m[A]=m[A+1],A+=1,y>A?797:0}function S(){return g[L+y]=g[L+y+1],g[L+y+1]=0,m[y]=0,y-=1,d[2]=d[2]+1,0}var E,j,k,M,C,A,D,O,I,T,L,P,F,N,z,V,q,G,R,B,U,Q,H,Y,X,J,$;F=Math.min(u,p),k=2*u+F*(F+5)/2+2*p+1,Y=1e-60;do Y+=Y,X=1+.1*Y,J=1+.2*Y;while(1>=X||1>=J);for(E=1;u>=E;E+=1)g[E]=r[E];for(E=u+1;k>=E;E+=1)g[E]=0;for(E=1;p>=E;E+=1)m[E]=0;if(C=[],0===v[1]){if(o(n,t,u,C),0!==C[1])return void(v[1]=2);i(n,t,u,r),e(n,t,u)}else{for(j=1;u>=j;j+=1)for(a[j]=0,E=1;j>=E;E+=1)a[j]=a[j]+n[E][j]*r[E];for(j=1;u>=j;j+=1)for(r[j]=0,E=j;u>=E;E+=1)r[j]=r[j]+n[j][E]*a[E]}for(c[1]=0,j=1;u>=j;j+=1)for(a[j]=r[j],c[1]=c[1]+g[j]*a[j],g[j]=0,E=j+1;u>=E;E+=1)n[E][j]=0;for(c[1]=-c[1]/2,v[1]=0,D=u,O=D+u,L=O+F,I=L+F+1,T=I+F*(F+1)/2,N=T+p,E=1;p>=E;E+=1){for(V=0,j=1;u>=j;j+=1)V+=s[j][E]*s[j][E];g[N+E]=Math.sqrt(V)}for(y=0,d[1]=0,d[2]=0,$=0;;){if($=b(),999===$)return;for(;;){if($=x(),0===$)break;if(999===$)return;if(700===$)if(A===y)S();else{for(;;)if(w(),$=_(),797!==$)break;S()}}}}function a(n,e,i,o,a,c){n=r(n),e=r(e),i=r(i);var s,f,l,p,h,m,y=[],d=[],g=[],v=[],b=[];if(a=a||0,c=c?r(c):[void 0,0],o=o?r(o):[],f=n.length-1,l=i[1].length-1,!o)for(s=1;l>=s;s+=1)o[s]=0;for(s=1;l>=s;s+=1)d[s]=0;for(p=0,h=Math.min(f,l),s=1;f>=s;s+=1)g[s]=0;for(y[1]=0,s=1;2*f+h*(h+5)/2+2*l+1>=s;s+=1)v[s]=0;for(s=1;2>=s;s+=1)b[s]=0;return u(n,e,f,f,g,y,i,o,f,l,a,d,p,b,v,c),m="",1===c[1]&&(m="constraints are inconsistent, no solution!"),2===c[1]&&(m="matrix D in quadratic function is not positive definite!"),{solution:t(g),value:t(y),unconstrained_solution:t(e),iterations:t(b),iact:t(d),message:m}}n.solveQP=a}(numeric),numeric.svd=function(n){function r(n,r){return n=Math.abs(n),r=Math.abs(r),n>r?n*Math.sqrt(1+r*r/n/n):0==r?n:r*Math.sqrt(1+n*n/r/r)}var t,e=numeric.epsilon,i=1e-64/e,o=50,u=0,a=0,c=0,s=0,f=0,l=numeric.clone(n),p=l.length,h=l[0].length;if(h>p)throw"Need more rows than columns";var m=new Array(h),y=new Array(h);for(a=0;h>a;a++)m[a]=y[a]=0;var d=numeric.rep([h,h],0),g=0,v=0,b=0,x=0,w=0,_=0,S=0;for(a=0;h>a;a++){for(m[a]=v,S=0,f=a+1,c=a;p>c;c++)S+=l[c][a]*l[c][a];if(i>=S)v=0;else for(g=l[a][a],v=Math.sqrt(S),g>=0&&(v=-v),b=g*v-S,l[a][a]=g-v,c=f;h>c;c++){for(S=0,s=a;p>s;s++)S+=l[s][a]*l[s][c];for(g=S/b,s=a;p>s;s++)l[s][c]+=g*l[s][a]}for(y[a]=v,S=0,c=f;h>c;c++)S+=l[a][c]*l[a][c];if(i>=S)v=0;else{for(g=l[a][a+1],v=Math.sqrt(S),g>=0&&(v=-v),b=g*v-S,l[a][a+1]=g-v,c=f;h>c;c++)m[c]=l[a][c]/b;for(c=f;p>c;c++){for(S=0,s=f;h>s;s++)S+=l[c][s]*l[a][s];for(s=f;h>s;s++)l[c][s]+=S*m[s]}}w=Math.abs(y[a])+Math.abs(m[a]),w>x&&(x=w)}for(a=h-1;-1!=a;a+=-1){if(0!=v){for(b=v*l[a][a+1],c=f;h>c;c++)d[c][a]=l[a][c]/b;for(c=f;h>c;c++){for(S=0,s=f;h>s;s++)S+=l[a][s]*d[s][c];for(s=f;h>s;s++)d[s][c]+=S*d[s][a]}}for(c=f;h>c;c++)d[a][c]=0,d[c][a]=0;d[a][a]=1,v=m[a],f=a}for(a=h-1;-1!=a;a+=-1){for(f=a+1,v=y[a],c=f;h>c;c++)l[a][c]=0;if(0!=v){for(b=l[a][a]*v,c=f;h>c;c++){for(S=0,s=f;p>s;s++)S+=l[s][a]*l[s][c];for(g=S/b,s=a;p>s;s++)l[s][c]+=g*l[s][a]}for(c=a;p>c;c++)l[c][a]=l[c][a]/v}else for(c=a;p>c;c++)l[c][a]=0;l[a][a]+=1}for(e*=x,s=h-1;-1!=s;s+=-1)for(var E=0;o>E;E++){var j=!1;for(f=s;-1!=f;f+=-1){if(Math.abs(m[f])<=e){j=!0;break}if(Math.abs(y[f-1])<=e)break}if(!j){u=0,S=1;var k=f-1;for(a=f;s+1>a&&(g=S*m[a],m[a]=u*m[a],!(Math.abs(g)<=e));a++)for(v=y[a],b=r(g,v),y[a]=b,u=v/b,S=-g/b,c=0;p>c;c++)w=l[c][k],_=l[c][a],l[c][k]=w*u+_*S,l[c][a]=-w*S+_*u}if(_=y[s],f==s){if(0>_)for(y[s]=-_,c=0;h>c;c++)d[c][s]=-d[c][s];break}if(E>=o-1)throw"Error: no convergence.";for(x=y[f],w=y[s-1],v=m[s-1],b=m[s],g=((w-_)*(w+_)+(v-b)*(v+b))/(2*b*w),v=r(g,1),g=0>g?((x-_)*(x+_)+b*(w/(g-v)-b))/x:((x-_)*(x+_)+b*(w/(g+v)-b))/x,u=1,S=1,a=f+1;s+1>a;a++){for(v=m[a],w=y[a],b=S*v,v=u*v,_=r(g,b),m[a-1]=_,u=g/_,S=b/_,g=x*u+v*S,v=-x*S+v*u,b=w*S,w*=u,c=0;h>c;c++)x=d[c][a-1],_=d[c][a],d[c][a-1]=x*u+_*S,d[c][a]=-x*S+_*u;for(_=r(g,b),y[a-1]=_,u=g/_,S=b/_,g=u*v+S*w,x=-S*v+u*w,c=0;p>c;c++)w=l[c][a-1],_=l[c][a],l[c][a-1]=w*u+_*S,l[c][a]=-w*S+_*u}m[f]=0,m[s]=g,y[s]=x}for(a=0;a<y.length;a++)y[a]<e&&(y[a]=0);for(a=0;h>a;a++)for(c=a-1;c>=0;c--)if(y[c]<y[a]){for(u=y[c],y[c]=y[a],y[a]=u,s=0;s<l.length;s++)t=l[s][a],l[s][a]=l[s][c],l[s][c]=t;for(s=0;s<d.length;s++)t=d[s][a],d[s][a]=d[s][c],d[s][c]=t;a=c}return{U:l,S:y,V:d}}}).call(exports,function(){return this}())},function(n,r,t){(function(n,e){function i(n,t){var e={seen:[],stylize:u};return arguments.length>=3&&(e.depth=arguments[2]),arguments.length>=4&&(e.colors=arguments[3]),y(t)?e.showHidden=t:t&&r._extend(e,t),w(e.showHidden)&&(e.showHidden=!1),w(e.depth)&&(e.depth=2),w(e.colors)&&(e.colors=!1),w(e.customInspect)&&(e.customInspect=!0),e.colors&&(e.stylize=o),c(e,n,e.depth)}function o(n,r){var t=i.styles[r];return t?"["+i.colors[t][0]+"m"+n+"["+i.colors[t][1]+"m":n}function u(n){return n}function a(n){var r={};return n.forEach(function(n){r[n]=!0}),r}function c(n,t,e){if(n.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(e,n);return b(i)||(i=c(n,i,e)),i}var o=s(n,t);if(o)return o;var u=Object.keys(t),y=a(u);if(n.showHidden&&(u=Object.getOwnPropertyNames(t)),j(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(t);if(0===u.length){if(k(t)){var d=t.name?": "+t.name:"";return n.stylize("[Function"+d+"]","special")}if(_(t))return n.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return n.stylize(Date.prototype.toString.call(t),"date");if(j(t))return f(t)}var g="",v=!1,x=["{","}"];if(m(t)&&(v=!0,x=["[","]"]),k(t)){var w=t.name?": "+t.name:"";g=" [Function"+w+"]"}if(_(t)&&(g=" "+RegExp.prototype.toString.call(t)),E(t)&&(g=" "+Date.prototype.toUTCString.call(t)),j(t)&&(g=" "+f(t)),0===u.length&&(!v||0==t.length))return x[0]+g+x[1];if(0>e)return _(t)?n.stylize(RegExp.prototype.toString.call(t),"regexp"):n.stylize("[Object]","special");n.seen.push(t);var S;return S=v?l(n,t,e,y,u):u.map(function(r){return p(n,t,e,y,r,v)}),n.seen.pop(),h(S,g,x)}function s(n,r){if(w(r))return n.stylize("undefined","undefined");if(b(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}return v(r)?n.stylize(""+r,"number"):y(r)?n.stylize(""+r,"boolean"):d(r)?n.stylize("null","null"):void 0}function f(n){return"["+Error.prototype.toString.call(n)+"]"}function l(n,r,t,e,i){for(var o=[],u=0,a=r.length;a>u;++u)o.push(O(r,String(u))?p(n,r,t,e,String(u),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(n,r,t,e,i,!0))}),o}function p(n,r,t,e,i,o){var u,a,s;if(s=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},s.get?a=s.set?n.stylize("[Getter/Setter]","special"):n.stylize("[Getter]","special"):s.set&&(a=n.stylize("[Setter]","special")),O(e,i)||(u="["+i+"]"),a||(n.seen.indexOf(s.value)<0?(a=d(t)?c(n,s.value,null):c(n,s.value,t-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(n){return"  "+n}).join("\n").substr(2):"\n"+a.split("\n").map(function(n){return"   "+n}).join("\n"))):a=n.stylize("[Circular]","special")),w(u)){if(o&&i.match(/^\d+$/))return a;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=n.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=n.stylize(u,"string"))}return u+": "+a}function h(n,r,t){var e=0,i=n.reduce(function(n,r){return e++,r.indexOf("\n")>=0&&e++,n+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+n.join(",\n  ")+" "+t[1]:t[0]+r+" "+n.join(", ")+" "+t[1]}function m(n){return Array.isArray(n)}function y(n){return"boolean"==typeof n}function d(n){return null===n}function g(n){return null==n}function v(n){return"number"==typeof n}function b(n){return"string"==typeof n}function x(n){return"symbol"==typeof n}function w(n){return void 0===n}function _(n){return S(n)&&"[object RegExp]"===C(n)}function S(n){return"object"==typeof n&&null!==n}function E(n){return S(n)&&"[object Date]"===C(n)}function j(n){return S(n)&&("[object Error]"===C(n)||n instanceof Error)}function k(n){return"function"==typeof n}function M(n){return null===n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"symbol"==typeof n||"undefined"==typeof n}function C(n){return Object.prototype.toString.call(n)}function A(n){return 10>n?"0"+n.toString(10):n.toString(10)}function D(){var n=new Date,r=[A(n.getHours()),A(n.getMinutes()),A(n.getSeconds())].join(":");return[n.getDate(),P[n.getMonth()],r].join(" ")}function O(n,r){return Object.prototype.hasOwnProperty.call(n,r)}var I=/%[sdj%]/g;r.format=function(n){if(!b(n)){for(var r=[],t=0;t<arguments.length;t++)r.push(i(arguments[t]));return r.join(" ")}for(var t=1,e=arguments,o=e.length,u=String(n).replace(I,function(n){if("%%"===n)return"%";if(t>=o)return n;switch(n){case"%s":return String(e[t++]);case"%d":return Number(e[t++]);case"%j":try{return JSON.stringify(e[t++])}catch(r){return"[Circular]"}default:return n}}),a=e[t];o>t;a=e[++t])u+=d(a)||!S(a)?" "+a:" "+i(a);return u},r.deprecate=function(t,i){function o(){if(!u){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),u=!0}return t.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var u=!1;return o};var T,L={};r.debuglog=function(n){if(w(T)&&(T=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!L[n])if(new RegExp("\\b"+n+"\\b","i").test(T)){var t=e.pid;L[n]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",n,t,e)}}else L[n]=function(){};return L[n]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=m,r.isBoolean=y,r.isNull=d,r.isNullOrUndefined=g,r.isNumber=v,r.isString=b,r.isSymbol=x,r.isUndefined=w,r.isRegExp=_,r.isObject=S,r.isDate=E,r.isError=j,r.isFunction=k,r.isPrimitive=M,r.isBuffer=t(28);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",D(),r.format.apply(r,arguments))},r.inherits=t(30),r._extend=function(n,r){if(!r||!S(r))return n;for(var t=Object.keys(r),e=t.length;e--;)n[t[e]]=r[t[e]];return n}}).call(r,function(){return this}(),t(29))},function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}},function(n){n.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}},function(n){function r(){if(!o){o=!0;for(var n,r=i.length;r;){n=i,i=[];for(var t=-1;++t<r;)n[t]();r=i.length}o=!1}}function t(){}var e=n.exports={},i=[],o=!1;e.nextTick=function(n){i.push(n),o||setTimeout(r,0)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=t,e.addListener=t,e.once=t,e.off=t,e.removeListener=t,e.removeAllListeners=t,e.emit=t,e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(n){n.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var t=function(){};t.prototype=r.prototype,n.prototype=new t,n.prototype.constructor=n}}]);